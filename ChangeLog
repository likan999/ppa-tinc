------------------------------------------------------------------------
r1510 | guus | 2007-05-16 16:46:25 +0200 (wo, 16 mei 2007) | 2 lines

Don't free struct addrinfo too early. Spotted by Christian Cier-Zniewski.

------------------------------------------------------------------------
r1509 | guus | 2007-05-16 16:42:41 +0200 (wo, 16 mei 2007) | 2 lines

Update dutch translation.

------------------------------------------------------------------------
r1508 | guus | 2007-05-16 16:42:08 +0200 (wo, 16 mei 2007) | 2 lines

Make sure connection->name is never NULL.

------------------------------------------------------------------------
r1507 | guus | 2007-05-14 11:21:09 +0200 (ma, 14 mei 2007) | 2 lines

Apply patch from "dnk" making sockets non-blocking under Windows.

------------------------------------------------------------------------
r1500 | guus | 2007-02-14 10:32:16 +0100 (wo, 14 feb 2007) | 2 lines

Close the proper filedescriptor (if it exists).

------------------------------------------------------------------------
r1499 | guus | 2007-02-14 10:21:34 +0100 (wo, 14 feb 2007) | 2 lines

Apply patch from Scott Lamb fixing some memory and resource leaks.

------------------------------------------------------------------------
r1498 | guus | 2007-02-14 10:20:20 +0100 (wo, 14 feb 2007) | 2 lines

Apply patch from Scott Lamb preventing an infinite loop when sending SIGALRM.

------------------------------------------------------------------------
r1497 | guus | 2007-01-05 16:03:07 +0100 (vr, 05 jan 2007) | 2 lines

Releasing 1.0.7.

------------------------------------------------------------------------
r1496 | guus | 2007-01-05 14:18:36 +0100 (vr, 05 jan 2007) | 2 lines

Update copyright notices.

------------------------------------------------------------------------
r1495 | guus | 2007-01-05 14:17:33 +0100 (vr, 05 jan 2007) | 2 lines

No things to do for the 1.0 branch except bugfixing.

------------------------------------------------------------------------
r1494 | guus | 2007-01-05 06:44:01 +0100 (vr, 05 jan 2007) | 2 lines

rename() cannot replace existing files on Windows.

------------------------------------------------------------------------
r1493 | guus | 2007-01-05 05:49:02 +0100 (vr, 05 jan 2007) | 4 lines

Fix generic BSD tun device to write only the actual packet length.
Due to a copy&paste bug, it tried to write a packet with the maximum size.
This was not a problem until the maximum size was increased to support VLANs.

------------------------------------------------------------------------
r1492 | guus | 2007-01-04 16:28:36 +0100 (do, 04 jan 2007) | 2 lines

Tapreader socket should be bound to localhost only.

------------------------------------------------------------------------
r1491 | guus | 2007-01-03 19:18:54 +0100 (wo, 03 jan 2007) | 5 lines

Use a ringbuffer in shared memory to transfer packets from the tapreader thread to the main thread.
It's a wonder it ever worked before. The socket that is created is not of a
datagram type, therefore packet boundaries were not preserved, which becomes
a problem as soon as the TAP-Win32 device receives packets in fast succession.

------------------------------------------------------------------------
r1490 | guus | 2006-12-18 18:38:05 +0100 (ma, 18 dec 2006) | 2 lines

Releasing 1.0.6.

------------------------------------------------------------------------
r1489 | guus | 2006-12-18 12:41:53 +0100 (ma, 18 dec 2006) | 2 lines

Prevent compiler warnings about redefinition of EAI_FAMILY on FreeBSD 6.1.

------------------------------------------------------------------------
r1488 | guus | 2006-12-16 17:53:58 +0100 (za, 16 dec 2006) | 2 lines

Do a simple test for linux/if_tun.h instead of no test at all.

------------------------------------------------------------------------
r1487 | guus | 2006-12-16 17:40:09 +0100 (za, 16 dec 2006) | 5 lines

Remove the test for linux/if_tun.h.
It has been available for years on any decent Linux distribution.
Although linux/if_tun.h is now required to compile tinc,
you can still run it on systems which only support Ethertap.

------------------------------------------------------------------------
r1486 | guus | 2006-12-16 17:34:04 +0100 (za, 16 dec 2006) | 2 lines

We do properly check for malloc and realloc.

------------------------------------------------------------------------
r1485 | guus | 2006-12-16 17:26:57 +0100 (za, 16 dec 2006) | 2 lines

Use standard autoconf macros instead of our own.

------------------------------------------------------------------------
r1484 | guus | 2006-12-16 17:26:08 +0100 (za, 16 dec 2006) | 2 lines

Fix rule that creates html version of manpages.

------------------------------------------------------------------------
r1483 | guus | 2006-12-15 21:44:33 +0100 (vr, 15 dec 2006) | 2 lines

Remove old Spanish translation.

------------------------------------------------------------------------
r1482 | guus | 2006-12-15 21:43:39 +0100 (vr, 15 dec 2006) | 2 lines

Remove unnecessary stuff from configure.in.

------------------------------------------------------------------------
r1476 | guus | 2006-12-12 15:54:39 +0100 (di, 12 dec 2006) | 2 lines

Use the correct next pointer.

------------------------------------------------------------------------
r1475 | guus | 2006-12-12 15:49:09 +0100 (di, 12 dec 2006) | 2 lines

When building the minimum spanning tree, make sure we start from a reachable node.

------------------------------------------------------------------------
r1474 | guus | 2006-11-29 18:18:39 +0100 (wo, 29 nov 2006) | 2 lines

Search for lzo/lzo1x.h, lzo2/lzo1x.h and lzo1x.h.

------------------------------------------------------------------------
r1473 | guus | 2006-11-29 17:57:46 +0100 (wo, 29 nov 2006) | 2 lines

Make sure resolved addressed for outgoing connections are freed, if there are any.

------------------------------------------------------------------------
r1472 | guus | 2006-11-14 16:43:28 +0100 (di, 14 nov 2006) | 2 lines

Releasing 1.0.5.

------------------------------------------------------------------------
r1471 | guus | 2006-11-14 13:28:04 +0100 (di, 14 nov 2006) | 2 lines

EWOULDBLOCK does not exist on platforms without O_NONBLOCK

------------------------------------------------------------------------
r1470 | guus | 2006-11-11 23:45:45 +0100 (za, 11 nov 2006) | 2 lines

When deleting an entire tree, start at head, not at root.

------------------------------------------------------------------------
r1469 | guus | 2006-11-11 23:44:15 +0100 (za, 11 nov 2006) | 1 line

Nodes use events, so event system should be initialised first and destroyed last.
------------------------------------------------------------------------
r1468 | guus | 2006-11-11 22:37:22 +0100 (za, 11 nov 2006) | 2 lines

Update Dutch translation.

------------------------------------------------------------------------
r1467 | guus | 2006-11-11 21:37:58 +0100 (za, 11 nov 2006) | 2 lines

Document GraphDumpFile option.

------------------------------------------------------------------------
r1466 | guus | 2006-11-11 21:10:46 +0100 (za, 11 nov 2006) | 2 lines

Support and autodetect LZO version 2.0 and later.

------------------------------------------------------------------------
r1465 | guus | 2006-11-11 21:06:14 +0100 (za, 11 nov 2006) | 2 lines

Support and autodetect LZO version 2.0 and later.

------------------------------------------------------------------------
r1464 | guus | 2006-11-11 15:37:03 +0100 (za, 11 nov 2006) | 2 lines

popen() requires pclose().

------------------------------------------------------------------------
r1463 | guus | 2006-11-11 15:11:16 +0100 (za, 11 nov 2006) | 2 lines

Added graph dumping ability based on Markus Goetz's patch.

------------------------------------------------------------------------
r1462 | guus | 2006-11-11 14:43:00 +0100 (za, 11 nov 2006) | 2 lines

The "active" bit in node.status is not used.

------------------------------------------------------------------------
r1461 | guus | 2006-08-10 00:31:10 +0200 (do, 10 aug 2006) | 3 lines

memcpy() addresses from packet headers before calling the lookup functions.
This probably fixes a problem on the ARM architecture that causes tinc to fail to lookup IPv4 addresses.

------------------------------------------------------------------------
r1460 | guus | 2006-08-08 15:50:58 +0200 (di, 08 aug 2006) | 2 lines

Remove unused variable.

------------------------------------------------------------------------
r1459 | guus | 2006-08-08 15:44:37 +0200 (di, 08 aug 2006) | 2 lines

Remove unused parameter from maskcmp().

------------------------------------------------------------------------
r1458 | guus | 2006-08-08 15:44:19 +0200 (di, 08 aug 2006) | 2 lines

Remove unused variables.

------------------------------------------------------------------------
r1457 | guus | 2006-08-08 15:29:17 +0200 (di, 08 aug 2006) | 2 lines

Fix format string warnings.

------------------------------------------------------------------------
r1456 | guus | 2006-08-08 15:21:08 +0200 (di, 08 aug 2006) | 2 lines

Do not break strict aliasing of status_t structs.

------------------------------------------------------------------------
r1455 | guus | 2006-06-12 23:45:39 +0200 (ma, 12 jun 2006) | 3 lines

Add generic host-up and host-down scripts.
Thanks to Menno Smits for a patch.

------------------------------------------------------------------------
r1454 | guus | 2006-06-11 20:53:27 +0200 (zo, 11 jun 2006) | 3 lines

Use memcpy() to copy sockaddrs returned by getaddrinfo().
Thanks to Miles Nordin for spotting this.

------------------------------------------------------------------------
r1453 | guus | 2006-04-26 18:29:47 +0200 (wo, 26 apr 2006) | 2 lines

Restore length of the original packet in send_udppacket().

------------------------------------------------------------------------
r1452 | guus | 2006-04-26 15:52:58 +0200 (wo, 26 apr 2006) | 2 lines

Update copyright notices, remove Ivo's email address.

------------------------------------------------------------------------
r1451 | guus | 2006-04-12 10:38:35 +0200 (wo, 12 apr 2006) | 3 lines

Fix a bug in handling prefixlengths that are not a multiple of 4.
Thanks to Sven-Haegar Koch for spotting the bug and providing the fix.

------------------------------------------------------------------------
r1450 | guus | 2006-03-19 14:06:21 +0100 (zo, 19 mrt 2006) | 2 lines

Fix signedness compiler warnings.

------------------------------------------------------------------------
r1449 | guus | 2006-03-19 13:43:45 +0100 (zo, 19 mrt 2006) | 2 lines

Export flush_meta().

------------------------------------------------------------------------
r1448 | guus | 2006-03-19 13:43:28 +0100 (zo, 19 mrt 2006) | 2 lines

Missing #include.

------------------------------------------------------------------------
r1447 | guus | 2006-02-06 13:30:51 +0100 (ma, 06 feb 2006) | 2 lines

Make sure $NAME is set correctly when executing tinc-down script.

------------------------------------------------------------------------
r1446 | guus | 2006-01-19 18:13:18 +0100 (do, 19 jan 2006) | 4 lines

Apply patch from Scott Lamb adding an output buffer for the TCP sockets.
This helps coalescing multiple send_meta() commands into one TCP packet.
Also limit the size of the output buffer before dropping PACKETs.

------------------------------------------------------------------------
r1445 | guus | 2006-01-13 12:21:59 +0100 (vr, 13 jan 2006) | 2 lines

Apply patch from Scott Lamb unifying configuration of TCP socket options.

------------------------------------------------------------------------
r1444 | guus | 2006-01-13 12:09:19 +0100 (vr, 13 jan 2006) | 2 lines

EVP_Cleanup() when quitting.

------------------------------------------------------------------------
r1443 | guus | 2005-11-16 11:45:11 +0100 (wo, 16 nov 2005) | 2 lines

Enable OpenSSL ENGINE, so crypto hardware gets used. Thanks to Andreas van Cranenburgh.

------------------------------------------------------------------------
r1442 | guus | 2005-06-03 12:56:02 +0200 (vr, 03 jun 2005) | 2 lines

Add alloca.h to the list of necessary header files.

------------------------------------------------------------------------
r1441 | guus | 2005-06-03 12:16:03 +0200 (vr, 03 jun 2005) | 3 lines

Prevent possible buffer overflows when using very large (>= 8192 bit) RSA keys.
Thanks to Tonnerre Lombard for noticing!

------------------------------------------------------------------------
r1440 | guus | 2005-05-04 21:38:28 +0200 (wo, 04 mei 2005) | 2 lines

Releasing 1.0.4.

------------------------------------------------------------------------
r1439 | guus | 2005-05-04 20:09:30 +0200 (wo, 04 mei 2005) | 2 lines

Update copyright notices.

------------------------------------------------------------------------
r1438 | guus | 2005-05-04 18:53:11 +0200 (wo, 04 mei 2005) | 2 lines

Describe subnet-up/down scripts in documentation.

------------------------------------------------------------------------
r1437 | guus | 2005-05-04 17:56:25 +0200 (wo, 04 mei 2005) | 2 lines

Several splay tree fixes.

------------------------------------------------------------------------
r1436 | guus | 2005-05-04 17:52:55 +0200 (wo, 04 mei 2005) | 2 lines

Searching through splay trees may change the tree variable.

------------------------------------------------------------------------
r1435 | guus | 2005-05-04 17:51:45 +0200 (wo, 04 mei 2005) | 2 lines

Be on the safe side with initialisation of c->name.

------------------------------------------------------------------------
r1434 | guus | 2005-04-06 22:43:37 +0200 (wo, 06 apr 2005) | 2 lines

Remove unused (and potentially segfaulting) net2str() call.

------------------------------------------------------------------------
r1433 | guus | 2005-01-20 16:14:25 +0100 (do, 20 jan 2005) | 2 lines

Don't try to add a non-existing node back to the node_udp_tree.

------------------------------------------------------------------------
r1429 | guus | 2005-01-04 23:19:56 +0100 (di, 04 jan 2005) | 2 lines

Nodes should only be in the node_udp_tree if they are reachable.

------------------------------------------------------------------------
r1428 | guus | 2005-01-04 23:18:58 +0100 (di, 04 jan 2005) | 2 lines

Correct size argument for strncat().

------------------------------------------------------------------------
r1427 | guus | 2004-12-03 14:27:33 +0100 (vr, 03 dec 2004) | 2 lines

Use the proper free function.

------------------------------------------------------------------------
r1426 | guus | 2004-12-03 14:22:18 +0100 (vr, 03 dec 2004) | 2 lines

Free memory used by connection_t after it is deleted from the connection tree.

------------------------------------------------------------------------
r1425 | guus | 2004-12-01 22:26:51 +0100 (wo, 01 dec 2004) | 2 lines

Small fix.

------------------------------------------------------------------------
r1424 | guus | 2004-12-01 21:06:39 +0100 (wo, 01 dec 2004) | 2 lines

subnet-up/down hooks, use list_t for the todo list.

------------------------------------------------------------------------
r1423 | guus | 2004-12-01 21:06:05 +0100 (wo, 01 dec 2004) | 2 lines

subnet-up/down hooks

------------------------------------------------------------------------
r1422 | guus | 2004-11-18 21:34:48 +0100 (do, 18 nov 2004) | 2 lines

Fix splay tree code.

------------------------------------------------------------------------
r1421 | guus | 2004-11-16 20:02:54 +0100 (di, 16 nov 2004) | 2 lines

Make sure broadcast packet reach the local network interface.

------------------------------------------------------------------------
r1420 | guus | 2004-11-11 20:42:25 +0100 (do, 11 nov 2004) | 2 lines

Releasing 1.0.3.

------------------------------------------------------------------------
r1419 | guus | 2004-11-11 20:39:28 +0100 (do, 11 nov 2004) | 4 lines

Add more people who have contributed to tinc.
Remove details and sort on name;
the details were not always equally accurate and are hard to maintain.

------------------------------------------------------------------------
r1418 | guus | 2004-11-11 12:17:04 +0100 (do, 11 nov 2004) | 2 lines

Short readme about how to compile tinc from a Subversion checkout.

------------------------------------------------------------------------
r1417 | guus | 2004-11-11 00:28:32 +0100 (do, 11 nov 2004) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r1416 | guus | 2004-11-11 00:21:41 +0100 (do, 11 nov 2004) | 2 lines

Remove duplication.

------------------------------------------------------------------------
r1415 | guus | 2004-11-11 00:20:59 +0100 (do, 11 nov 2004) | 2 lines

Set BSD tuns to broadcast mode. On OpenBSD, this enables IPv6 on the tun device!

------------------------------------------------------------------------
r1414 | guus | 2004-11-10 22:57:04 +0100 (wo, 10 nov 2004) | 2 lines

Update documentation.

------------------------------------------------------------------------
r1413 | guus | 2004-11-10 22:56:31 +0100 (wo, 10 nov 2004) | 2 lines

Add BlockingTCP option, useful when using TCPOnly on slow or congested links.

------------------------------------------------------------------------
r1412 | guus | 2004-11-10 22:14:08 +0100 (wo, 10 nov 2004) | 2 lines

Support tunneling IPv6 on Solaris.

------------------------------------------------------------------------
r1411 | guus | 2004-11-10 20:36:02 +0100 (wo, 10 nov 2004) | 2 lines

Let compiler decide when to inline.

------------------------------------------------------------------------
r1410 | guus | 2004-11-10 20:34:38 +0100 (wo, 10 nov 2004) | 2 lines

Fix order of arguments for tar.

------------------------------------------------------------------------
r1409 | guus | 2004-11-10 19:11:44 +0100 (wo, 10 nov 2004) | 2 lines

Use the generic BSD tun/tap code.

------------------------------------------------------------------------
r1408 | guus | 2004-11-10 19:10:59 +0100 (wo, 10 nov 2004) | 2 lines

Missing check for NULL-pointer.

------------------------------------------------------------------------
r1407 | guus | 2004-11-09 10:51:35 +0100 (di, 09 nov 2004) | 2 lines

Hopefully this really fixes late packet handling.

------------------------------------------------------------------------
r1406 | guus | 2004-11-08 23:30:13 +0100 (ma, 08 nov 2004) | 2 lines

Fixed another bug in late packet handling.

------------------------------------------------------------------------
r1405 | guus | 2004-11-08 23:11:33 +0100 (ma, 08 nov 2004) | 2 lines

Update to make it compile again.

------------------------------------------------------------------------
r1404 | guus | 2004-11-08 23:03:28 +0100 (ma, 08 nov 2004) | 2 lines

Hoopjumping to get the default directories in the manuals properly.

------------------------------------------------------------------------
r1403 | guus | 2004-11-02 21:50:53 +0100 (di, 02 nov 2004) | 2 lines

Splay trees.

------------------------------------------------------------------------
r1402 | guus | 2004-11-01 18:05:09 +0100 (ma, 01 nov 2004) | 2 lines

Don't include .svn directory in sample configuration.

------------------------------------------------------------------------
r1401 | guus | 2004-11-01 18:04:28 +0100 (ma, 01 nov 2004) | 2 lines

Check for sys/uio.h, net/if_tun.h and net/if_tap.h

------------------------------------------------------------------------
r1400 | guus | 2004-11-01 18:02:19 +0100 (ma, 01 nov 2004) | 2 lines

static

------------------------------------------------------------------------
r1399 | guus | 2004-11-01 18:01:56 +0100 (ma, 01 nov 2004) | 2 lines

Generic device driver for *BSD and MacOS/X

------------------------------------------------------------------------
r1398 | guus | 2004-11-01 16:18:53 +0100 (ma, 01 nov 2004) | 2 lines

Support alternative tun/tap driver from http://www-user.rhrk.uni-kl.de/~nissler/tuntap/

------------------------------------------------------------------------
r1397 | guus | 2004-11-01 16:18:22 +0100 (ma, 01 nov 2004) | 2 lines

Don't let tinc service depend on NDIS component.

------------------------------------------------------------------------
r1396 | guus | 2004-11-01 16:16:12 +0100 (ma, 01 nov 2004) | 2 lines

Correct return value.

------------------------------------------------------------------------
r1395 | guus | 2004-10-01 20:26:15 +0200 (vr, 01 okt 2004) | 2 lines

Allow tinc to work with the latest TAP-Win32 driver.

------------------------------------------------------------------------
r1394 | guus | 2004-10-01 20:24:41 +0200 (vr, 01 okt 2004) | 2 lines

strndupa() is too arcane for some environments.

------------------------------------------------------------------------
r1393 | guus | 2004-10-01 20:23:08 +0200 (vr, 01 okt 2004) | 2 lines

Fix several #includes.

------------------------------------------------------------------------
r1392 | guus | 2004-10-01 20:22:06 +0200 (vr, 01 okt 2004) | 3 lines

Move all #ifdef HAVE_HEADER_H #include <header.h> to have.h,
this allows for simplification of configure.in.

------------------------------------------------------------------------
r1391 | guus | 2004-09-20 22:56:14 +0200 (ma, 20 sep 2004) | 2 lines

Remove duplicate #include "system.h"

------------------------------------------------------------------------
r1390 | guus | 2004-09-20 22:55:49 +0200 (ma, 20 sep 2004) | 2 lines

Marking potential late packets was in the wrong place.

------------------------------------------------------------------------
r1389 | guus | 2004-07-17 14:04:30 +0200 (za, 17 jul 2004) | 2 lines

Don't set $INTERFACE automatically, don't quit on EINTR/EAGAIN.

------------------------------------------------------------------------
r1388 | guus | 2004-07-17 02:09:14 +0200 (za, 17 jul 2004) | 3 lines

Added UML network socket handling.
Now you can use tinc instead of uml_switch.

------------------------------------------------------------------------
r1387 | guus | 2004-06-21 16:37:52 +0200 (ma, 21 jun 2004) | 2 lines

Handle timeouts during connecting the same way as other errors.

------------------------------------------------------------------------
r1386 | guus | 2004-06-14 16:32:10 +0200 (ma, 14 jun 2004) | 2 lines

Clean up environment after executing scripts.

------------------------------------------------------------------------
r1382 | guus | 2004-04-15 16:09:56 +0200 (do, 15 apr 2004) | 2 lines

Increase MTU by 4 bytes to allow VLAN tagged Ethernet frames in hub and switch mode.

------------------------------------------------------------------------
r1374 | guus | 2004-03-21 15:21:22 +0100 (zo, 21 mrt 2004) | 2 lines

Update copyrights, links, email addresses and let Subversion update $Id$ keywords.

------------------------------------------------------------------------
r1373 | guus | 2004-03-21 14:22:24 +0100 (zo, 21 mrt 2004) | 2 lines

Move CABAL branch to its rightful place: the trunk.

------------------------------------------------------------------------
r1371 | guus | 2004-03-20 23:23:42 +0100 (za, 20 mrt 2004) | 2 lines

Revert Martin Kihlgren's patch, it doesn't work the way it should.

------------------------------------------------------------------------
r1370 | guus | 2004-03-20 16:40:26 +0100 (za, 20 mrt 2004) | 2 lines

Use Subversion to create ChangeLog, better svn-clean rule.

------------------------------------------------------------------------
r1369 | guus | 2004-03-20 16:33:07 +0100 (za, 20 mrt 2004) | 2 lines

Fix declaration of update_node_address().

------------------------------------------------------------------------
r1368 | guus | 2004-03-20 16:28:55 +0100 (za, 20 mrt 2004) | 3 lines

Applied Martin Kihlgren's IdentityGenerosity patch,
simplified and renamed to StrictSource.

------------------------------------------------------------------------
r1365 | guus | 2004-03-15 20:09:52 +0100 (ma, 15 mrt 2004) | 2 lines

Even better svn-clean command.

------------------------------------------------------------------------
r1362 | guus | 2004-03-15 19:36:14 +0100 (ma, 15 mrt 2004) | 2 lines

Updating dutch translation.

------------------------------------------------------------------------
r1361 | guus | 2004-03-15 19:15:02 +0100 (ma, 15 mrt 2004) | 2 lines

Only read our public key if it wasn't already in the private key file.

------------------------------------------------------------------------
r1360 | guus | 2004-03-15 19:05:41 +0100 (ma, 15 mrt 2004) | 2 lines

Eat trailing whitespace in config files.

------------------------------------------------------------------------
r1359 | guus | 2004-03-15 18:54:19 +0100 (ma, 15 mrt 2004) | 2 lines

Remove CVS related cruft.

------------------------------------------------------------------------
r1358 | guus | 2004-03-15 18:53:17 +0100 (ma, 15 mrt 2004) | 2 lines

Replace cvs-clean with a much better svn-clean.

------------------------------------------------------------------------
r1352 | guus | 2004-01-11 00:21:36 +0100 (zo, 11 jan 2004) | 3 lines

Remove autogen.sh, the autoreconf program does exactly that.
Update everything for the latest autoconf and automake versions.

------------------------------------------------------------------------
r1351 | guus | 2004-01-11 00:19:20 +0100 (zo, 11 jan 2004) | 2 lines

Small updates.

------------------------------------------------------------------------
r1350 | guus | 2003-12-27 17:32:52 +0100 (za, 27 dec 2003) | 2 lines

Don't forget to update destination MAC address.

------------------------------------------------------------------------
r1349 | guus | 2003-12-24 11:48:15 +0100 (wo, 24 dec 2003) | 2 lines

Small fixes for PMTU discovery.

------------------------------------------------------------------------
r1348 | guus | 2003-12-22 12:05:23 +0100 (ma, 22 dec 2003) | 2 lines

Missing definitions.

------------------------------------------------------------------------
r1347 | guus | 2003-12-22 12:04:17 +0100 (ma, 22 dec 2003) | 2 lines

Improvements for PMTU discovery and IPv4 packet fragmentation.

------------------------------------------------------------------------
r1346 | guus | 2003-12-20 22:25:17 +0100 (za, 20 dec 2003) | 2 lines

Better name, show probed MTU in dump.

------------------------------------------------------------------------
r1345 | guus | 2003-12-20 22:20:10 +0100 (za, 20 dec 2003) | 2 lines

Describe the TunnelServer and PMTUDiscovery options.

------------------------------------------------------------------------
r1344 | guus | 2003-12-20 22:09:33 +0100 (za, 20 dec 2003) | 2 lines

More sensible name, and try to set PMTU discovery on IPv6 sockets as well.

------------------------------------------------------------------------
r1343 | guus | 2003-12-20 20:47:53 +0100 (za, 20 dec 2003) | 2 lines

Let tinc figure out the exact MTU of the link.

------------------------------------------------------------------------
r1342 | guus | 2003-12-13 22:50:26 +0100 (za, 13 dec 2003) | 2 lines

Forget multicast. Always inline some function.

------------------------------------------------------------------------
r1341 | guus | 2003-12-12 20:52:25 +0100 (vr, 12 dec 2003) | 2 lines

Code beautification, start of multicast support.

------------------------------------------------------------------------
r1340 | guus | 2003-12-08 13:00:40 +0100 (ma, 08 dec 2003) | 2 lines

Fix proxy-neighborsolicitation.

------------------------------------------------------------------------
r1339 | guus | 2003-12-07 15:31:09 +0100 (zo, 07 dec 2003) | 2 lines

Don't retry if configuration is wrong from the beginning.

------------------------------------------------------------------------
r1338 | guus | 2003-12-07 15:29:02 +0100 (zo, 07 dec 2003) | 2 lines

Missing space between words.

------------------------------------------------------------------------
r1337 | guus | 2003-12-07 15:28:39 +0100 (zo, 07 dec 2003) | 2 lines

Read MaxTimeout from tinc.conf like the manpage says.

------------------------------------------------------------------------
r1336 | guus | 2003-11-28 00:24:59 +0100 (vr, 28 nov 2003) | 2 lines

Complain if pid file cannot be created.

------------------------------------------------------------------------
r1335 | guus | 2003-11-17 16:30:18 +0100 (ma, 17 nov 2003) | 2 lines

Replace Opaque and Strict options with a TunnelServer option.

------------------------------------------------------------------------
r1334 | guus | 2003-11-10 23:31:53 +0100 (ma, 10 nov 2003) | 2 lines

Add Opaque option which prevent information from being forwarded to certain nodes.

------------------------------------------------------------------------
r1332 | guus | 2003-11-08 16:29:40 +0100 (za, 08 nov 2003) | 2 lines

Release notes for 1.0.2

------------------------------------------------------------------------
r1331 | guus | 2003-11-08 16:09:03 +0100 (za, 08 nov 2003) | 2 lines

Add missing definitions.

------------------------------------------------------------------------
r1330 | guus | 2003-11-08 13:56:24 +0100 (za, 08 nov 2003) | 2 lines

Update dutch translation.

------------------------------------------------------------------------
r1329 | guus | 2003-10-12 13:40:00 +0200 (zo, 12 okt 2003) | 2 lines

Fix another bug in meta.c.

------------------------------------------------------------------------
r1328 | guus | 2003-10-11 16:42:30 +0200 (za, 11 okt 2003) | 2 lines

Small fixes in documentation.

------------------------------------------------------------------------
r1327 | guus | 2003-10-11 16:18:52 +0200 (za, 11 okt 2003) | 3 lines

Fix bug that could lead to an assertion failure in libcrypto when multiple
requests arrive and TCP packets are heavily fragmented.

------------------------------------------------------------------------
r1326 | guus | 2003-10-11 14:28:48 +0200 (za, 11 okt 2003) | 2 lines

Parentheses in the wrong spots.

------------------------------------------------------------------------
r1325 | guus | 2003-10-11 14:16:13 +0200 (za, 11 okt 2003) | 2 lines

Check all EVP_ function calls.

------------------------------------------------------------------------
r1324 | guus | 2003-10-10 18:24:24 +0200 (vr, 10 okt 2003) | 3 lines

Check return value of EVP_* functions, and check if length before en/decryption
matches that after in meta.c.

------------------------------------------------------------------------
r1323 | guus | 2003-10-10 18:23:30 +0200 (vr, 10 okt 2003) | 2 lines

Fix ASCII art.

------------------------------------------------------------------------
r1322 | guus | 2003-10-09 23:33:15 +0200 (do, 09 okt 2003) | 2 lines

Update documentation.

------------------------------------------------------------------------
r1321 | guus | 2003-10-08 14:09:37 +0200 (wo, 08 okt 2003) | 2 lines

Some platforms don't know sa_family_t or define it other than uint16_t.

------------------------------------------------------------------------
r1320 | guus | 2003-10-08 13:37:53 +0200 (wo, 08 okt 2003) | 2 lines

Set media status for newer TAP-Win32 driver.

------------------------------------------------------------------------
r1319 | guus | 2003-10-08 13:37:20 +0200 (wo, 08 okt 2003) | 2 lines

Missing declaration.

------------------------------------------------------------------------
r1318 | guus | 2003-10-08 13:34:55 +0200 (wo, 08 okt 2003) | 2 lines

Update missing definitions, structs describing headers get __packed__ attribute.

------------------------------------------------------------------------
r1317 | guus | 2003-10-08 13:33:54 +0200 (wo, 08 okt 2003) | 2 lines

Forgot to #include "xalloc.h"

------------------------------------------------------------------------
r1316 | guus | 2003-10-06 18:49:42 +0200 (ma, 06 okt 2003) | 2 lines

Make sure type of AF_UNKNOWN is sa_family_t.

------------------------------------------------------------------------
r1315 | guus | 2003-10-06 18:13:08 +0200 (ma, 06 okt 2003) | 2 lines

PIDs are of type pid_t, and use %ld when reading/writing them to the pidfile.

------------------------------------------------------------------------
r1314 | guus | 2003-10-06 18:05:30 +0200 (ma, 06 okt 2003) | 2 lines

Use CPPFLAGS, LDFLAGS and LIBS as appropiate.

------------------------------------------------------------------------
r1313 | guus | 2003-10-06 16:41:45 +0200 (ma, 06 okt 2003) | 2 lines

Don't confuse users with "Address family not supported" warnings.

------------------------------------------------------------------------
r1312 | guus | 2003-10-06 16:33:04 +0200 (ma, 06 okt 2003) | 2 lines

Unused variable in struct.

------------------------------------------------------------------------
r1311 | guus | 2003-10-06 16:16:51 +0200 (ma, 06 okt 2003) | 2 lines

Ethernet protocol types.

------------------------------------------------------------------------
r1310 | guus | 2003-10-06 15:57:12 +0200 (ma, 06 okt 2003) | 2 lines

const

------------------------------------------------------------------------
r1309 | guus | 2003-10-06 15:49:57 +0200 (ma, 06 okt 2003) | 3 lines

Copy structs from packets to the stack before using them, to prevent
alignment issues.

------------------------------------------------------------------------
r1307 | guus | 2003-10-01 11:14:01 +0200 (wo, 01 okt 2003) | 2 lines

Better length checks.

------------------------------------------------------------------------
r1306 | guus | 2003-09-25 12:34:16 +0200 (do, 25 sep 2003) | 3 lines

Generate keys with 0x10001 as public exponent, which has less prime factors
than 0xFFFF.

------------------------------------------------------------------------
r1305 | guus | 2003-09-23 22:59:01 +0200 (di, 23 sep 2003) | 2 lines

Check for short packets from the tun/tap device and from other tinc daemons.

------------------------------------------------------------------------
r1304 | guus | 2003-09-09 17:47:59 +0200 (di, 09 sep 2003) | 2 lines

Update translations.

------------------------------------------------------------------------
r1303 | guus | 2003-09-08 23:52:47 +0200 (ma, 08 sep 2003) | 2 lines

Remove pidfile when exitting.

------------------------------------------------------------------------
r1302 | guus | 2003-09-03 18:20:33 +0200 (wo, 03 sep 2003) | 2 lines

Prevent multiple inclusions.

------------------------------------------------------------------------
r1301 | guus | 2003-08-28 23:05:11 +0200 (do, 28 aug 2003) | 2 lines

We don't have to tell GCC how to cast.

------------------------------------------------------------------------
r1300 | guus | 2003-08-28 17:27:12 +0200 (do, 28 aug 2003) | 3 lines

Remove old edges from unreachable nodes to us. This prevents the hosts/NAME-up
script from being called twice in some situations.

------------------------------------------------------------------------
r1294 | guus | 2003-08-22 23:32:45 +0200 (vr, 22 aug 2003) | 2 lines

Add license exception from Markus Oberhumer.

------------------------------------------------------------------------
r1293 | guus | 2003-08-22 17:07:57 +0200 (vr, 22 aug 2003) | 2 lines

Remove debug message.

------------------------------------------------------------------------
r1292 | guus | 2003-08-22 17:04:26 +0200 (vr, 22 aug 2003) | 2 lines

When purging nodes, only delete them if nobody references them anymore.

------------------------------------------------------------------------
r1291 | guus | 2003-08-22 17:03:59 +0200 (vr, 22 aug 2003) | 2 lines

Add checkpoints.

------------------------------------------------------------------------
r1290 | guus | 2003-08-22 17:05:01 +0200 (vr, 22 aug 2003) | 2 lines

Don't overwrite the first " when installing a service.

------------------------------------------------------------------------
r1289 | guus | 2003-08-22 13:18:42 +0200 (vr, 22 aug 2003) | 2 lines

Allow tinc to handle unknown type addresses from other tinc daemons.

------------------------------------------------------------------------
r1288 | guus | 2003-08-17 14:05:08 +0200 (zo, 17 aug 2003) | 2 lines

If we're not in main_loop() and the service is stopped, exit immediately.

------------------------------------------------------------------------
r1287 | guus | 2003-08-17 14:04:35 +0200 (zo, 17 aug 2003) | 2 lines

Do what the SDK documentation tells.

------------------------------------------------------------------------
r1286 | guus | 2003-08-17 14:03:40 +0200 (zo, 17 aug 2003) | 2 lines

Compilation fix.

------------------------------------------------------------------------
r1285 | guus | 2003-08-17 11:04:00 +0200 (zo, 17 aug 2003) | 2 lines

Use the event log under Windows.

------------------------------------------------------------------------
r1284 | guus | 2003-08-17 11:03:30 +0200 (zo, 17 aug 2003) | 2 lines

Fix --logfile under Windows.

------------------------------------------------------------------------
r1283 | guus | 2003-08-17 10:32:39 +0200 (zo, 17 aug 2003) | 2 lines

Fix fake getnameinfo() and check more arguments.

------------------------------------------------------------------------
r1282 | guus | 2003-08-16 14:40:01 +0200 (za, 16 aug 2003) | 2 lines

Don't getsockopt() SO_ERROR. We get the error from send()/recv() anyway.

------------------------------------------------------------------------
r1281 | guus | 2003-08-16 14:11:11 +0200 (za, 16 aug 2003) | 2 lines

stat() batch files under Windows.

------------------------------------------------------------------------
r1280 | guus | 2003-08-16 14:10:28 +0200 (za, 16 aug 2003) | 2 lines

Simplify fake getname/addrinfo() functions, possibly fixing freeing a NULL pointer.

------------------------------------------------------------------------
r1278 | guus | 2003-08-14 16:32:34 +0200 (do, 14 aug 2003) | 2 lines

Update.

------------------------------------------------------------------------
r1277 | guus | 2003-08-14 16:21:35 +0200 (do, 14 aug 2003) | 2 lines

Fix permissions check for rsa_key.priv.

------------------------------------------------------------------------
r1276 | guus | 2003-08-12 16:48:13 +0200 (di, 12 aug 2003) | 2 lines

Small fixes.

------------------------------------------------------------------------
r1275 | guus | 2003-08-12 14:35:53 +0200 (di, 12 aug 2003) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r1274 | guus | 2003-08-10 15:35:05 +0200 (zo, 10 aug 2003) | 2 lines

Add a description for the Service control panel.

------------------------------------------------------------------------
r1273 | guus | 2003-08-09 02:53:22 +0200 (za, 09 aug 2003) | 2 lines

Update documentation.

------------------------------------------------------------------------
r1272 | guus | 2003-08-09 00:45:46 +0200 (za, 09 aug 2003) | 2 lines

Only system() needs script name quoted.

------------------------------------------------------------------------
r1271 | guus | 2003-08-09 00:13:50 +0200 (za, 09 aug 2003) | 2 lines

Check for fchmod().

------------------------------------------------------------------------
r1270 | guus | 2003-08-09 00:11:54 +0200 (za, 09 aug 2003) | 2 lines

Simpler checking of permissions on private RSA key and other fixes.

------------------------------------------------------------------------
r1269 | guus | 2003-08-08 21:56:11 +0200 (vr, 08 aug 2003) | 2 lines

Small things.

------------------------------------------------------------------------
r1268 | guus | 2003-08-08 21:49:47 +0200 (vr, 08 aug 2003) | 2 lines

Better error checking and reporting.

------------------------------------------------------------------------
r1267 | guus | 2003-08-08 21:45:21 +0200 (vr, 08 aug 2003) | 2 lines

Under Windows, the installation directory can be found in the registry.

------------------------------------------------------------------------
r1266 | guus | 2003-08-08 21:43:47 +0200 (vr, 08 aug 2003) | 2 lines

Quote when needed and don't try stuff that doesn't work under Windows.

------------------------------------------------------------------------
r1265 | guus | 2003-08-08 21:42:35 +0200 (vr, 08 aug 2003) | 2 lines

Log error first, try to close later.

------------------------------------------------------------------------
r1264 | guus | 2003-08-08 21:39:41 +0200 (vr, 08 aug 2003) | 2 lines

Better error messages under Windows.

------------------------------------------------------------------------
r1263 | guus | 2003-08-08 19:20:12 +0200 (vr, 08 aug 2003) | 2 lines

Typo.

------------------------------------------------------------------------
r1262 | guus | 2003-08-08 19:17:13 +0200 (vr, 08 aug 2003) | 2 lines

Readd quotes.

------------------------------------------------------------------------
r1261 | guus | 2003-08-08 18:49:29 +0200 (vr, 08 aug 2003) | 2 lines

Make rule for sample-config.tar.gz.

------------------------------------------------------------------------
r1260 | guus | 2003-08-08 16:59:27 +0200 (vr, 08 aug 2003) | 2 lines

Allow empty lines in config files.

------------------------------------------------------------------------
r1259 | guus | 2003-08-08 16:48:33 +0200 (vr, 08 aug 2003) | 2 lines

Simplify execute_script(). It will probably work under Windows as well.

------------------------------------------------------------------------
r1258 | guus | 2003-08-08 16:24:09 +0200 (vr, 08 aug 2003) | 2 lines

Correct error message when remote host closed connection.

------------------------------------------------------------------------
r1257 | guus | 2003-08-08 16:07:12 +0200 (vr, 08 aug 2003) | 3 lines

Remove unused stuff from doc/.
Let configure update pathnames in documentation.

------------------------------------------------------------------------
r1253 | guus | 2003-08-08 14:55:05 +0200 (vr, 08 aug 2003) | 2 lines

Tell windows to be patient.

------------------------------------------------------------------------
r1252 | guus | 2003-08-08 14:24:52 +0200 (vr, 08 aug 2003) | 2 lines

Windows uses backslashes...

------------------------------------------------------------------------
r1251 | guus | 2003-08-08 13:45:37 +0200 (vr, 08 aug 2003) | 2 lines

Sync CABAL branch with release-1_0 branch.

------------------------------------------------------------------------
r1248 | guus | 2003-08-03 23:45:41 +0200 (zo, 03 aug 2003) | 2 lines

Use our own port when connecting to ourself.

------------------------------------------------------------------------
r1247 | guus | 2003-08-03 23:45:13 +0200 (zo, 03 aug 2003) | 2 lines

Simplify translation

------------------------------------------------------------------------
r1246 | guus | 2003-08-03 23:43:19 +0200 (zo, 03 aug 2003) | 2 lines

Update dutch translation

------------------------------------------------------------------------
r1245 | guus | 2003-08-03 14:38:43 +0200 (zo, 03 aug 2003) | 2 lines

Remove newlines from log messages.

------------------------------------------------------------------------
r1244 | guus | 2003-08-03 14:38:18 +0200 (zo, 03 aug 2003) | 2 lines

Keep Windows happy.

------------------------------------------------------------------------
r1243 | guus | 2003-08-03 14:37:55 +0200 (zo, 03 aug 2003) | 2 lines

Cygwin needs windows.h.

------------------------------------------------------------------------
r1242 | guus | 2003-08-03 11:55:20 +0200 (zo, 03 aug 2003) | 2 lines

Old gcc compilers don't like declarations in the middle of a function.

------------------------------------------------------------------------
r1241 | guus | 2003-08-03 11:08:52 +0200 (zo, 03 aug 2003) | 2 lines

Clean up last part of main().

------------------------------------------------------------------------
r1240 | guus | 2003-08-03 00:01:50 +0200 (zo, 03 aug 2003) | 2 lines

Typo and another thing to think about.

------------------------------------------------------------------------
r1239 | guus | 2003-08-02 23:55:12 +0200 (za, 02 aug 2003) | 2 lines

Explain how tinc detaches and how it is "killed" under Windows.

------------------------------------------------------------------------
r1238 | guus | 2003-08-02 23:39:11 +0200 (za, 02 aug 2003) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r1237 | guus | 2003-08-02 23:34:10 +0200 (za, 02 aug 2003) | 2 lines

Oops.

------------------------------------------------------------------------
r1236 | guus | 2003-08-02 23:33:52 +0200 (za, 02 aug 2003) | 2 lines

Missing include.

------------------------------------------------------------------------
r1235 | guus | 2003-08-02 23:33:19 +0200 (za, 02 aug 2003) | 2 lines

Cleanups and error messages.

------------------------------------------------------------------------
r1234 | guus | 2003-08-02 23:01:50 +0200 (za, 02 aug 2003) | 2 lines

Error messages.

------------------------------------------------------------------------
r1233 | guus | 2003-08-02 22:50:38 +0200 (za, 02 aug 2003) | 3 lines

Install tinc as a service under Windows (MinGW). Remove cleanup_and_exit(),
either exit() directly on errors or let main_loop() shutdown gracefully.

------------------------------------------------------------------------
r1232 | guus | 2003-08-02 18:05:33 +0200 (za, 02 aug 2003) | 2 lines

When compiling with MinGW, link with ws2_32.

------------------------------------------------------------------------
r1231 | guus | 2003-08-02 17:32:57 +0200 (za, 02 aug 2003) | 2 lines

Windows has no symbolic links as we know it.

------------------------------------------------------------------------
r1230 | guus | 2003-08-02 17:29:06 +0200 (za, 02 aug 2003) | 2 lines

Oops.

------------------------------------------------------------------------
r1229 | guus | 2003-08-02 17:27:24 +0200 (za, 02 aug 2003) | 2 lines

Allow whitespace in values.

------------------------------------------------------------------------
r1228 | guus | 2003-08-02 17:13:08 +0200 (za, 02 aug 2003) | 2 lines

Prevent system headers from including our own headers.

------------------------------------------------------------------------
r1227 | guus | 2003-08-01 10:18:22 +0200 (vr, 01 aug 2003) | 2 lines

Wrong function...

------------------------------------------------------------------------
r1226 | guus | 2003-07-31 16:24:19 +0200 (do, 31 jul 2003) | 2 lines

Woops!

------------------------------------------------------------------------
r1225 | guus | 2003-07-31 15:18:34 +0200 (do, 31 jul 2003) | 2 lines

No easy way to properly detect header files...

------------------------------------------------------------------------
r1224 | guus | 2003-07-31 13:31:51 +0200 (do, 31 jul 2003) | 2 lines

Remove forgotten braces.

------------------------------------------------------------------------
r1223 | guus | 2003-07-31 13:20:32 +0200 (do, 31 jul 2003) | 2 lines

Wrong argument.

------------------------------------------------------------------------
r1222 | guus | 2003-07-31 13:17:39 +0200 (do, 31 jul 2003) | 2 lines

Check if the compiler knows about the __malloc__ attribute.

------------------------------------------------------------------------
r1220 | guus | 2003-07-30 23:52:41 +0200 (wo, 30 jul 2003) | 2 lines

Prevent definitions from messing up attributes.

------------------------------------------------------------------------
r1219 | guus | 2003-07-30 18:00:59 +0200 (wo, 30 jul 2003) | 2 lines

Replacement for stdbool.h

------------------------------------------------------------------------
r1218 | guus | 2003-07-30 13:50:45 +0200 (wo, 30 jul 2003) | 3 lines

No C99 initialisers, gcc 2.95.3 doesn't like it.
Also make sure getopt.h is included.

------------------------------------------------------------------------
r1217 | guus | 2003-07-30 11:45:21 +0200 (wo, 30 jul 2003) | 2 lines

Remove doc/es/ and src/device.c from the distribution.

------------------------------------------------------------------------
r1216 | guus | 2003-07-30 11:22:29 +0200 (wo, 30 jul 2003) | 2 lines

Update documentation and remove stuff that's too outdated.

------------------------------------------------------------------------
r1215 | guus | 2003-07-30 01:21:01 +0200 (wo, 30 jul 2003) | 2 lines

Cleanups.

------------------------------------------------------------------------
r1214 | guus | 2003-07-30 00:59:01 +0200 (wo, 30 jul 2003) | 2 lines

Native Windows support.

------------------------------------------------------------------------
r1213 | guus | 2003-07-29 14:38:49 +0200 (di, 29 jul 2003) | 2 lines

Make sure (at least) the MinGW device driver works.

------------------------------------------------------------------------
r1212 | guus | 2003-07-29 14:18:35 +0200 (di, 29 jul 2003) | 2 lines

Make sure it works.

------------------------------------------------------------------------
r1211 | guus | 2003-07-29 13:50:39 +0200 (di, 29 jul 2003) | 2 lines

Update configure scripts.

------------------------------------------------------------------------
r1210 | guus | 2003-07-29 13:06:23 +0200 (di, 29 jul 2003) | 3 lines

Update dutch translation and make sure all device drivers are included in
the translation and distribution.

------------------------------------------------------------------------
r1209 | guus | 2003-07-29 12:50:15 +0200 (di, 29 jul 2003) | 2 lines

Fix compile errors and warnings.

------------------------------------------------------------------------
r1208 | guus | 2003-07-29 00:06:09 +0200 (di, 29 jul 2003) | 2 lines

More checks for missing functions.

------------------------------------------------------------------------
r1207 | guus | 2003-07-28 23:54:03 +0200 (ma, 28 jul 2003) | 2 lines

More generic handling of tap device under Windows.

------------------------------------------------------------------------
r1206 | guus | 2003-07-24 14:08:16 +0200 (do, 24 jul 2003) | 2 lines

Sprinkle around a lot of const and some C99 initialisers.

------------------------------------------------------------------------
r1205 | guus | 2003-07-24 00:17:31 +0200 (do, 24 jul 2003) | 2 lines

Don't initialise a CIPHER_CTX if cipher == NULL.

------------------------------------------------------------------------
r1204 | guus | 2003-07-22 23:13:23 +0200 (di, 22 jul 2003) | 2 lines

Run setup_device() after parsing configuration but before claiming we're ready.

------------------------------------------------------------------------
r1203 | guus | 2003-07-22 22:55:21 +0200 (di, 22 jul 2003) | 2 lines

Use bools and enums where appropriate.

------------------------------------------------------------------------
r1202 | guus | 2003-07-22 14:58:34 +0200 (di, 22 jul 2003) | 2 lines

Option to specify pidfile location.

------------------------------------------------------------------------
r1201 | guus | 2003-07-21 21:58:58 +0200 (ma, 21 jul 2003) | 2 lines

Add section about configuring Cygwin and CIPE on Windows.

------------------------------------------------------------------------
r1200 | guus | 2003-07-21 17:51:00 +0200 (ma, 21 jul 2003) | 2 lines

Copy cygwin driver to mingw directory. It doesn't work (yet).

------------------------------------------------------------------------
r1198 | guus | 2003-07-21 16:47:43 +0200 (ma, 21 jul 2003) | 2 lines

Use functions from logger.c

------------------------------------------------------------------------
r1197 | guus | 2003-07-21 15:18:44 +0200 (ma, 21 jul 2003) | 2 lines

Check for sys/mman.h.

------------------------------------------------------------------------
r1196 | guus | 2003-07-21 15:15:36 +0200 (ma, 21 jul 2003) | 2 lines

Oops.

------------------------------------------------------------------------
r1195 | guus | 2003-07-21 15:14:02 +0200 (ma, 21 jul 2003) | 2 lines

Be consistent.

------------------------------------------------------------------------
r1194 | guus | 2003-07-18 16:10:27 +0200 (vr, 18 jul 2003) | 2 lines

No UNIX style permissions under Windows.

------------------------------------------------------------------------
r1193 | guus | 2003-07-18 16:09:47 +0200 (vr, 18 jul 2003) | 2 lines

Oops.

------------------------------------------------------------------------
r1192 | guus | 2003-07-18 15:45:06 +0200 (vr, 18 jul 2003) | 3 lines

Use iface instead of interface because it might already be declared in
system header files.

------------------------------------------------------------------------
r1191 | guus | 2003-07-18 15:42:35 +0200 (vr, 18 jul 2003) | 2 lines

Check for ethernet/ipv4/ipv6 related structures.

------------------------------------------------------------------------
r1190 | guus | 2003-07-18 15:41:37 +0200 (vr, 18 jul 2003) | 2 lines

Update all device.c files.

------------------------------------------------------------------------
r1189 | guus | 2003-07-18 14:21:03 +0200 (vr, 18 jul 2003) | 2 lines

Remove all #ifndefs from route.c

------------------------------------------------------------------------
r1188 | guus | 2003-07-18 14:16:24 +0200 (vr, 18 jul 2003) | 2 lines

Even more missing definitions.

------------------------------------------------------------------------
r1185 | guus | 2003-07-17 17:06:27 +0200 (do, 17 jul 2003) | 3 lines

Big header file cleanup: everything that has to do with standard system
libraries is moved to system.h.

------------------------------------------------------------------------
r1184 | guus | 2003-07-15 18:38:18 +0200 (di, 15 jul 2003) | 2 lines

Windows headers declare a struct interface somewhere.

------------------------------------------------------------------------
r1183 | guus | 2003-07-15 18:27:39 +0200 (di, 15 jul 2003) | 2 lines

Make use of the CIPE driver. Woohoo, tinc for Windows!

------------------------------------------------------------------------
r1182 | guus | 2003-07-15 18:26:18 +0200 (di, 15 jul 2003) | 2 lines

Export mymac.

------------------------------------------------------------------------
r1181 | guus | 2003-07-12 22:24:04 +0200 (za, 12 jul 2003) | 2 lines

Format string checking for logger().

------------------------------------------------------------------------
r1180 | guus | 2003-07-12 22:19:22 +0200 (za, 12 jul 2003) | 2 lines

Removing distribution specific files from CVS.

------------------------------------------------------------------------
r1179 | guus | 2003-07-12 19:48:38 +0200 (za, 12 jul 2003) | 2 lines

Update copyrights.

------------------------------------------------------------------------
r1178 | guus | 2003-07-12 19:41:48 +0200 (za, 12 jul 2003) | 2 lines

Simplify logging, update copyrights and some minor cleanups.

------------------------------------------------------------------------
r1177 | guus | 2003-07-11 18:13:00 +0200 (vr, 11 jul 2003) | 3 lines

More missing IPv6 definitions and autoconf checks to make sure it compiles
under Solaris 2.6.

------------------------------------------------------------------------
r1176 | guus | 2003-07-07 13:50:52 +0200 (ma, 07 jul 2003) | 2 lines

More missing definitions.

------------------------------------------------------------------------
r1175 | guus | 2003-07-07 13:13:31 +0200 (ma, 07 jul 2003) | 2 lines

Actually add ipv6.h.

------------------------------------------------------------------------
r1174 | guus | 2003-07-07 13:11:33 +0200 (ma, 07 jul 2003) | 2 lines

Provide all missing IPv6 definitions in lib/ipv6.h.

------------------------------------------------------------------------
r1172 | guus | 2003-07-07 01:16:29 +0200 (ma, 07 jul 2003) | 2 lines

Sprinkling the source with static and attributes.

------------------------------------------------------------------------
r1171 | guus | 2003-07-07 00:11:37 +0200 (ma, 07 jul 2003) | 3 lines

Define logger(), cleans up source code and allows us to write log entries
to a separate file.

------------------------------------------------------------------------
r1168 | guus | 2003-07-06 19:49:49 +0200 (zo, 06 jul 2003) | 2 lines

Check for IPv6 header files.

------------------------------------------------------------------------
r1167 | guus | 2003-07-06 19:15:25 +0200 (zo, 06 jul 2003) | 4 lines

- simplify configure.in
- drop support for OpenSSL < 0.9.7
- add some missing definitions/includes

------------------------------------------------------------------------
r1166 | guus | 2003-06-25 22:55:05 +0200 (wo, 25 jun 2003) | 3 lines

This subtle pointer arithmetic thingy is (I'm very sure of it) the cause
of the lingering connections problem. Hopefully it is fixed now...

------------------------------------------------------------------------
r1165 | guus | 2003-06-25 22:52:59 +0200 (wo, 25 jun 2003) | 2 lines

Really make tinc default to any addressfamily.

------------------------------------------------------------------------
r1164 | guus | 2003-06-12 13:08:40 +0200 (do, 12 jun 2003) | 2 lines

There are two lzo compression levels.

------------------------------------------------------------------------
r1163 | guus | 2003-06-11 22:36:36 +0200 (wo, 11 jun 2003) | 2 lines

Typo and conversion to UTF-8.

------------------------------------------------------------------------
r1162 | guus | 2003-06-11 22:19:46 +0200 (wo, 11 jun 2003) | 2 lines

Update dutch translation.

------------------------------------------------------------------------
r1161 | guus | 2003-06-11 22:18:48 +0200 (wo, 11 jun 2003) | 2 lines

Update documentation.

------------------------------------------------------------------------
r1160 | guus | 2003-06-11 21:40:43 +0200 (wo, 11 jun 2003) | 2 lines

More braces to make gcc happy.

------------------------------------------------------------------------
r1159 | guus | 2003-06-11 21:39:02 +0200 (wo, 11 jun 2003) | 2 lines

Fixes from Wessel Danker's libavl.

------------------------------------------------------------------------
r1158 | guus | 2003-06-11 21:28:38 +0200 (wo, 11 jun 2003) | 2 lines

Remove mymac stuff from device.c.

------------------------------------------------------------------------
r1157 | guus | 2003-06-11 21:27:35 +0200 (wo, 11 jun 2003) | 2 lines

AddressFamily is "any" by default.

------------------------------------------------------------------------
r1156 | guus | 2003-06-11 21:09:52 +0200 (wo, 11 jun 2003) | 3 lines

If we have a Linux tun/tap device and we are in router mode, open the device
in tun mode.

------------------------------------------------------------------------
r1155 | guus | 2003-06-11 21:07:56 +0200 (wo, 11 jun 2003) | 2 lines

Call make_names() before doing anything else.

------------------------------------------------------------------------
r1154 | guus | 2003-06-07 15:18:32 +0200 (za, 07 jun 2003) | 2 lines

Fix warning and add missing checks for LZO library.

------------------------------------------------------------------------
r1152 | guus | 2003-05-18 00:12:52 +0200 (zo, 18 mei 2003) | 2 lines

Fix links.

------------------------------------------------------------------------
r1151 | guus | 2003-05-07 13:21:58 +0200 (wo, 07 mei 2003) | 2 lines

Small fixes.

------------------------------------------------------------------------
r1150 | guus | 2003-05-07 01:14:45 +0200 (wo, 07 mei 2003) | 2 lines

Small fixes to make LZO compression work.

------------------------------------------------------------------------
r1149 | guus | 2003-05-06 23:13:18 +0200 (di, 06 mei 2003) | 4 lines

- Per-node EVP_CIPHER_CTX to avoid initialisation overhead.
- LZO compression, thanks to Teemu Kiviniemi.
- Updated dutch translation.

------------------------------------------------------------------------
r1148 | guus | 2003-04-19 13:12:45 +0200 (za, 19 apr 2003) | 2 lines

Make sure outgoing_t is completely freed.

------------------------------------------------------------------------
r1147 | guus | 2003-04-18 23:18:36 +0200 (vr, 18 apr 2003) | 2 lines

Better handling of late packets.

------------------------------------------------------------------------
r1146 | guus | 2003-04-03 13:43:17 +0200 (do, 03 apr 2003) | 4 lines

HUP signal now closes connections to hosts if their host config file is
gone or changed. The tinc.conf file is reread for changes in the ConnectTo
lines.

------------------------------------------------------------------------
r1145 | guus | 2003-03-29 23:11:22 +0100 (za, 29 mrt 2003) | 2 lines

Checksums must also work for uneven number of bytes.

------------------------------------------------------------------------
r1144 | guus | 2003-03-29 22:58:35 +0100 (za, 29 mrt 2003) | 2 lines

Don't copy more than necessary.

------------------------------------------------------------------------
r1143 | guus | 2003-03-29 22:51:21 +0100 (za, 29 mrt 2003) | 4 lines

- Speed up checksumming
- If a destination is not found in the subnet list or the destination node
  is unreachable, respond with an appropiate ICMP message.

------------------------------------------------------------------------
r1142 | guus | 2003-03-28 14:41:49 +0100 (vr, 28 mrt 2003) | 3 lines

- Avoid memory leak caused by OpenSSL 0.9.7a.
- Disable RSA_blinding_on() because it segfaults.

------------------------------------------------------------------------
r1141 | guus | 2003-03-19 12:45:05 +0100 (wo, 19 mrt 2003) | 2 lines

Typo.

------------------------------------------------------------------------
r1140 | guus | 2003-03-19 12:43:42 +0100 (wo, 19 mrt 2003) | 2 lines

Make sure send_meta() writes everything.

------------------------------------------------------------------------
r1139 | zarq | 2003-03-14 10:43:10 +0100 (vr, 14 mrt 2003) | 4 lines

Call RSA_blinding_on(), as advised in the paper on
http://crypto.stanford.edu/~dabo/abstracts/ssl-timing.html
to offer some resistance against timing attacks.

------------------------------------------------------------------------
r1138 | guus | 2003-01-17 01:43:58 +0100 (vr, 17 jan 2003) | 2 lines

Various fixes for autoconf and OpenSSL 0.9.7 and a missing header.

------------------------------------------------------------------------
r1137 | guus | 2003-01-17 01:37:20 +0100 (vr, 17 jan 2003) | 5 lines

- Fix indentation in some places.
- Optimise select loop.
- Remove unused function setup_outgoing_socket().
- Clear EVP_CIPHER_CTX structures before using them.

------------------------------------------------------------------------
r1136 | guus | 2003-01-14 13:53:59 +0100 (di, 14 jan 2003) | 2 lines

Add $NAME for tinc-up/down scripts.

------------------------------------------------------------------------
r1135 | guus | 2003-01-12 18:02:23 +0100 (zo, 12 jan 2003) | 3 lines

Run graph algorithm when replacing a second connection from the same host
replaces an older one.

------------------------------------------------------------------------
r1134 | guus | 2002-12-27 20:32:33 +0100 (vr, 27 dec 2002) | 2 lines

PrivateKeyFile instead of PrivateKey.

------------------------------------------------------------------------
r1133 | guus | 2002-11-14 23:09:03 +0100 (do, 14 nov 2002) | 2 lines

Fix PriorityInheritance.

------------------------------------------------------------------------
r1132 | guus | 2002-10-07 09:32:31 +0200 (ma, 07 okt 2002) | 2 lines

Add documentation for BindToAddress.

------------------------------------------------------------------------
r1131 | zarq | 2002-09-30 21:04:37 +0200 (ma, 30 sep 2002) | 2 lines

Fix saving of debug level for startup level 0

------------------------------------------------------------------------
r1130 | guus | 2002-09-24 13:43:34 +0200 (di, 24 sep 2002) | 2 lines

Run graph() after edge_del() when updating an edge.

------------------------------------------------------------------------
r1129 | wsl | 2002-09-16 16:08:04 +0200 (ma, 16 sep 2002) | 3 lines

its: Engels voor "van het" - 3e persoon enkelvoud, genitief, onzijdig
it's: Engels voor "het is". Dus niet "van het".

------------------------------------------------------------------------
r1127 | guus | 2002-09-16 00:37:59 +0200 (ma, 16 sep 2002) | 2 lines

Thank some more people.

------------------------------------------------------------------------
r1126 | guus | 2002-09-16 00:34:25 +0200 (ma, 16 sep 2002) | 2 lines

Remarks about 1.0pre8 release.

------------------------------------------------------------------------
r1125 | guus | 2002-09-16 00:19:38 +0200 (ma, 16 sep 2002) | 2 lines

Update documentation.

------------------------------------------------------------------------
r1124 | guus | 2002-09-16 00:19:19 +0200 (ma, 16 sep 2002) | 2 lines

Use /dev/net/tun as default for tun/tap device under Linux.

------------------------------------------------------------------------
r1123 | guus | 2002-09-15 19:40:00 +0200 (zo, 15 sep 2002) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r1122 | guus | 2002-09-15 16:55:54 +0200 (zo, 15 sep 2002) | 2 lines

Small fixes so tinc compiles out of the box on SunOS 5.8

------------------------------------------------------------------------
r1121 | guus | 2002-09-15 14:26:24 +0200 (zo, 15 sep 2002) | 2 lines

port_t isn't used anymore and conflicts with MacOS/X headers.

------------------------------------------------------------------------
r1120 | guus | 2002-09-15 14:26:04 +0200 (zo, 15 sep 2002) | 2 lines

MacOS/X needs #define _P1003_1B_VISIBLE in order to use mlockall().

------------------------------------------------------------------------
r1119 | guus | 2002-09-12 00:25:58 +0200 (do, 12 sep 2002) | 2 lines

What was I thinking?

------------------------------------------------------------------------
r1118 | guus | 2002-09-11 00:13:22 +0200 (wo, 11 sep 2002) | 2 lines

Make sure malloc() is declared.

------------------------------------------------------------------------
r1117 | guus | 2002-09-11 00:13:01 +0200 (wo, 11 sep 2002) | 2 lines

Fix placement of #include "config.h"

------------------------------------------------------------------------
r1116 | guus | 2002-09-10 23:46:05 +0200 (di, 10 sep 2002) | 2 lines

Link with libintl if necessary.

------------------------------------------------------------------------
r1115 | guus | 2002-09-10 23:29:42 +0200 (di, 10 sep 2002) | 2 lines

Clean up after indent.

------------------------------------------------------------------------
r1114 | guus | 2002-09-10 11:40:25 +0200 (di, 10 sep 2002) | 2 lines

Fix compiler warnings.

------------------------------------------------------------------------
r1113 | guus | 2002-09-10 00:41:56 +0200 (di, 10 sep 2002) | 2 lines

Let GCC check format string and arguments of send_request().

------------------------------------------------------------------------
r1112 | guus | 2002-09-10 00:33:31 +0200 (di, 10 sep 2002) | 2 lines

Remove redundant spaces.

------------------------------------------------------------------------
r1111 | guus | 2002-09-09 23:49:16 +0200 (ma, 09 sep 2002) | 2 lines

Switch to K&R style indentation.

------------------------------------------------------------------------
r1110 | guus | 2002-09-09 23:25:28 +0200 (ma, 09 sep 2002) | 2 lines

Switch to K&R style indentation.

------------------------------------------------------------------------
r1109 | guus | 2002-09-09 21:40:12 +0200 (ma, 09 sep 2002) | 5 lines

Cleanups:
 - Convert cp to cp(); so that automatic indenters work.
 - Convert constructions like if(x == NULL) to if(!x).
 - Move all assignments out of conditions.

------------------------------------------------------------------------
r1108 | guus | 2002-09-06 23:22:35 +0200 (vr, 06 sep 2002) | 2 lines

Why don't these connection_t's get cleaned up?

------------------------------------------------------------------------
r1107 | guus | 2002-09-06 23:02:36 +0200 (vr, 06 sep 2002) | 2 lines

Fix MST algorithm.

------------------------------------------------------------------------
r1106 | guus | 2002-09-06 16:31:12 +0200 (vr, 06 sep 2002) | 2 lines

Reset the *correct* seqnos.

------------------------------------------------------------------------
r1105 | guus | 2002-09-06 14:19:16 +0200 (vr, 06 sep 2002) | 2 lines

edge_weight_compare() shouldn't rely on edge_compare().

------------------------------------------------------------------------
r1104 | zarq | 2002-09-06 13:08:21 +0200 (vr, 06 sep 2002) | 2 lines

Added AM_MAINTAINER_MODE

------------------------------------------------------------------------
r1103 | guus | 2002-09-06 12:23:52 +0200 (vr, 06 sep 2002) | 2 lines

Remove global edge_tree.

------------------------------------------------------------------------
r1102 | guus | 2002-09-06 11:48:39 +0200 (vr, 06 sep 2002) | 2 lines

Only reset seqno's when a key is sent or received.

------------------------------------------------------------------------
r1101 | guus | 2002-09-05 01:11:58 +0200 (do, 05 sep 2002) | 2 lines

Typo.

------------------------------------------------------------------------
r1100 | guus | 2002-09-05 01:05:49 +0200 (do, 05 sep 2002) | 2 lines

Add missing headers.

------------------------------------------------------------------------
r1099 | guus | 2002-09-05 01:04:52 +0200 (do, 05 sep 2002) | 2 lines

Run autopoint and libtoolize before creating initial makefiles.

------------------------------------------------------------------------
r1098 | guus | 2002-09-04 21:57:53 +0200 (wo, 04 sep 2002) | 2 lines

Small updates.

------------------------------------------------------------------------
r1097 | guus | 2002-09-04 18:36:03 +0200 (wo, 04 sep 2002) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r1096 | guus | 2002-09-04 18:26:45 +0200 (wo, 04 sep 2002) | 2 lines

Generalized request broadcasting/forwarding.

------------------------------------------------------------------------
r1095 | guus | 2002-09-04 16:17:28 +0200 (wo, 04 sep 2002) | 2 lines

Small fixes.

------------------------------------------------------------------------
r1094 | guus | 2002-09-04 15:48:52 +0200 (wo, 04 sep 2002) | 2 lines

Revert to edge and graph stuff. This time, use a directed graph.

------------------------------------------------------------------------
r1093 | guus | 2002-09-04 10:48:03 +0200 (wo, 04 sep 2002) | 3 lines

Just ignore wrong ADD_NODEs instead of replying with a DEL_NODE, in the
hope other DEL_NODEs will catch up eventually.

------------------------------------------------------------------------
r1092 | guus | 2002-09-04 10:36:34 +0200 (wo, 04 sep 2002) | 2 lines

Don't forget to set prevhop to myself for new connections.

------------------------------------------------------------------------
r1091 | guus | 2002-09-04 10:33:08 +0200 (wo, 04 sep 2002) | 2 lines

Prevent looping DEL_NODE/ADD_NODE messages after a node disconnects.

------------------------------------------------------------------------
r1090 | guus | 2002-09-04 10:02:33 +0200 (wo, 04 sep 2002) | 2 lines

Reduce KEY_CHANGED traffic.

------------------------------------------------------------------------
r1089 | guus | 2002-09-04 00:49:55 +0200 (wo, 04 sep 2002) | 2 lines

Woops.

------------------------------------------------------------------------
r1088 | guus | 2002-09-04 00:37:49 +0200 (wo, 04 sep 2002) | 2 lines

A reachable node is always more preferable to an unreachable one...

------------------------------------------------------------------------
r1087 | guus | 2002-09-03 22:43:26 +0200 (di, 03 sep 2002) | 2 lines

Drop graph and edge stuff. Use new node stuff instead.

------------------------------------------------------------------------
r1086 | guus | 2002-09-03 22:42:05 +0200 (di, 03 sep 2002) | 2 lines

Make sure setlocale() is available.

------------------------------------------------------------------------
r1085 | guus | 2002-09-03 00:40:42 +0200 (di, 03 sep 2002) | 2 lines

Replacement for the current routing algorithm.

------------------------------------------------------------------------
r1084 | guus | 2002-08-24 14:54:55 +0200 (za, 24 aug 2002) | 2 lines

Check for ranlib.

------------------------------------------------------------------------
r1083 | guus | 2002-08-24 14:11:40 +0200 (za, 24 aug 2002) | 2 lines

Gettext 1.11.5 compatibility.

------------------------------------------------------------------------
r1080 | guus | 2002-07-18 16:30:45 +0200 (do, 18 jul 2002) | 2 lines

Added support for raw sockets. This can be used instead of tun/tap devices.

------------------------------------------------------------------------
r1078 | guus | 2002-07-16 15:18:27 +0200 (di, 16 jul 2002) | 2 lines

Don't bother to chown, and correctly document ConnectTo.

------------------------------------------------------------------------
r1077 | guus | 2002-07-16 15:12:49 +0200 (di, 16 jul 2002) | 2 lines

Allow tincd to be locked into main memory.

------------------------------------------------------------------------
r1076 | guus | 2002-07-12 13:45:21 +0200 (vr, 12 jul 2002) | 2 lines

Include complete fake-getname/addrinfo from OpenSSH.

------------------------------------------------------------------------
r1071 | guus | 2002-07-11 14:57:06 +0200 (do, 11 jul 2002) | 2 lines

Added stub device.c for Cygwin.

------------------------------------------------------------------------
r1070 | guus | 2002-07-11 14:55:58 +0200 (do, 11 jul 2002) | 2 lines

Started port to Cygwin.

------------------------------------------------------------------------
r1068 | guus | 2002-07-11 14:42:43 +0200 (do, 11 jul 2002) | 2 lines

Clear subnets before using them.

------------------------------------------------------------------------
r1067 | guus | 2002-07-10 13:32:33 +0200 (wo, 10 jul 2002) | 2 lines

Allow identical subnets from different owners.

------------------------------------------------------------------------
r1066 | guus | 2002-07-10 13:27:06 +0200 (wo, 10 jul 2002) | 4 lines

Allow list of environment variables to be passed to execute_script().
When executing host-up/down scripts, include the address and port of the
remote host.

------------------------------------------------------------------------
r1065 | guus | 2002-06-21 19:49:48 +0200 (vr, 21 jun 2002) | 2 lines

Fix for prefixlengths of 32 (IPv4) and 128 (IPv6) bits.

------------------------------------------------------------------------
r1064 | guus | 2002-06-21 12:11:37 +0200 (vr, 21 jun 2002) | 3 lines

s/sliepen.warande.net/sliepen.eu.org/g
s/itimmermans@bigfoot.com/ivo@o2w.nl/g

------------------------------------------------------------------------
r1063 | guus | 2002-06-14 13:51:29 +0200 (vr, 14 jun 2002) | 2 lines

Update comments about IPv6 autoconfiguration.

------------------------------------------------------------------------
r1062 | guus | 2002-06-13 18:12:40 +0200 (do, 13 jun 2002) | 2 lines

Reset listen_sockets after SIGHUP.

------------------------------------------------------------------------
r1061 | guus | 2002-06-12 15:45:23 +0200 (wo, 12 jun 2002) | 2 lines

Add configuration details for NetBSD and Darwin (MacOS/X).

------------------------------------------------------------------------
r1060 | guus | 2002-06-11 13:03:17 +0200 (di, 11 jun 2002) | 3 lines

Autoconf cleanup. Works for both 2.13 and 2.53, although running autoconf
2.53 still gives some errors.

------------------------------------------------------------------------
r1059 | guus | 2002-06-10 17:08:23 +0200 (ma, 10 jun 2002) | 2 lines

Include darwin/device.c in distribution.

------------------------------------------------------------------------
r1058 | guus | 2002-06-10 16:35:18 +0200 (ma, 10 jun 2002) | 2 lines

Use darwin/device.c when compiling on MacOS/X.

------------------------------------------------------------------------
r1057 | guus | 2002-06-10 16:33:40 +0200 (ma, 10 jun 2002) | 2 lines

Added Darwin (MacOS/X) tun device handling.

------------------------------------------------------------------------
r1055 | zarq | 2002-06-09 18:23:12 +0200 (zo, 09 jun 2002) | 2 lines

Added Alessandro Gatti

------------------------------------------------------------------------
r1054 | zarq | 2002-06-09 18:19:20 +0200 (zo, 09 jun 2002) | 2 lines

Include netbsd's device.c in make dist

------------------------------------------------------------------------
r1053 | zarq | 2002-06-09 18:12:04 +0200 (zo, 09 jun 2002) | 2 lines

Include a few more header files

------------------------------------------------------------------------
r1052 | zarq | 2002-06-09 17:58:05 +0200 (zo, 09 jun 2002) | 2 lines

Add /sw/{include,lib} to search paths if they exist

------------------------------------------------------------------------
r1051 | zarq | 2002-06-09 17:50:12 +0200 (zo, 09 jun 2002) | 2 lines

getnameinfo fixes

------------------------------------------------------------------------
r1050 | zarq | 2002-06-09 17:26:10 +0200 (zo, 09 jun 2002) | 2 lines

OSX support

------------------------------------------------------------------------
r1048 | guus | 2002-06-08 16:08:57 +0200 (za, 08 jun 2002) | 3 lines

- netinet/* include files depend on netinet/in_systm.h.
- Squash bashism in configure.in.

------------------------------------------------------------------------
r1047 | guus | 2002-06-08 15:46:43 +0200 (za, 08 jun 2002) | 2 lines

Use inttypes.h instead of stdint.h.

------------------------------------------------------------------------
r1046 | guus | 2002-06-08 14:57:10 +0200 (za, 08 jun 2002) | 5 lines

Cleanup:
 - Remove checks for specific OS's, instead check for #defines/#includes.
 - Use uint??_t where appropriate.
 - Mask handling functions use void pointers to get rid of silly casts.

------------------------------------------------------------------------
r1045 | wsl | 2002-06-07 13:14:05 +0200 (vr, 07 jun 2002) | 2 lines

This should work much better.

------------------------------------------------------------------------
r1044 | guus | 2002-06-05 02:25:55 +0200 (wo, 05 jun 2002) | 2 lines

Use correct includes on NetBSD.

------------------------------------------------------------------------
r1043 | guus | 2002-06-05 02:20:40 +0200 (wo, 05 jun 2002) | 2 lines

Make it work correctly with NetBSD tun device.

------------------------------------------------------------------------
r1042 | guus | 2002-06-02 18:06:33 +0200 (zo, 02 jun 2002) | 3 lines

Support RSA_PUBKEYs (as opposed to RSAPublicKeys) so tinc accepts
public keys generated by the OpenSSL command line tools.

------------------------------------------------------------------------
r1035 | guus | 2002-05-01 11:15:58 +0200 (wo, 01 mei 2002) | 2 lines

Only purge once when there are no more connections.

------------------------------------------------------------------------
r1033 | guus | 2002-04-29 22:05:07 +0200 (ma, 29 apr 2002) | 3 lines

Fix very stupid bug in node_del(), which might have caused corruption of
subnets.

------------------------------------------------------------------------
r1030 | guus | 2002-04-27 13:40:45 +0200 (za, 27 apr 2002) | 2 lines

Informative log message if execl() failed.

------------------------------------------------------------------------
r1029 | zarq | 2002-04-26 20:13:00 +0200 (vr, 26 apr 2002) | 2 lines

Typo

------------------------------------------------------------------------
r1028 | guus | 2002-04-25 21:17:24 +0200 (do, 25 apr 2002) | 2 lines

Added Nick Patavalis for his RedHat package.

------------------------------------------------------------------------
r1027 | guus | 2002-04-23 09:49:38 +0200 (di, 23 apr 2002) | 2 lines

Add BindToAddress variable, similar to the late BindToIP.

------------------------------------------------------------------------
r1026 | guus | 2002-04-19 16:06:40 +0200 (vr, 19 apr 2002) | 2 lines

Support for MaxOS/X.

------------------------------------------------------------------------
r1025 | zarq | 2002-04-18 22:09:05 +0200 (do, 18 apr 2002) | 2 lines

Put #ifndef checks for HAVE_RAND_PSEUDO_BYTES in the correct places.

------------------------------------------------------------------------
r981 | guus | 2002-04-09 13:44:47 +0200 (di, 09 apr 2002) | 2 lines

Remarks about 1.0pre7 release.

------------------------------------------------------------------------
r980 | guus | 2002-04-09 13:43:45 +0200 (di, 09 apr 2002) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r979 | guus | 2002-04-09 13:43:29 +0200 (di, 09 apr 2002) | 2 lines

masklength is better known as prefixlength

------------------------------------------------------------------------
r978 | guus | 2002-04-09 13:42:48 +0200 (di, 09 apr 2002) | 2 lines

masklength is better known as prefixlength.

------------------------------------------------------------------------
r977 | guus | 2002-04-08 15:27:09 +0200 (ma, 08 apr 2002) | 2 lines

Automake forgets about depcomp, remind it.

------------------------------------------------------------------------
r976 | guus | 2002-04-05 11:11:38 +0200 (vr, 05 apr 2002) | 2 lines

Fix maskcheck() and maskcmp().

------------------------------------------------------------------------
r975 | guus | 2002-04-01 23:28:39 +0200 (ma, 01 apr 2002) | 2 lines

check_rsa() is broken, I don't know why, just remove it for now.

------------------------------------------------------------------------
r974 | guus | 2002-04-01 23:28:05 +0200 (ma, 01 apr 2002) | 2 lines

Don't check_network_activity() if select() is interrupted by a signal.

------------------------------------------------------------------------
r973 | guus | 2002-03-27 20:43:50 +0100 (wo, 27 mrt 2002) | 2 lines

Make configure --help output look nicer.

------------------------------------------------------------------------
r972 | guus | 2002-03-27 17:26:26 +0100 (wo, 27 mrt 2002) | 2 lines

Update with information about the pre6 release.

------------------------------------------------------------------------
r971 | guus | 2002-03-27 17:00:49 +0100 (wo, 27 mrt 2002) | 2 lines

Update dutch translation.

------------------------------------------------------------------------
r970 | guus | 2002-03-27 17:00:38 +0100 (wo, 27 mrt 2002) | 2 lines

Fix format strings.

------------------------------------------------------------------------
r969 | guus | 2002-03-27 16:47:06 +0100 (wo, 27 mrt 2002) | 2 lines

Remove symlink to device.c when doing a make dist.

------------------------------------------------------------------------
r968 | guus | 2002-03-27 16:35:07 +0100 (wo, 27 mrt 2002) | 2 lines

Recent automake uses $(AMTAR) instead of $(TAR)

------------------------------------------------------------------------
r967 | guus | 2002-03-27 16:26:44 +0100 (wo, 27 mrt 2002) | 2 lines

Remove cruft.

------------------------------------------------------------------------
r966 | guus | 2002-03-27 16:26:29 +0100 (wo, 27 mrt 2002) | 2 lines

Small updates.

------------------------------------------------------------------------
r965 | guus | 2002-03-27 16:01:37 +0100 (wo, 27 mrt 2002) | 2 lines

Limit the amount of packets in a queue to 8.

------------------------------------------------------------------------
r964 | guus | 2002-03-27 16:01:16 +0100 (wo, 27 mrt 2002) | 2 lines

Extend list_t with the number of elements in the list.

------------------------------------------------------------------------
r963 | guus | 2002-03-27 15:02:36 +0100 (wo, 27 mrt 2002) | 2 lines

Merge do_prune() with build_fdset(). Probably fixes the invalid filedescriptor error.

------------------------------------------------------------------------
r962 | guus | 2002-03-26 14:19:56 +0100 (di, 26 mrt 2002) | 2 lines

Small correction.

------------------------------------------------------------------------
r961 | guus | 2002-03-26 13:00:38 +0100 (di, 26 mrt 2002) | 2 lines

Fix execute_script().

------------------------------------------------------------------------
r960 | guus | 2002-03-25 16:51:58 +0100 (ma, 25 mrt 2002) | 2 lines

Send REQ_KEY only once until ANS_KEY has arrived.

------------------------------------------------------------------------
r959 | guus | 2002-03-25 16:12:09 +0100 (ma, 25 mrt 2002) | 2 lines

Tell a little bit more about security.

------------------------------------------------------------------------
r958 | guus | 2002-03-25 16:01:32 +0100 (ma, 25 mrt 2002) | 2 lines

Updated documentation.

------------------------------------------------------------------------
r957 | guus | 2002-03-25 14:54:49 +0100 (ma, 25 mrt 2002) | 2 lines

Set myself->status.reachable.

------------------------------------------------------------------------
r956 | guus | 2002-03-24 18:14:01 +0100 (zo, 24 mrt 2002) | 2 lines

Configuration variables were still handled case sensitively.

------------------------------------------------------------------------
r955 | guus | 2002-03-24 18:08:38 +0100 (zo, 24 mrt 2002) | 2 lines

OpenBSD tun device uses address family number instead of Ethernet type.

------------------------------------------------------------------------
r954 | guus | 2002-03-24 17:50:58 +0100 (zo, 24 mrt 2002) | 2 lines

Respect type field.

------------------------------------------------------------------------
r953 | guus | 2002-03-24 17:40:14 +0100 (zo, 24 mrt 2002) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r952 | guus | 2002-03-24 17:36:56 +0100 (zo, 24 mrt 2002) | 2 lines

Set $INTERFACE correctly when using ethertap while compiled with tun/tap support.

------------------------------------------------------------------------
r951 | guus | 2002-03-24 17:28:27 +0100 (zo, 24 mrt 2002) | 3 lines

Execute hosts/name-up when a node becomes reachable, and hosts/name-down
when it becomes unreachable.

------------------------------------------------------------------------
r950 | guus | 2002-03-24 17:22:59 +0100 (zo, 24 mrt 2002) | 2 lines

Don't try to execute scripts unless they exist.

------------------------------------------------------------------------
r949 | guus | 2002-03-23 21:21:10 +0100 (za, 23 mrt 2002) | 2 lines

Reset retry timeout when receiving the first PONG, not right after receiving the ACK.

------------------------------------------------------------------------
r948 | guus | 2002-03-23 21:13:56 +0100 (za, 23 mrt 2002) | 2 lines

Don't run graph algorithms if no edge is deleted in terminate_connection().

------------------------------------------------------------------------
r947 | guus | 2002-03-23 21:12:29 +0100 (za, 23 mrt 2002) | 2 lines

free() request strings when deleting past requests from the tree.

------------------------------------------------------------------------
r946 | guus | 2002-03-23 21:01:05 +0100 (za, 23 mrt 2002) | 2 lines

send_ack() was broken.

------------------------------------------------------------------------
r945 | guus | 2002-03-22 14:31:18 +0100 (vr, 22 mrt 2002) | 2 lines

Fix compiler warnings, strictly use long int and %lx for options.

------------------------------------------------------------------------
r944 | guus | 2002-03-22 13:41:54 +0100 (vr, 22 mrt 2002) | 2 lines

Fix add_edge_h().

------------------------------------------------------------------------
r943 | guus | 2002-03-22 12:43:48 +0100 (vr, 22 mrt 2002) | 4 lines

- Added support for jumbograms.
- Remove tcpaddress from edges, it is not used at all.
- Last bits of code to prevent looping requests.

------------------------------------------------------------------------
r942 | guus | 2002-03-22 00:11:53 +0100 (vr, 22 mrt 2002) | 2 lines

Put a break on requests that run around in circles.

------------------------------------------------------------------------
r941 | guus | 2002-03-19 23:48:25 +0100 (di, 19 mrt 2002) | 3 lines

Updated SSSP algorithm to automatically detect indirect links (if a node uses
different addresses for connections to other nodes).

------------------------------------------------------------------------
r940 | guus | 2002-03-19 01:08:34 +0100 (di, 19 mrt 2002) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r939 | guus | 2002-03-19 01:08:23 +0100 (di, 19 mrt 2002) | 2 lines

Don't use s6_addr[16|32] anymore.

------------------------------------------------------------------------
r938 | guus | 2002-03-19 01:07:09 +0100 (di, 19 mrt 2002) | 2 lines

Cleanup.

------------------------------------------------------------------------
r937 | guus | 2002-03-18 23:47:20 +0100 (ma, 18 mrt 2002) | 3 lines

Remember sockaddrs of listening sockets, use appropriate one when sending
UDP packets.

------------------------------------------------------------------------
r936 | guus | 2002-03-18 15:39:37 +0100 (ma, 18 mrt 2002) | 2 lines

Fix #define s6_addr32.

------------------------------------------------------------------------
r935 | guus | 2002-03-18 15:19:02 +0100 (ma, 18 mrt 2002) | 2 lines

#define s6_addr32, needed for FreeBSD.

------------------------------------------------------------------------
r934 | guus | 2002-03-17 17:08:39 +0100 (zo, 17 mrt 2002) | 2 lines

Only unmap IPv6 addresses.

------------------------------------------------------------------------
r933 | guus | 2002-03-17 16:59:29 +0100 (zo, 17 mrt 2002) | 2 lines

Unmap v4mapped sockaddrs.

------------------------------------------------------------------------
r932 | guus | 2002-03-15 16:50:14 +0100 (vr, 15 mrt 2002) | 2 lines

Typo.

------------------------------------------------------------------------
r931 | guus | 2002-03-15 16:40:40 +0100 (vr, 15 mrt 2002) | 2 lines

Different way of detecting neighbor solicitation requests.

------------------------------------------------------------------------
r930 | guus | 2002-03-15 16:08:21 +0100 (vr, 15 mrt 2002) | 2 lines

Oops, don't forget to actually put the checksum in the response packet.

------------------------------------------------------------------------
r929 | guus | 2002-03-15 15:41:57 +0100 (vr, 15 mrt 2002) | 2 lines

Neighbor solicitation requests now work (I think).

------------------------------------------------------------------------
r928 | guus | 2002-03-12 17:30:15 +0100 (di, 12 mrt 2002) | 2 lines

Revert changes to Kruskal's algo.

------------------------------------------------------------------------
r927 | guus | 2002-03-12 15:25:04 +0100 (di, 12 mrt 2002) | 2 lines

Put #ifdef NEIGHBORSOL around corresponding code.

------------------------------------------------------------------------
r926 | guus | 2002-03-12 15:20:44 +0100 (di, 12 mrt 2002) | 2 lines

Remove silly cache thingy.

------------------------------------------------------------------------
r925 | guus | 2002-03-12 15:19:51 +0100 (di, 12 mrt 2002) | 2 lines

Packet sequence number/authentication warnings only if debug_lvl >= 5.

------------------------------------------------------------------------
r924 | guus | 2002-03-12 14:42:23 +0100 (di, 12 mrt 2002) | 2 lines

Simplified implementation of Kruskal's minimum spanning tree algorithm.

------------------------------------------------------------------------
r923 | guus | 2002-03-11 14:56:00 +0100 (ma, 11 mrt 2002) | 2 lines

New strategy: forward icmp6 neighbor solicitations to intended target.

------------------------------------------------------------------------
r922 | guus | 2002-03-11 14:14:53 +0100 (ma, 11 mrt 2002) | 2 lines

Try to reply to neighbor solicitation requests.

------------------------------------------------------------------------
r921 | guus | 2002-03-11 12:45:12 +0100 (ma, 11 mrt 2002) | 2 lines

prune_connections() before build_fdset().

------------------------------------------------------------------------
r920 | guus | 2002-03-11 12:23:04 +0100 (ma, 11 mrt 2002) | 3 lines

Cleanups, spelling fixes, allow symbol names for signals (-k option),
don't remove pidfile if other tincd is still running.

------------------------------------------------------------------------
r919 | guus | 2002-03-10 17:09:15 +0100 (zo, 10 mrt 2002) | 2 lines

Don't retry to make outgoing connections when exitting.

------------------------------------------------------------------------
r918 | guus | 2002-03-10 16:40:27 +0100 (zo, 10 mrt 2002) | 2 lines

Small fixes to improve portability.

------------------------------------------------------------------------
r917 | guus | 2002-03-10 15:07:08 +0100 (zo, 10 mrt 2002) | 2 lines

Autodetect $MAKE/gmake/make.

------------------------------------------------------------------------
r916 | guus | 2002-03-10 15:05:35 +0100 (zo, 10 mrt 2002) | 2 lines

po/POTFILES and po/Makefile should not be generated by configure.

------------------------------------------------------------------------
r915 | guus | 2002-03-10 15:04:48 +0100 (zo, 10 mrt 2002) | 2 lines

Fix forwarding of IPv6 packets.

------------------------------------------------------------------------
r914 | guus | 2002-03-01 16:14:29 +0100 (vr, 01 mrt 2002) | 2 lines

Check if BindToDevice and PriorityInheritance are supported.

------------------------------------------------------------------------
r913 | guus | 2002-03-01 15:33:48 +0100 (vr, 01 mrt 2002) | 2 lines

Woops.

------------------------------------------------------------------------
r912 | guus | 2002-03-01 15:25:10 +0100 (vr, 01 mrt 2002) | 2 lines

Document and clean up MAC address expiry.

------------------------------------------------------------------------
r911 | guus | 2002-03-01 15:09:31 +0100 (vr, 01 mrt 2002) | 4 lines

- Global time_t now, so that we don't have to call time() too often.
- MAC addresses expire after a time configurable by MACExpire (default 600
  seconds)

------------------------------------------------------------------------
r910 | guus | 2002-03-01 14:38:15 +0100 (vr, 01 mrt 2002) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r909 | guus | 2002-03-01 14:38:02 +0100 (vr, 01 mrt 2002) | 2 lines

Updated documentation.

------------------------------------------------------------------------
r908 | guus | 2002-03-01 14:18:54 +0100 (vr, 01 mrt 2002) | 2 lines

Create/bind TCP and UDP listening sockets in pairs.

------------------------------------------------------------------------
r907 | guus | 2002-03-01 13:26:56 +0100 (vr, 01 mrt 2002) | 4 lines

If "PriorityInheritance = yes" is specified in tinc.conf, the value of the
TOS field of the tunneled packets will be passed on to the UDP packets tinc
sends out.

------------------------------------------------------------------------
r906 | guus | 2002-03-01 13:25:58 +0100 (vr, 01 mrt 2002) | 2 lines

Fix listening sockets.

------------------------------------------------------------------------
r905 | guus | 2002-03-01 12:18:34 +0100 (vr, 01 mrt 2002) | 2 lines

Make BindToInterface work.

------------------------------------------------------------------------
r904 | guus | 2002-02-27 23:37:55 +0100 (wo, 27 feb 2002) | 2 lines

Fix send_request() bug.

------------------------------------------------------------------------
r903 | guus | 2002-02-27 00:26:41 +0100 (wo, 27 feb 2002) | 2 lines

Allow multiple listening sockets.

------------------------------------------------------------------------
r902 | guus | 2002-02-26 23:47:51 +0100 (di, 26 feb 2002) | 2 lines

Tweaking IPv6 support.

------------------------------------------------------------------------
r901 | guus | 2002-02-20 23:37:38 +0100 (wo, 20 feb 2002) | 3 lines

- Change SA_LEN to SALEN, former one is already defined on some platforms.
- Use SALEN everywhere appropriate.

------------------------------------------------------------------------
r900 | guus | 2002-02-20 23:15:32 +0100 (wo, 20 feb 2002) | 4 lines

- Use gai_strerror() where appropriate
- Clear hints before using them with getaddrinfo()
- Use sa_len on platforms that support them

------------------------------------------------------------------------
r899 | guus | 2002-02-20 20:31:15 +0100 (wo, 20 feb 2002) | 2 lines

Preserve inpkt->len, needed for broadcasts.

------------------------------------------------------------------------
r898 | guus | 2002-02-20 20:25:09 +0100 (wo, 20 feb 2002) | 3 lines

Protocol now also exchanges cipher/digest/maclength/compression for the
meta connection.

------------------------------------------------------------------------
r897 | guus | 2002-02-20 18:16:15 +0100 (wo, 20 feb 2002) | 2 lines

Cache results of lookup_subnet_...().

------------------------------------------------------------------------
r896 | guus | 2002-02-20 18:15:33 +0100 (wo, 20 feb 2002) | 2 lines

Fix maskcmp() and maskcpy().

------------------------------------------------------------------------
r895 | guus | 2002-02-20 17:04:59 +0100 (wo, 20 feb 2002) | 2 lines

Forward packets in router mode.

------------------------------------------------------------------------
r894 | guus | 2002-02-20 17:04:39 +0100 (wo, 20 feb 2002) | 2 lines

Use AF_UNSPEC for listening sockets if AddressFamily = any.

------------------------------------------------------------------------
r893 | guus | 2002-02-20 17:04:07 +0100 (wo, 20 feb 2002) | 2 lines

Fix segfault when receiving HUP signal.

------------------------------------------------------------------------
r892 | guus | 2002-02-18 17:25:19 +0100 (ma, 18 feb 2002) | 8 lines

- Non-blocking connect()s.
- Socket handling revamped to use sockaddr_t.
- tinc can now tunnel over IPv6.
- Handle all addresses and subnets in network byte order.
  Only convert them when they need to be printed.
- IPv6 subnets bigger than /128 now work.
- Use %s and strerror(errno) instead of %m.

------------------------------------------------------------------------
r888 | guus | 2002-02-12 15:42:37 +0100 (di, 12 feb 2002) | 2 lines

Add check for NetBSD.

------------------------------------------------------------------------
r887 | guus | 2002-02-12 15:40:12 +0100 (di, 12 feb 2002) | 2 lines

Added device.c for NetBSD, actually a copy of the OpenBSD one.

------------------------------------------------------------------------
r886 | guus | 2002-02-12 15:36:45 +0100 (di, 12 feb 2002) | 2 lines

Get rid of sys/signal.h.

------------------------------------------------------------------------
r884 | guus | 2002-02-12 15:29:00 +0100 (di, 12 feb 2002) | 2 lines

Don't use sa_sigaction (which NetBSD doesn't like) at all if we don't use siginfo.

------------------------------------------------------------------------
r883 | guus | 2002-02-11 16:59:18 +0100 (ma, 11 feb 2002) | 4 lines

Added support for packet compression, thanks to Mark Glines.
Add "Compression = <level>" to the host config files, where level can be
0 (off), or any integer between 1 (fast) and 9 (best).

------------------------------------------------------------------------
r881 | guus | 2002-02-11 15:20:46 +0100 (ma, 11 feb 2002) | 2 lines

Small fix.

------------------------------------------------------------------------
r880 | guus | 2002-02-11 15:20:21 +0100 (ma, 11 feb 2002) | 3 lines

- If no PrivateKeyFile is specified, /etc/tinc/netname/rsa_key.priv is assumed.
- Check RSA key before using it.

------------------------------------------------------------------------
r879 | guus | 2002-02-11 13:33:01 +0100 (ma, 11 feb 2002) | 2 lines

Sensible defaults for $INTERFACE.

------------------------------------------------------------------------
r878 | guus | 2002-02-11 11:16:18 +0100 (ma, 11 feb 2002) | 2 lines

Last bits of the merger.

------------------------------------------------------------------------
r877 | guus | 2002-02-11 11:05:58 +0100 (ma, 11 feb 2002) | 2 lines

Forgot to merge new files from pre5.

------------------------------------------------------------------------
r876 | guus | 2002-02-10 22:57:54 +0100 (zo, 10 feb 2002) | 2 lines

Merging of the entire pre5 branch.

------------------------------------------------------------------------
r784 | zarq | 2001-11-16 23:41:38 +0100 (vr, 16 nov 2001) | 2 lines

Conversion to struct addrinfo is almost complete for this file.

------------------------------------------------------------------------
r783 | zarq | 2001-11-16 23:40:26 +0100 (vr, 16 nov 2001) | 2 lines

Don't include netutl.h.

------------------------------------------------------------------------
r782 | zarq | 2001-11-16 23:31:41 +0100 (vr, 16 nov 2001) | 2 lines

Fixed silly typo: "np" instead of "no"

------------------------------------------------------------------------
r781 | zarq | 2001-11-16 23:31:15 +0100 (vr, 16 nov 2001) | 2 lines

get_config_subnet needs to be fixed.

------------------------------------------------------------------------
r780 | zarq | 2001-11-16 18:40:50 +0100 (vr, 16 nov 2001) | 2 lines

route_ipv4 and route_ipv6 replaced by route_ip.

------------------------------------------------------------------------
r779 | zarq | 2001-11-16 18:39:59 +0100 (vr, 16 nov 2001) | 2 lines

Don't include netutl.h.

------------------------------------------------------------------------
r778 | zarq | 2001-11-16 18:39:38 +0100 (vr, 16 nov 2001) | 2 lines

lookup_node_udp changed.

------------------------------------------------------------------------
r777 | zarq | 2001-11-16 18:38:39 +0100 (vr, 16 nov 2001) | 2 lines

First part of rewriting things to use struct addrinfo.

------------------------------------------------------------------------
r776 | zarq | 2001-11-16 18:37:08 +0100 (vr, 16 nov 2001) | 2 lines

Added dropin replacements for get*info and helper functions.

------------------------------------------------------------------------
r775 | zarq | 2001-11-16 17:16:33 +0100 (vr, 16 nov 2001) | 2 lines

Added HAVE_STRUCT_ADDRINFO

------------------------------------------------------------------------
r774 | zarq | 2001-11-16 16:56:44 +0100 (vr, 16 nov 2001) | 2 lines

(re)added port to struct node_t

------------------------------------------------------------------------
r773 | zarq | 2001-11-16 13:22:02 +0100 (vr, 16 nov 2001) | 2 lines

Don't include netutl.h.

------------------------------------------------------------------------
r772 | zarq | 2001-11-16 13:21:22 +0100 (vr, 16 nov 2001) | 2 lines

Obsoleted.

------------------------------------------------------------------------
r771 | zarq | 2001-11-16 13:16:28 +0100 (vr, 16 nov 2001) | 2 lines

Don't compile/link netutl.c.

------------------------------------------------------------------------
r770 | zarq | 2001-11-16 13:14:20 +0100 (vr, 16 nov 2001) | 2 lines

get_config_{ip,port} removed.

------------------------------------------------------------------------
r769 | zarq | 2001-11-16 13:13:34 +0100 (vr, 16 nov 2001) | 2 lines

Changed to use struct addrinfo where needed.

------------------------------------------------------------------------
r768 | zarq | 2001-11-16 13:10:54 +0100 (vr, 16 nov 2001) | 2 lines

Obsoleted all IP<x> types in favor of struct addrinfo

------------------------------------------------------------------------
r767 | zarq | 2001-11-16 13:08:38 +0100 (vr, 16 nov 2001) | 2 lines

Removed definitions of ipv4_t, ipv6_t, port_t

------------------------------------------------------------------------
r766 | zarq | 2001-11-16 13:02:17 +0100 (vr, 16 nov 2001) | 2 lines

Changed lookup_connection to use struct addrinfo

------------------------------------------------------------------------
r765 | zarq | 2001-11-16 13:01:48 +0100 (vr, 16 nov 2001) | 2 lines

Changed prototype for lookup_connection to use struct addrinfo

------------------------------------------------------------------------
r764 | zarq | 2001-11-16 01:23:28 +0100 (vr, 16 nov 2001) | 3 lines

Use struct addrinfo in connection_t to hold all host data such as IP
address and port

------------------------------------------------------------------------
r763 | zarq | 2001-11-16 01:13:08 +0100 (vr, 16 nov 2001) | 2 lines

Deprecated get_config_ip and get_config_port

------------------------------------------------------------------------
r762 | zarq | 2001-11-16 00:49:46 +0100 (vr, 16 nov 2001) | 2 lines

Check for struct addrinfo

------------------------------------------------------------------------
r761 | zarq | 2001-11-16 00:28:58 +0100 (vr, 16 nov 2001) | 2 lines

Credit OpenSSH

------------------------------------------------------------------------
r760 | zarq | 2001-11-16 00:26:27 +0100 (vr, 16 nov 2001) | 2 lines

Check for getnameinfo, gai_strerror, freeaddrinfo

------------------------------------------------------------------------
r759 | zarq | 2001-11-16 00:05:34 +0100 (vr, 16 nov 2001) | 2 lines

Check for getaddrinfo

------------------------------------------------------------------------
r758 | guus | 2001-11-05 20:09:08 +0100 (ma, 05 nov 2001) | 2 lines

More fixes for Solaris.

------------------------------------------------------------------------
r757 | guus | 2001-11-05 20:06:07 +0100 (ma, 05 nov 2001) | 2 lines

Various fixes needed for Solaris.

------------------------------------------------------------------------
r756 | guus | 2001-11-05 00:48:27 +0100 (ma, 05 nov 2001) | 2 lines

Correctly check if subnet owner exists.

------------------------------------------------------------------------
r755 | guus | 2001-11-05 00:29:50 +0100 (ma, 05 nov 2001) | 2 lines

Be liberal in what you accept: allow unknown edges to be deleted.

------------------------------------------------------------------------
r754 | guus | 2001-11-03 23:53:02 +0100 (za, 03 nov 2001) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r753 | guus | 2001-11-03 22:22:02 +0100 (za, 03 nov 2001) | 2 lines

Several bugfixes.

------------------------------------------------------------------------
r752 | guus | 2001-11-03 22:21:04 +0100 (za, 03 nov 2001) | 2 lines

Use PEM functions as suggested by OpenSSL docs.

------------------------------------------------------------------------
r751 | guus | 2001-10-31 21:37:54 +0100 (wo, 31 okt 2001) | 2 lines

Some very small fixes

------------------------------------------------------------------------
r750 | guus | 2001-10-31 21:22:52 +0100 (wo, 31 okt 2001) | 2 lines

Avoid connecting to another node twice, and check name of outgoing connections.

------------------------------------------------------------------------
r749 | guus | 2001-10-31 21:07:17 +0100 (wo, 31 okt 2001) | 2 lines

Show cfg->variable instead of cfg->value when complaining about wrong type.

------------------------------------------------------------------------
r748 | guus | 2001-10-31 21:02:06 +0100 (wo, 31 okt 2001) | 2 lines

Don't forget to read public RSA key when making an outgoing connection.

------------------------------------------------------------------------
r747 | guus | 2001-10-31 13:50:24 +0100 (wo, 31 okt 2001) | 5 lines

- Small fixes to graph algorithms
- More control over tap device, ability to set interface name to something
  other than the netname.
- Export NETNAME, DEVICE and INTERFACE environment variables to scripts.

------------------------------------------------------------------------
r746 | guus | 2001-10-30 17:34:32 +0100 (di, 30 okt 2001) | 2 lines

More updates to protocol handlers and reimplemented terminate_connection().

------------------------------------------------------------------------
r745 | guus | 2001-10-30 13:59:12 +0100 (di, 30 okt 2001) | 2 lines

Various fixes, tinc is now somewhat capable of actually working again.

------------------------------------------------------------------------
r744 | guus | 2001-10-29 14:14:57 +0100 (ma, 29 okt 2001) | 2 lines

Working version of Kruskal's algorithm. The running time is very bad though.

------------------------------------------------------------------------
r742 | guus | 2001-10-28 23:42:49 +0100 (zo, 28 okt 2001) | 4 lines

- More changes needed for Kruskal's algorithm
- Implemented a breadth-first search algorithm as a cheap substitution for a
  single-source shortest path algorithm.

------------------------------------------------------------------------
r741 | guus | 2001-10-28 11:16:18 +0100 (zo, 28 okt 2001) | 3 lines

- More s/vertex/edge/g
- Implementation of Kruskal's minimum spanning tree algorithm.

------------------------------------------------------------------------
r739 | guus | 2001-10-28 09:41:19 +0100 (zo, 28 okt 2001) | 2 lines

What was I thinking? s/vertex/edge/g.

------------------------------------------------------------------------
r736 | guus | 2001-10-27 17:19:13 +0200 (za, 27 okt 2001) | 2 lines

Various small fixes to make tinc runnable again.

------------------------------------------------------------------------
r735 | guus | 2001-10-27 15:13:35 +0200 (za, 27 okt 2001) | 2 lines

Make sure everything links.

------------------------------------------------------------------------
r734 | guus | 2001-10-27 14:13:17 +0200 (za, 27 okt 2001) | 8 lines

Big bad commit:
- Transition to new node/vertex/connection structures
- Use new configuration handling everywhere
- Linux tun/tap device handling cleanup
- Start of IPv6 support in route.c

It compiles, but it won't link.

------------------------------------------------------------------------
r733 | guus | 2001-10-13 15:53:07 +0200 (za, 13 okt 2001) | 2 lines

Support new files (node/vertex/device.[ch]) and OpenBSD.

------------------------------------------------------------------------
r732 | guus | 2001-10-12 17:52:03 +0200 (vr, 12 okt 2001) | 2 lines

Forgot the tun specific stuff.

------------------------------------------------------------------------
r731 | guus | 2001-10-12 17:49:11 +0200 (vr, 12 okt 2001) | 2 lines

Added OpenBSD tun device handling. Untested though.

------------------------------------------------------------------------
r729 | guus | 2001-10-12 17:38:35 +0200 (vr, 12 okt 2001) | 2 lines

Forgot to remove some old #ifdef stuff.

------------------------------------------------------------------------
r728 | guus | 2001-10-12 17:33:21 +0200 (vr, 12 okt 2001) | 2 lines

Solaris tun device handling cleaned up a bit and added.

------------------------------------------------------------------------
r726 | guus | 2001-10-12 17:22:59 +0200 (vr, 12 okt 2001) | 2 lines

Added FreeBSD tap device handling.

------------------------------------------------------------------------
r724 | guus | 2001-10-12 17:16:03 +0200 (vr, 12 okt 2001) | 4 lines

- Split tap device stuff out of net.[ch]
- Each OS gets it's own device.c to get rid of evil #ifdefs.
- Cleaned up Linux ethertap and tun/tap handling.

------------------------------------------------------------------------
r721 | guus | 2001-10-10 22:35:10 +0200 (wo, 10 okt 2001) | 2 lines

More updates to new node/vertex/connection combo.

------------------------------------------------------------------------
r720 | guus | 2001-10-10 22:34:27 +0200 (wo, 10 okt 2001) | 6 lines

Revamp configuration handling:
- Store everything in AVL trees (fast lookup)
- No need for hazahaza anymore
- Parse values when needed
- This simplifies a lot of config variable lookups.

------------------------------------------------------------------------
r719 | guus | 2001-10-10 11:42:29 +0200 (wo, 10 okt 2001) | 3 lines

Removed everything from connection.c that has already been moved to node.c and
vertex.c.

------------------------------------------------------------------------
r718 | guus | 2001-10-10 10:49:47 +0200 (wo, 10 okt 2001) | 3 lines

Further implementation of doc/CONNECTIVITY. connection.[ch] is now split into a
node, vertex and connection part.

------------------------------------------------------------------------
r715 | wsl | 2001-10-09 21:41:56 +0200 (di, 09 okt 2001) | 2 lines

make is not always GNU make.

------------------------------------------------------------------------
r714 | guus | 2001-10-09 21:37:10 +0200 (di, 09 okt 2001) | 2 lines

Small corrections.

------------------------------------------------------------------------
r713 | guus | 2001-10-09 21:30:30 +0200 (di, 09 okt 2001) | 2 lines

Started implementing doc/CONNECTIVITY.

------------------------------------------------------------------------
r710 | guus | 2001-10-08 17:47:30 +0200 (ma, 08 okt 2001) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r709 | guus | 2001-10-08 17:37:14 +0200 (ma, 08 okt 2001) | 3 lines

Fix bug when dropping an old connection in favour of a new one from the
same host.

------------------------------------------------------------------------
r708 | guus | 2001-10-08 15:37:30 +0200 (ma, 08 okt 2001) | 4 lines

- Use ping timeout mechanism to close connections that don't authenticate
  in time.
- Fix potential segmentation fault in check_dead_connections().

------------------------------------------------------------------------
r707 | guus | 2001-10-08 13:59:08 +0200 (ma, 08 okt 2001) | 3 lines

Fix bug where tinc would crash because of a portscan or a connection from a
tinc daemon with a different version.

------------------------------------------------------------------------
r706 | guus | 2001-10-08 13:47:55 +0200 (ma, 08 okt 2001) | 4 lines

- Renamed lastbutonehop to prevhop.
- Added connection_t *via to connection_t, this keeps record of where
  to send UDP packets to.

------------------------------------------------------------------------
r705 | guus | 2001-09-25 15:39:11 +0200 (di, 25 sep 2001) | 2 lines

Fill in next- and lastbutonehop for myself.

------------------------------------------------------------------------
r704 | guus | 2001-09-25 15:35:45 +0200 (di, 25 sep 2001) | 2 lines

Try next connectto instead of the same over and over.

------------------------------------------------------------------------
r703 | guus | 2001-09-24 16:16:29 +0200 (ma, 24 sep 2001) | 2 lines

Show next- and lastbutonehop when dumping connectionlist to syslog.

------------------------------------------------------------------------
r702 | guus | 2001-09-24 16:12:00 +0200 (ma, 24 sep 2001) | 4 lines

Not only keep track of nexthop, but also of lastbutonehop. If destination cl
wants indirectdata, send it to the lastbutonehop instead, unless it too has
requested so, and so on.

------------------------------------------------------------------------
r701 | guus | 2001-09-24 15:31:15 +0200 (ma, 24 sep 2001) | 3 lines

- Try old TUN/TAP ioctl() request if the one from if_tun.h fails.
- Be more verbose about the kind of tap device used.

------------------------------------------------------------------------
r700 | zarq | 2001-09-05 20:38:09 +0200 (wo, 05 sep 2001) | 3 lines

Killing tincd with SIGINT causes it to toggle between the current
debug level and level 5.  Useful to debug a running tincd.

------------------------------------------------------------------------
r699 | guus | 2001-09-01 14:46:49 +0200 (za, 01 sep 2001) | 2 lines

config_t* is a const parameter in get_config_val().

------------------------------------------------------------------------
r698 | guus | 2001-09-01 14:36:53 +0200 (za, 01 sep 2001) | 2 lines

Optional signal number for -k option.

------------------------------------------------------------------------
r697 | guus | 2001-09-01 14:36:06 +0200 (za, 01 sep 2001) | 2 lines

Revised reconnection mechanism, always try out all ConnectTo lines.

------------------------------------------------------------------------
r696 | guus | 2001-09-01 14:02:39 +0200 (za, 01 sep 2001) | 3 lines

Remove IndirectData support for now, new implementation will be added
later.

------------------------------------------------------------------------
r695 | guus | 2001-08-28 22:52:39 +0200 (di, 28 aug 2001) | 2 lines

Fix signed comparison bug in lookup_subnet_ipv4().

------------------------------------------------------------------------
r694 | guus | 2001-08-17 20:14:04 +0200 (vr, 17 aug 2001) | 2 lines

Don't send DEL_HOSTs when !status.meta

------------------------------------------------------------------------
r693 | guus | 2001-07-24 22:14:30 +0200 (di, 24 jul 2001) | 2 lines

Explicitly log which type of tunnel device is used.

------------------------------------------------------------------------
r692 | guus | 2001-07-24 22:13:42 +0200 (di, 24 jul 2001) | 2 lines

The val variable in a config_t is never used as a long.

------------------------------------------------------------------------
r691 | guus | 2001-07-24 22:04:22 +0200 (di, 24 jul 2001) | 3 lines

Write public key to rsa_key.pub instead of rsa_key.priv (if not host
configuration file is found).

------------------------------------------------------------------------
r690 | guus | 2001-07-24 22:03:40 +0200 (di, 24 jul 2001) | 2 lines

Don't use %m in fprintf().

------------------------------------------------------------------------
r689 | guus | 2001-07-24 10:51:36 +0200 (di, 24 jul 2001) | 2 lines

More on edges.

------------------------------------------------------------------------
r688 | guus | 2001-07-24 00:06:22 +0200 (di, 24 jul 2001) | 2 lines

Discuss how sending ADD_EDGEs would be better than sending ADD_HOSTs.

------------------------------------------------------------------------
r687 | guus | 2001-07-22 19:41:52 +0200 (zo, 22 jul 2001) | 2 lines

Written down a possible solution.

------------------------------------------------------------------------
r686 | guus | 2001-07-22 17:25:13 +0200 (zo, 22 jul 2001) | 2 lines

Correctie.

------------------------------------------------------------------------
r685 | guus | 2001-07-22 16:58:18 +0200 (zo, 22 jul 2001) | 2 lines

Small update.

------------------------------------------------------------------------
r684 | guus | 2001-07-22 16:46:11 +0200 (zo, 22 jul 2001) | 2 lines

Described problem in more detail.

------------------------------------------------------------------------
r683 | guus | 2001-07-22 16:04:38 +0200 (zo, 22 jul 2001) | 2 lines

Started writing a document about how daemons connect to each other.

------------------------------------------------------------------------
r681 | guus | 2001-07-21 22:21:25 +0200 (za, 21 jul 2001) | 3 lines

Woohoo! tinc now compiles, runs and actually *works* on Solaris!
Tested on a SparcStation 20MP running Solaris 7. (Thanks, jiggel!)

------------------------------------------------------------------------
r680 | guus | 2001-07-21 17:46:34 +0200 (za, 21 jul 2001) | 2 lines

Always close all sockets in terminate_connection().

------------------------------------------------------------------------
r679 | guus | 2001-07-21 17:34:18 +0200 (za, 21 jul 2001) | 3 lines

Updated terminate_connection() so you can choose if DEL_HOSTs should be
sent or not.

------------------------------------------------------------------------
r678 | guus | 2001-07-20 22:25:10 +0200 (vr, 20 jul 2001) | 6 lines

Added purge_tree for connection_t's which are no longer in the connection,
active or id trees, but which may still be referenced. This tree is flushed
when it is safe, this replaces purge_connection_tree().

Also lots of bugfixes related to the new trees.

------------------------------------------------------------------------
r677 | guus | 2001-07-20 15:54:19 +0200 (vr, 20 jul 2001) | 2 lines

Remove all unnecessary status.meta and status.active checks.

------------------------------------------------------------------------
r676 | guus | 2001-07-19 14:29:40 +0200 (do, 19 jul 2001) | 2 lines

Correctly use the active_tree.

------------------------------------------------------------------------
r675 | guus | 2001-07-15 20:07:31 +0200 (zo, 15 jul 2001) | 6 lines

Split connection list into two lists:
 - one list to handle all incoming/outgoing TCP connections
 - another list to handle all UDP connections

This will prevent race conditions.

------------------------------------------------------------------------
r674 | guus | 2001-07-15 16:21:12 +0200 (zo, 15 jul 2001) | 2 lines

Correct inclusion of standard if_tun.h header file.

------------------------------------------------------------------------
r673 | guus | 2001-07-04 10:43:32 +0200 (wo, 04 jul 2001) | 2 lines

Don't load table of verbose OpenSSL errormessages.

------------------------------------------------------------------------
r672 | guus | 2001-07-04 10:41:36 +0200 (wo, 04 jul 2001) | 3 lines

- Always use <openssl/include.h> instead of just <include.h>
- Check if RAND_pseudo_bytes() exists, otherwise just use RAND_bytes()

------------------------------------------------------------------------
r671 | guus | 2001-07-01 23:42:13 +0200 (zo, 01 jul 2001) | 2 lines

Check for all potential duplicate entries in the id tree.

------------------------------------------------------------------------
r670 | guus | 2001-07-01 11:21:14 +0200 (zo, 01 jul 2001) | 2 lines

Fix compiler warning.

------------------------------------------------------------------------
r669 | guus | 2001-07-01 11:21:01 +0200 (zo, 01 jul 2001) | 2 lines

Fix printf format bug.

------------------------------------------------------------------------
r668 | guus | 2001-07-01 11:06:17 +0200 (zo, 01 jul 2001) | 2 lines

More items marked as done.

------------------------------------------------------------------------
r667 | guus | 2001-06-29 17:38:40 +0200 (vr, 29 jun 2001) | 2 lines

Dutch translation updated.

------------------------------------------------------------------------
r666 | guus | 2001-06-29 17:33:18 +0200 (vr, 29 jun 2001) | 2 lines

Update of RedHat build scripts.

------------------------------------------------------------------------
r665 | guus | 2001-06-29 17:32:26 +0200 (vr, 29 jun 2001) | 3 lines

It appears that autogen.sh doesn't like es.po if it isn't mentioned in
the makefile/configure scripts.

------------------------------------------------------------------------
r663 | guus | 2001-06-29 16:15:46 +0200 (vr, 29 jun 2001) | 2 lines

Check for dlopen in standard libraries first (needed for DEC OSF).

------------------------------------------------------------------------
r662 | guus | 2001-06-29 15:09:55 +0200 (vr, 29 jun 2001) | 2 lines

Fix gcc 3.0 warnings.

------------------------------------------------------------------------
r661 | guus | 2001-06-29 15:09:32 +0200 (vr, 29 jun 2001) | 2 lines

Log error if two hosts connect with same IP/port tuple.

------------------------------------------------------------------------
r660 | guus | 2001-06-29 13:09:13 +0200 (vr, 29 jun 2001) | 2 lines

Also remove po/Makefile.in.in, which is generated by autogen.sh.

------------------------------------------------------------------------
r659 | guus | 2001-06-29 13:03:27 +0200 (vr, 29 jun 2001) | 2 lines

es.po revived.

------------------------------------------------------------------------
r658 | guus | 2001-06-29 12:30:18 +0200 (vr, 29 jun 2001) | 5 lines

Execute tinc-down BEFORE tap device is closed. This is a. more symmetric
(tinc-up is started after tap device is opened) and b. is needed for
tun/tap device, where the interface does not exist anymore after the
device file is closed.

------------------------------------------------------------------------
r657 | guus | 2001-06-29 12:27:57 +0200 (vr, 29 jun 2001) | 2 lines

Don't build Spanish translation.

------------------------------------------------------------------------
r656 | guus | 2001-06-29 12:27:33 +0200 (vr, 29 jun 2001) | 2 lines

ABOUT-NLS is created by autogen.sh.

------------------------------------------------------------------------
r655 | guus | 2001-06-29 12:23:46 +0200 (vr, 29 jun 2001) | 3 lines

Spanish translation removed. Nobody maintains it, and it is severely
outdated.

------------------------------------------------------------------------
r654 | zarq | 2001-06-27 00:00:57 +0200 (wo, 27 jun 2001) | 2 lines

Small fix to make it compile again

------------------------------------------------------------------------
r653 | guus | 2001-06-21 20:28:52 +0200 (do, 21 jun 2001) | 4 lines

Reinstated search for if_tun.h in kernel source tree, because apparently
/usr/include/linux does not always have the same contents as the include
files from the currently running kernel.

------------------------------------------------------------------------
r652 | guus | 2001-06-21 18:37:47 +0200 (do, 21 jun 2001) | 2 lines

Remove #warnings I used for debugging stuff.

------------------------------------------------------------------------
r651 | guus | 2001-06-21 18:37:05 +0200 (do, 21 jun 2001) | 2 lines

Check for and add -ldl.

------------------------------------------------------------------------
r650 | guus | 2001-06-21 18:16:32 +0200 (do, 21 jun 2001) | 6 lines

- Solaris compile fixes
- Set mymac to broadcast MAC so that ifconfig hw ether <...> is really not
  needed anymore.
- Forwarding of indirect packets when in switch mode (because the kernel
  will not do it for us then).

------------------------------------------------------------------------
r649 | zarq | 2001-06-20 23:32:40 +0200 (wo, 20 jun 2001) | 2 lines

Don't include the debian/ dir in a release

------------------------------------------------------------------------
r648 | guus | 2001-06-09 12:00:34 +0200 (za, 09 jun 2001) | 2 lines

Woops - big bug in send_key_changed fixed.

------------------------------------------------------------------------
r647 | guus | 2001-06-08 20:02:10 +0200 (vr, 08 jun 2001) | 2 lines

Only reset seconds_till_retry when we activate the outgoing connection.

------------------------------------------------------------------------
r646 | guus | 2001-06-07 09:51:04 +0200 (do, 07 jun 2001) | 6 lines

Changed drastically because it didn't work correctly:
- Don't cache the --with-openssl-* option arguments
- Only search for openssl/*.h, the openssl include files include other
  files only from an openssl/ directory too
- Set CPPFLAGS before AC_CHECK_HEADERS

------------------------------------------------------------------------
r645 | guus | 2001-06-07 09:48:11 +0200 (do, 07 jun 2001) | 2 lines

Save configure cache more often.

------------------------------------------------------------------------
r644 | guus | 2001-06-06 21:12:38 +0200 (wo, 06 jun 2001) | 2 lines

Fixes to make switching work between hosts that have no meta-connection.

------------------------------------------------------------------------
r643 | guus | 2001-06-06 21:11:16 +0200 (wo, 06 jun 2001) | 2 lines

Log and warn about duplicate subnet_add()'s for the same subnet.

------------------------------------------------------------------------
r642 | guus | 2001-06-05 21:45:47 +0200 (di, 05 jun 2001) | 2 lines

Add missing? counting of total_socket_in.

------------------------------------------------------------------------
r641 | guus | 2001-06-05 21:39:54 +0200 (di, 05 jun 2001) | 6 lines

You can now put an option "Mode" in tinc.conf, and choose from:

- Mode = router (default, work like tinc has always worked)
- Mode = switch (work like a switch)
- Mode = hub    (work like a hub, broadcasting everything)

------------------------------------------------------------------------
r640 | guus | 2001-06-05 20:07:14 +0200 (di, 05 jun 2001) | 2 lines

Fix bug where lookup_subnet_ipv4() could go into an infinite loop.

------------------------------------------------------------------------
r639 | guus | 2001-06-05 18:31:59 +0200 (di, 05 jun 2001) | 2 lines

- This oneliner removes the need for ifconfig tap? hw ether fe:fd:0:0:0:0

------------------------------------------------------------------------
r638 | guus | 2001-06-05 18:15:48 +0200 (di, 05 jun 2001) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r637 | guus | 2001-06-05 18:13:41 +0200 (di, 05 jun 2001) | 3 lines

Changed some stuff to allow correct generation of po/Makefile after a
make cvs-clean.

------------------------------------------------------------------------
r636 | guus | 2001-06-05 18:09:55 +0200 (di, 05 jun 2001) | 3 lines

- tinc can now act as a switch or a hub too (as opposed to a router only)
- cleaner initialisation of "UNKNOWN" and "MYSELF" names

------------------------------------------------------------------------
r635 | guus | 2001-06-04 13:14:35 +0200 (ma, 04 jun 2001) | 3 lines

Added proxy-arp support. No more ifconfig -arp needed. Works like a charm
under FreeBSD now :).

------------------------------------------------------------------------
r634 | guus | 2001-06-01 10:02:09 +0200 (vr, 01 jun 2001) | 2 lines

Fix subnet_lookup() for overlapping subnets. Needs rethinking.

------------------------------------------------------------------------
r633 | guus | 2001-05-28 10:56:57 +0200 (ma, 28 mei 2001) | 2 lines

Make sure Solaris is happy too.

------------------------------------------------------------------------
r632 | guus | 2001-05-28 10:21:43 +0200 (ma, 28 mei 2001) | 2 lines

Small fixes to allow correct compilation under FreeBSD (tested with 4.3)

------------------------------------------------------------------------
r631 | zarq | 2001-05-26 11:35:28 +0200 (za, 26 mei 2001) | 2 lines

Don't distribute autogen.sh in a release

------------------------------------------------------------------------
r630 | zarq | 2001-05-26 11:35:00 +0200 (za, 26 mei 2001) | 2 lines

Changed version number to 1.0-cvs

------------------------------------------------------------------------
r629 | zarq | 2001-05-26 11:34:11 +0200 (za, 26 mei 2001) | 2 lines

New make target: `make release'

------------------------------------------------------------------------
r628 | guus | 2001-05-25 20:57:37 +0200 (vr, 25 mei 2001) | 2 lines

Fix sample configuration to show keys in PEM format and correct tapdevice.

------------------------------------------------------------------------
r627 | guus | 2001-05-25 15:24:34 +0200 (vr, 25 mei 2001) | 3 lines

Documents are merged. Now we only need to check the ports and the TCPonly
and IndirectData options.

------------------------------------------------------------------------
r626 | guus | 2001-05-25 14:45:37 +0200 (vr, 25 mei 2001) | 2 lines

Merged PROTOCOL, NETWORK and SECURITY2 with the texinfo manual.

------------------------------------------------------------------------
r625 | guus | 2001-05-25 13:54:28 +0200 (vr, 25 mei 2001) | 2 lines

TCPonly now works (in a relatively clean way too).

------------------------------------------------------------------------
r624 | guus | 2001-05-25 12:08:11 +0200 (vr, 25 mei 2001) | 2 lines

With recent kernels the tun device file is located in /dev/net.

------------------------------------------------------------------------
r623 | guus | 2001-05-25 12:06:13 +0200 (vr, 25 mei 2001) | 2 lines

Small corrections to the manuals.

------------------------------------------------------------------------
r622 | guus | 2001-05-25 10:36:11 +0200 (vr, 25 mei 2001) | 6 lines

Small fixes:

- Fix compiler warnings (one was a real (but harmless) bug)
- Don't send PING packets if there is UDP traffic
- Correctly terminate strings containing salt for PING/PONG packets

------------------------------------------------------------------------
r621 | guus | 2001-05-24 23:52:26 +0200 (do, 24 mei 2001) | 2 lines

Only send key_changed if it was previously requested.

------------------------------------------------------------------------
r620 | guus | 2001-05-24 23:32:30 +0200 (do, 24 mei 2001) | 3 lines

All features for 1.0 are implemented now, we just have to check the
FreeBSD and Solaris ports and merge some docs.

------------------------------------------------------------------------
r619 | guus | 2001-05-24 23:30:36 +0200 (do, 24 mei 2001) | 3 lines

Since this is incompatible with some earlier versions, PROT_CURRENT is
increased.

------------------------------------------------------------------------
r618 | guus | 2001-05-24 23:29:09 +0200 (do, 24 mei 2001) | 3 lines

Add randomness to PING/PONG packets to prevent crypto attacks on quiet
tunnels.

------------------------------------------------------------------------
r617 | guus | 2001-05-24 22:40:13 +0200 (do, 24 mei 2001) | 2 lines

Changed URL from kernelnotes.org to linuxdoc.org.

------------------------------------------------------------------------
r616 | guus | 2001-05-24 22:24:12 +0200 (do, 24 mei 2001) | 6 lines

More revisions to the documentation:

- Removed cruft
- Reordered some sections to make it more logical for the beginner
- Added small examples and hints about configuration files

------------------------------------------------------------------------
r615 | guus | 2001-05-19 17:50:51 +0200 (za, 19 mei 2001) | 5 lines

- Make sure correct information is supplied for both old kernels (with
  ethertap) and for new kernels (with TUN/TAP driver).
- Revised example configuration and made it conform to latest (CVS) version of
  tinc.

------------------------------------------------------------------------
r614 | guus | 2001-05-07 21:08:46 +0200 (ma, 07 mei 2001) | 4 lines

- s/ip_t/ipv4_t/g
- Add "salt" to the beginning of UDP packets. Replaces length field which
  is not useful anyway.

------------------------------------------------------------------------
r613 | guus | 2001-05-04 20:45:02 +0200 (vr, 04 mei 2001) | 2 lines

Correctly cycle through ConnectTo variables.

------------------------------------------------------------------------
r612 | guus | 2001-04-13 12:30:04 +0200 (vr, 13 apr 2001) | 2 lines

Depend on new ssl package and install alias for universal TUN/TAP module.

------------------------------------------------------------------------
r611 | guus | 2001-03-13 22:33:31 +0100 (di, 13 mrt 2001) | 2 lines

Check indirectdata option before forwarding certain requests.

------------------------------------------------------------------------
r610 | guus | 2001-03-13 22:32:24 +0100 (di, 13 mrt 2001) | 2 lines

Ignore alarm signals if we do not need to respond to them.

------------------------------------------------------------------------
r609 | guus | 2001-03-13 10:55:14 +0100 (di, 13 mrt 2001) | 3 lines

Fixed bug in setup_signals() that would make tinc die when unexpected
signals were caught.

------------------------------------------------------------------------
r608 | guus | 2001-03-13 00:58:19 +0100 (di, 13 mrt 2001) | 3 lines

Fixed a race condition triggered by receive_meta() and the new
authentication scheme.

------------------------------------------------------------------------
r607 | guus | 2001-03-04 15:00:24 +0100 (zo, 04 mrt 2001) | 3 lines

Added a description of what is going on in net.c and route.c, and how
packets flow through tinc.

------------------------------------------------------------------------
r606 | guus | 2001-03-04 14:59:53 +0100 (zo, 04 mrt 2001) | 2 lines

Updated translation.

------------------------------------------------------------------------
r605 | guus | 2001-03-04 14:59:32 +0100 (zo, 04 mrt 2001) | 5 lines

- route.c is now used to determine destination
- flags are removed, since they were not used at all. Use options instead.
- indirectdata works now, tcponly almost...
- made functions that don't return useful information void

------------------------------------------------------------------------
r603 | guus | 2001-03-02 12:25:56 +0100 (vr, 02 mrt 2001) | 2 lines

Added explaination of our key exchange using RSA encryption.

------------------------------------------------------------------------
r602 | guus | 2001-03-01 22:32:04 +0100 (do, 01 mrt 2001) | 2 lines

Various small fixes.

------------------------------------------------------------------------
r601 | guus | 2001-02-27 17:50:29 +0100 (di, 27 feb 2001) | 2 lines

Removed compiler warning.

------------------------------------------------------------------------
r600 | guus | 2001-02-27 17:37:31 +0100 (di, 27 feb 2001) | 2 lines

Removed lots of compiler warnings.

------------------------------------------------------------------------
r599 | guus | 2001-02-27 17:17:04 +0100 (di, 27 feb 2001) | 4 lines

- Fixed Interface option (untested)
- Removed error handling for non-critical socket options
- Added TCP_NODELAY and IPTOS_LOWDELAY options for meta sockets.

------------------------------------------------------------------------
r598 | zarq | 2001-02-27 17:15:14 +0100 (di, 27 feb 2001) | 2 lines

Authentication done

------------------------------------------------------------------------
r597 | guus | 2001-02-27 16:33:39 +0100 (di, 27 feb 2001) | 3 lines

Don't forget to reconnect if outgoing connection fails during
authentication.

------------------------------------------------------------------------
r596 | guus | 2001-02-26 12:37:20 +0100 (ma, 26 feb 2001) | 3 lines

- Make sure METAKEY is smaller than the modulus of the RSA key
- Get symmetric key from the least significant bytes of the RSA message

------------------------------------------------------------------------
r595 | guus | 2001-02-25 21:17:46 +0100 (zo, 25 feb 2001) | 2 lines

Added process.c to the translated files.

------------------------------------------------------------------------
r594 | guus | 2001-02-25 20:09:45 +0100 (zo, 25 feb 2001) | 2 lines

Implemented new authentication scheme from doc/SECURITY2.

------------------------------------------------------------------------
r593 | guus | 2001-02-25 17:34:19 +0100 (zo, 25 feb 2001) | 3 lines

Encrypt network packets in CBC mode instead of CFB mode.
(This breaks compatibility with all previous versions!)

------------------------------------------------------------------------
r592 | guus | 2001-02-25 17:04:00 +0100 (zo, 25 feb 2001) | 2 lines

Copy packets before putting them in the queue.

------------------------------------------------------------------------
r591 | guus | 2001-02-25 16:34:50 +0100 (zo, 25 feb 2001) | 2 lines

Free node->data and node, not node->data twice.

------------------------------------------------------------------------
r590 | guus | 2001-02-25 15:51:42 +0100 (zo, 25 feb 2001) | 2 lines

Add missing \n.

------------------------------------------------------------------------
r589 | guus | 2001-02-25 12:09:29 +0100 (zo, 25 feb 2001) | 2 lines

Corrected check for errors after read() calls.

------------------------------------------------------------------------
r588 | wsl | 2001-02-20 22:53:18 +0100 (di, 20 feb 2001) | 2 lines

Important bugfix in avl_insert_before() and avl_insert_after()

------------------------------------------------------------------------
r587 | zarq | 2001-02-18 03:13:26 +0100 (zo, 18 feb 2001) | 3 lines

tinc_TUNTAP now substitutes the values outside the AC_CACHE_CHECK
block.  configure should now correctly set HAVE_TUNTAP.

------------------------------------------------------------------------
r586 | guus | 2001-02-13 10:54:29 +0100 (di, 13 feb 2001) | 2 lines

Added description of the proposed new authentication scheme.

------------------------------------------------------------------------
r584 | zarq | 2001-02-11 12:55:28 +0100 (zo, 11 feb 2001) | 2 lines

More files to ignore in CVS

------------------------------------------------------------------------
r582 | guus | 2001-02-11 12:50:09 +0100 (zo, 11 feb 2001) | 4 lines

- Updated CVS_CREATED to remove intl/ directory and some other
  autogenerated files.
- Checked if all INCLUDES/LIBS/etc directives inherit the global variables.

------------------------------------------------------------------------
r581 | guus | 2001-02-11 12:46:14 +0100 (zo, 11 feb 2001) | 2 lines

Ignore file for src/

------------------------------------------------------------------------
r580 | guus | 2001-02-11 12:44:32 +0100 (zo, 11 feb 2001) | 3 lines

Added .cvsignore files to get rid of warnings and prevent autogenerated
files from being added accidentaly.

------------------------------------------------------------------------
r578 | guus | 2001-02-06 11:42:27 +0100 (di, 06 feb 2001) | 2 lines

Removed another local definition of the variable "errno"

------------------------------------------------------------------------
r577 | guus | 2001-02-06 11:13:44 +0100 (di, 06 feb 2001) | 2 lines

Updated dutch translation.

------------------------------------------------------------------------
r576 | guus | 2001-02-06 11:13:22 +0100 (di, 06 feb 2001) | 2 lines

Fix memory leak in avl_insert() if item was already inserted.

------------------------------------------------------------------------
r575 | guus | 2001-02-06 11:12:51 +0100 (di, 06 feb 2001) | 2 lines

FreeBSD compile fixes (thanks to XeF4)

------------------------------------------------------------------------
r574 | zarq | 2001-01-18 14:02:34 +0100 (do, 18 jan 2001) | 2 lines

Unpack sample-config.tar.gz when installing

------------------------------------------------------------------------
r573 | zarq | 2001-01-18 14:01:42 +0100 (do, 18 jan 2001) | 2 lines

Distribute the sample config as a .tar.gz

------------------------------------------------------------------------
r572 | zarq | 2001-01-18 14:00:57 +0100 (do, 18 jan 2001) | 2 lines

Fixed some errors

------------------------------------------------------------------------
r570 | zarq | 2001-01-17 02:48:44 +0100 (wo, 17 jan 2001) | 2 lines

Get the PO files up to date with the current source

------------------------------------------------------------------------
r569 | zarq | 2001-01-17 02:47:39 +0100 (wo, 17 jan 2001) | 2 lines

Get the Debian changelog up to date

------------------------------------------------------------------------
r568 | zarq | 2001-01-17 02:40:46 +0100 (wo, 17 jan 2001) | 2 lines

Merged documentation with various updates I had lying around

------------------------------------------------------------------------
r567 | zarq | 2001-01-17 02:34:08 +0100 (wo, 17 jan 2001) | 2 lines

Second draft of the release notes

------------------------------------------------------------------------
r566 | zarq | 2001-01-17 02:31:56 +0100 (wo, 17 jan 2001) | 2 lines

Change version to 1.0pre4

------------------------------------------------------------------------
r565 | zarq | 2001-01-17 02:30:32 +0100 (wo, 17 jan 2001) | 2 lines

Set Architecture to `any'

------------------------------------------------------------------------
r564 | zarq | 2001-01-17 02:30:05 +0100 (wo, 17 jan 2001) | 2 lines

Fix error reporting of read_config

------------------------------------------------------------------------
r563 | guus | 2001-01-13 17:36:23 +0100 (za, 13 jan 2001) | 6 lines

- Allow ASN1 style keys to be in the config files.
  Note: tinc ignores private key in the main config file, tinc.conf,
  because it should really be in a separate file.
- When generating new keys, check if name is known and by default append
  the public key to the host configuration file (otherwise rsa_key.pub).

------------------------------------------------------------------------
r562 | guus | 2001-01-13 15:56:46 +0100 (za, 13 jan 2001) | 2 lines

- Copy entire sample-config directory to /etc/tinc/example upon installing.

------------------------------------------------------------------------
r561 | guus | 2001-01-13 15:38:18 +0100 (za, 13 jan 2001) | 2 lines

Added sample configuration directory.

------------------------------------------------------------------------
r552 | guus | 2001-01-11 12:19:08 +0100 (do, 11 jan 2001) | 2 lines

- Only send out DEL_HOSTs for hosts with a meta connection

------------------------------------------------------------------------
r551 | guus | 2001-01-08 22:32:30 +0100 (ma, 08 jan 2001) | 2 lines

- Cleaned up subnet_t

------------------------------------------------------------------------
r550 | guus | 2001-01-08 22:32:00 +0100 (ma, 08 jan 2001) | 2 lines

- Sign was wrong in search_closest_smaller/greater

------------------------------------------------------------------------
r549 | guus | 2001-01-08 21:35:30 +0100 (ma, 08 jan 2001) | 2 lines

- Squashed another nasty bug.

------------------------------------------------------------------------
r548 | guus | 2001-01-07 21:19:35 +0100 (zo, 07 jan 2001) | 2 lines

- Added indirectdata and tcponly functionality.

------------------------------------------------------------------------
r547 | guus | 2001-01-07 21:19:08 +0100 (zo, 07 jan 2001) | 2 lines

- Fixed IPv6 subnet lookup routine.

------------------------------------------------------------------------
r546 | guus | 2001-01-07 18:09:07 +0100 (zo, 07 jan 2001) | 2 lines

- It's 2001, all copyright notices are updated.

------------------------------------------------------------------------
r545 | guus | 2001-01-07 18:08:03 +0100 (zo, 07 jan 2001) | 2 lines

- Description of protocol and authentication updated.

------------------------------------------------------------------------
r544 | guus | 2001-01-07 16:27:30 +0100 (zo, 07 jan 2001) | 3 lines

- Added header file for route.c. The routing routines in it are not used
  yet, but have a look at the source for the ideas behind it.

------------------------------------------------------------------------
r543 | guus | 2001-01-07 16:25:49 +0100 (zo, 07 jan 2001) | 2 lines

- Reinstated a queue for outgoing packets.

------------------------------------------------------------------------
r542 | guus | 2001-01-07 16:24:52 +0100 (zo, 07 jan 2001) | 3 lines

- Changed list routines to give it the same look'n'feel as the rbl and
  avl tree library.

------------------------------------------------------------------------
r540 | guus | 2001-01-06 21:43:03 +0100 (za, 06 jan 2001) | 2 lines

- Typo.

------------------------------------------------------------------------
r539 | guus | 2001-01-06 21:02:21 +0100 (za, 06 jan 2001) | 2 lines

- Updated texinfo manual.

------------------------------------------------------------------------
r538 | guus | 2001-01-06 19:44:55 +0100 (za, 06 jan 2001) | 2 lines

- Updated manual pages.

------------------------------------------------------------------------
r537 | guus | 2001-01-06 19:21:17 +0100 (za, 06 jan 2001) | 2 lines

- Changed license of AVL tree library to GPL.

------------------------------------------------------------------------
r536 | guus | 2001-01-06 19:03:41 +0100 (za, 06 jan 2001) | 4 lines

- Check and follow symlinks in is_safe_path
- By default write keys to tinc config directory
- Small fix in protocol.c

------------------------------------------------------------------------
r535 | guus | 2001-01-06 17:51:14 +0100 (za, 06 jan 2001) | 2 lines

- Updated dutch translation.

------------------------------------------------------------------------
r534 | guus | 2001-01-06 00:53:53 +0100 (za, 06 jan 2001) | 4 lines

- Let user choose whether keys are in the config files or separate
- Use AVL trees instead of RBL trees
- Fixed a lot of annoying subtle bugs! Thanks to gdb...

------------------------------------------------------------------------
r533 | guus | 2001-01-06 00:51:41 +0100 (za, 06 jan 2001) | 2 lines

- Doubled size of trace buffer for easier debugging.

------------------------------------------------------------------------
r532 | guus | 2001-01-06 00:50:56 +0100 (za, 06 jan 2001) | 2 lines

- AVL tree routines: faster than RBL, and also more stable.

------------------------------------------------------------------------
r529 | guus | 2000-12-22 22:34:24 +0100 (vr, 22 dec 2000) | 4 lines

- Don't even think about using sscanf with %as anymore
- Allow keys to be inside the config files or in a seperate file
- Small fixes

------------------------------------------------------------------------
r528 | zarq | 2000-12-22 18:15:26 +0100 (vr, 22 dec 2000) | 2 lines

Added lint target, requires lclint.

------------------------------------------------------------------------
r527 | zarq | 2000-12-22 18:10:25 +0100 (vr, 22 dec 2000) | 2 lines

Forget router.c

------------------------------------------------------------------------
r526 | zarq | 2000-12-22 17:59:16 +0100 (vr, 22 dec 2000) | 2 lines

Include autogen.sh (needed for the Debian package).

------------------------------------------------------------------------
r525 | zarq | 2000-12-22 17:54:56 +0100 (vr, 22 dec 2000) | 2 lines

Various small changes.

------------------------------------------------------------------------
r524 | zarq | 2000-12-06 14:33:49 +0100 (wo, 06 dec 2000) | 2 lines

Re-introduced MyVirtualIP and VpnMask, as dummy options.

------------------------------------------------------------------------
r523 | zarq | 2000-12-05 10:04:32 +0100 (di, 05 dec 2000) | 2 lines

Give a warning about having to re-create the keys

------------------------------------------------------------------------
r522 | zarq | 2000-12-05 10:03:41 +0100 (di, 05 dec 2000) | 2 lines

Ported it back to /bin/sh.

------------------------------------------------------------------------
r521 | zarq | 2000-12-05 10:03:19 +0100 (di, 05 dec 2000) | 3 lines

Install a file in /etc/modutils/tinc, containing all necessary aliases
and options for kernel modules.

------------------------------------------------------------------------
r520 | zarq | 2000-12-05 09:59:30 +0100 (di, 05 dec 2000) | 2 lines

Tiny bits of code beautifying

------------------------------------------------------------------------
r518 | zarq | 2000-12-05 09:56:44 +0100 (di, 05 dec 2000) | 2 lines

Oops.  I did some VERY wrong things with readline().  Fixed now.

------------------------------------------------------------------------
r517 | zarq | 2000-12-05 09:54:22 +0100 (di, 05 dec 2000) | 3 lines

Massive long awaited documentation update.  It's not finished yet,
most notably the example configuration is still old.

------------------------------------------------------------------------
r516 | zarq | 2000-12-03 13:23:06 +0100 (zo, 03 dec 2000) | 2 lines

Option -d accepts an argument to set the debug level immediately.

------------------------------------------------------------------------
r515 | zarq | 2000-12-03 13:22:19 +0100 (zo, 03 dec 2000) | 2 lines

Sort configuration directives

------------------------------------------------------------------------
r514 | zarq | 2000-12-03 13:21:20 +0100 (zo, 03 dec 2000) | 2 lines

Added documentation merger

------------------------------------------------------------------------
r513 | zarq | 2000-12-01 14:46:26 +0100 (vr, 01 dec 2000) | 2 lines

Include COPYING.README in the distribution.

------------------------------------------------------------------------
r512 | zarq | 2000-12-01 14:45:46 +0100 (vr, 01 dec 2000) | 3 lines

Stated that distributing executables linked with OpenSSL is permitted
provided that all other requirements of the GPL are complied with.

------------------------------------------------------------------------
r510 | zarq | 2000-12-01 13:38:42 +0100 (vr, 01 dec 2000) | 3 lines

Use buffer instead of line in read_config_file(), line may be assigned
NULL, so buffer always holds the pointer to the allocated space.

------------------------------------------------------------------------
r509 | zarq | 2000-12-01 13:36:36 +0100 (vr, 01 dec 2000) | 3 lines

readline() accepts two extra parameters, buf and buflen, to avoid
mallocing and freeing for every line that is read.

------------------------------------------------------------------------
r508 | zarq | 2000-12-01 00:44:07 +0100 (vr, 01 dec 2000) | 2 lines

Tagged `Storing private key in separate file' as done.

------------------------------------------------------------------------
r507 | zarq | 2000-12-01 00:39:55 +0100 (vr, 01 dec 2000) | 2 lines

All full stops have two spaces after them.  (Silly commit, I know.)

------------------------------------------------------------------------
r506 | zarq | 2000-12-01 00:18:21 +0100 (vr, 01 dec 2000) | 4 lines

New function read_rsa_public_key();
In net.c/setup_myself deleted old code to read the public key (which
is now implicitly read in together with the private key).

------------------------------------------------------------------------
r505 | zarq | 2000-11-30 23:48:48 +0100 (do, 30 nov 2000) | 2 lines

Avoid printing duplicate messages from read_rsa_keys

------------------------------------------------------------------------
r504 | zarq | 2000-11-30 23:33:16 +0100 (do, 30 nov 2000) | 2 lines

Better error checking when reading the RSA private key.

------------------------------------------------------------------------
r503 | zarq | 2000-11-30 23:32:14 +0100 (do, 30 nov 2000) | 4 lines

In readline(): initialise the line to zero length;
In read_config_file(): Test for EOF, and print the variable name that
caused an error.

------------------------------------------------------------------------
r502 | zarq | 2000-11-30 22:11:03 +0100 (do, 30 nov 2000) | 2 lines

The file is safe if it doesn't exist.

------------------------------------------------------------------------
r501 | zarq | 2000-11-30 21:08:41 +0100 (do, 30 nov 2000) | 6 lines

Read the PEM file pointed to by the configuration directive
PrivateKey.  This means thatt he meaning of this variable has changed,
it no longer should contain the private key directly.

WARNING: This code is untested.

------------------------------------------------------------------------
r500 | zarq | 2000-11-30 01:24:13 +0100 (do, 30 nov 2000) | 4 lines

Implemented is_safe_path, and extended ask_and_safe_open.

is_safe_path needs more work before it is useable.

------------------------------------------------------------------------
r499 | zarq | 2000-11-29 16:22:04 +0100 (wo, 29 nov 2000) | 2 lines

Updated Dutch translation

------------------------------------------------------------------------
r498 | zarq | 2000-11-29 15:30:07 +0100 (wo, 29 nov 2000) | 2 lines

Also free the pointer returned by readline().

------------------------------------------------------------------------
r497 | zarq | 2000-11-29 15:27:24 +0100 (wo, 29 nov 2000) | 2 lines

Use readline() in read_config_file() instead of fgets.

------------------------------------------------------------------------
r496 | zarq | 2000-11-29 15:23:08 +0100 (wo, 29 nov 2000) | 2 lines

xstrdup now takes a const pointer as an argument.

------------------------------------------------------------------------
r495 | zarq | 2000-11-29 15:24:40 +0100 (wo, 29 nov 2000) | 5 lines

Implemented a readline() function that will read an entire line into a
dynamically allocated buffer;

Ask for a file name in ask_and_safe_open().

------------------------------------------------------------------------
r494 | zarq | 2000-11-29 02:37:50 +0100 (wo, 29 nov 2000) | 2 lines

Added a check for a scanf that knows about %as.

------------------------------------------------------------------------
r492 | zarq | 2000-11-29 01:33:15 +0100 (wo, 29 nov 2000) | 3 lines

Check for get_current_dir_name.  There is a replacement function in
dropin.c.

------------------------------------------------------------------------
r491 | zarq | 2000-11-29 00:23:41 +0100 (wo, 29 nov 2000) | 3 lines

dropin.c/h contain a set of drop-in replacements for non-standard C
library functions (read: GNU extensions).

------------------------------------------------------------------------
r488 | zarq | 2000-11-29 00:12:57 +0100 (wo, 29 nov 2000) | 3 lines

Save RSA public and private keys to a separate file, instead of
wanting to copy them into a configuration file.

------------------------------------------------------------------------
r487 | zarq | 2000-11-28 09:59:27 +0100 (di, 28 nov 2000) | 4 lines

Use sigaction to set signal handlers, the previous commit (1.1.2.16)
already contained a large portion of what should have gone in this
one.

------------------------------------------------------------------------
r486 | zarq | 2000-11-27 21:52:55 +0100 (ma, 27 nov 2000) | 2 lines

Sort items to either 1.0 or future release goals.

------------------------------------------------------------------------
r485 | zarq | 2000-11-26 23:46:53 +0100 (zo, 26 nov 2000) | 3 lines

Check for the function strsignal, and define it to "" if it is not
available.

------------------------------------------------------------------------
r484 | zarq | 2000-11-26 23:42:34 +0100 (zo, 26 nov 2000) | 2 lines

Give an error message if daemon() failed.

------------------------------------------------------------------------
r483 | zarq | 2000-11-26 23:32:52 +0100 (zo, 26 nov 2000) | 2 lines

Updated Spanish translation, provided by Enrique Zanardi.

------------------------------------------------------------------------
r482 | guus | 2000-11-25 14:33:33 +0100 (za, 25 nov 2000) | 4 lines

- Use only one socket for all UDP traffic (for compatibility)
- Write pidfile again after detaching
- Check OS (for handling FreeBSD/Solaris tun/tap stuff)

------------------------------------------------------------------------
r481 | guus | 2000-11-25 00:30:50 +0100 (za, 25 nov 2000) | 2 lines

- Added daemon() replacement.

------------------------------------------------------------------------
r478 | guus | 2000-11-25 00:14:52 +0100 (za, 25 nov 2000) | 2 lines

- Added Armijn to the list

------------------------------------------------------------------------
r477 | guus | 2000-11-25 00:13:07 +0100 (za, 25 nov 2000) | 11 lines

Another big & bad commit:
- Added some extra search functions to rbl routines
- Fix subnet_lookup()
- Reorder some syslog messages to make more sense
- daemon() is back
- Don't let scripts execute in parallel (gives race conditions, and
  anyway something MIGHT just be configured which is necessary for further
  execution of tinc itself)
- Accidently merged check_child() with execute_script().
- Small fixes

------------------------------------------------------------------------
r476 | zarq | 2000-11-24 17:52:57 +0100 (vr, 24 nov 2000) | 3 lines

Add default tinc-up and tinc-down scripts for a Debian system.  These
do not yet work, it's just old code from init.d.

------------------------------------------------------------------------
r473 | zarq | 2000-11-24 15:15:20 +0100 (vr, 24 nov 2000) | 4 lines

Call autogen.sh instead of configure alone; and make cvs-clean instead
of distclean.  This way you can just cvs checkout && dpkg-buildpackage
in one go.

------------------------------------------------------------------------
r472 | zarq | 2000-11-24 15:13:51 +0100 (vr, 24 nov 2000) | 2 lines

Explain how to tell configure where OpenSSL lives.

------------------------------------------------------------------------
r471 | zarq | 2000-11-24 15:13:06 +0100 (vr, 24 nov 2000) | 2 lines

Set errno to 0 before trying to kill the other process.

------------------------------------------------------------------------
r470 | zarq | 2000-11-24 15:12:31 +0100 (vr, 24 nov 2000) | 3 lines

Alter CFLAGS, somehow INCLUDES doesn't propagate properly.  Still
doesn't work exactly like it should, but getting there.

------------------------------------------------------------------------
r469 | zarq | 2000-11-24 15:04:49 +0100 (vr, 24 nov 2000) | 2 lines

Set CFLAGS to -O2 -Wall when running configure

------------------------------------------------------------------------
r468 | zarq | 2000-11-24 15:00:32 +0100 (vr, 24 nov 2000) | 2 lines

Use cvs2cl instead of rcs2log to generate the ChangeLog.

------------------------------------------------------------------------
r467 | zarq | 2000-11-24 15:03:13 +0100 (vr, 24 nov 2000) | 2 lines

Set localstatedir to /var

------------------------------------------------------------------------
r465 | zarq | 2000-11-24 14:33:48 +0100 (vr, 24 nov 2000) | 3 lines

Do not attempt to retreive ChangeLog information only from the CABAL
tag, it doesn't work anyway.

------------------------------------------------------------------------
r464 | zarq | 2000-11-24 14:32:26 +0100 (vr, 24 nov 2000) | 2 lines

Do not check for the daemon() system call

------------------------------------------------------------------------
r463 | zarq | 2000-11-24 13:44:39 +0100 (vr, 24 nov 2000) | 2 lines

Do not use the C library's daemon() call.

------------------------------------------------------------------------
r462 | guus | 2000-11-23 10:30:33 +0100 (do, 23 nov 2000) | 4 lines

- Don't link with -ldl anymore
- Let's not use bash' built-in pwd function anymore... it does not follow
  symlinks.

------------------------------------------------------------------------
r461 | guus | 2000-11-23 00:09:38 +0100 (do, 23 nov 2000) | 2 lines

- #include <stdlib.h> instead of <malloc.h>

------------------------------------------------------------------------
r460 | guus | 2000-11-22 23:18:03 +0100 (wo, 22 nov 2000) | 2 lines

- Fixed all (except 2) compiler warnings gcc -Wall gave.

------------------------------------------------------------------------
r459 | guus | 2000-11-22 23:05:37 +0100 (wo, 22 nov 2000) | 2 lines

- More porting to FreeBSD and Solaris.

------------------------------------------------------------------------
r458 | guus | 2000-11-22 21:25:27 +0100 (wo, 22 nov 2000) | 2 lines

- Work with the correct key buffer in ans_key_h

------------------------------------------------------------------------
r457 | guus | 2000-11-22 20:55:53 +0100 (wo, 22 nov 2000) | 2 lines

- No more %as.

------------------------------------------------------------------------
r456 | guus | 2000-11-22 20:14:09 +0100 (wo, 22 nov 2000) | 3 lines

- Write pidfile AFTER detaching...
- Minor cleanups

------------------------------------------------------------------------
r455 | guus | 2000-11-22 19:54:08 +0100 (wo, 22 nov 2000) | 4 lines

- Cleaned up and checked for some more NULL pointers in rbl.c
- Two connection lists: one for incoming connections, sorted on ip/port,
  one for connections whose identity we know, sorted on id ofcourse...

------------------------------------------------------------------------
r454 | zarq | 2000-11-22 18:49:16 +0100 (wo, 22 nov 2000) | 2 lines

Declare fd.

------------------------------------------------------------------------
r453 | zarq | 2000-11-22 18:48:15 +0100 (wo, 22 nov 2000) | 3 lines

Add more checks to ensure that filedescriptors are right in
_execute_script().

------------------------------------------------------------------------
r452 | zarq | 2000-11-22 17:19:07 +0100 (wo, 22 nov 2000) | 2 lines

Honor the --localstatedir option to configure, instead of hardcoded /var.

------------------------------------------------------------------------
r451 | guus | 2000-11-21 10:13:59 +0100 (di, 21 nov 2000) | 3 lines

- Check for NULL tree->delete callback
- Add xstrdup() function

------------------------------------------------------------------------
r450 | guus | 2000-11-21 00:29:47 +0100 (di, 21 nov 2000) | 2 lines

- More fixes.

------------------------------------------------------------------------
r449 | guus | 2000-11-20 23:13:14 +0100 (ma, 20 nov 2000) | 2 lines

- Various small fixes.

------------------------------------------------------------------------
r448 | zarq | 2000-11-20 20:56:01 +0100 (ma, 20 nov 2000) | 3 lines

Get rid of all libtool references at once.  libtool was only used by
libblowfish, which was superseded by openssl.

------------------------------------------------------------------------
r447 | guus | 2000-11-20 20:41:13 +0100 (ma, 20 nov 2000) | 2 lines

- Proper initialization of rbltree structures.

------------------------------------------------------------------------
r446 | guus | 2000-11-20 20:12:17 +0100 (ma, 20 nov 2000) | 2 lines

- Integrate rbl trees into tinc.

------------------------------------------------------------------------
r443 | zarq | 2000-11-20 19:06:17 +0100 (ma, 20 nov 2000) | 2 lines

Also include process.h

------------------------------------------------------------------------
r442 | zarq | 2000-11-20 19:05:34 +0100 (ma, 20 nov 2000) | 2 lines

More function and header checks

------------------------------------------------------------------------
r441 | zarq | 2000-11-20 19:02:15 +0100 (ma, 20 nov 2000) | 2 lines

Added this release

------------------------------------------------------------------------
r440 | guus | 2000-11-19 23:12:46 +0100 (zo, 19 nov 2000) | 2 lines

- Small fixes

------------------------------------------------------------------------
r439 | guus | 2000-11-19 12:05:59 +0100 (zo, 19 nov 2000) | 2 lines

- Deletion also works now.

------------------------------------------------------------------------
r438 | guus | 2000-11-19 03:04:29 +0100 (zo, 19 nov 2000) | 2 lines

- Fixed a lot of small things. Tested everything except deletions.

------------------------------------------------------------------------
r437 | guus | 2000-11-19 00:22:44 +0100 (zo, 19 nov 2000) | 2 lines

- Fix tree head/tail upon insertion

------------------------------------------------------------------------
r436 | guus | 2000-11-19 00:21:01 +0100 (zo, 19 nov 2000) | 3 lines

- Implemented deletions
- Added rbl_foreach() function

------------------------------------------------------------------------
r435 | guus | 2000-11-18 19:14:57 +0100 (za, 18 nov 2000) | 3 lines

- Fixed searching
- Insertion implemented

------------------------------------------------------------------------
r434 | guus | 2000-11-17 11:03:02 +0100 (vr, 17 nov 2000) | 3 lines

- Removed stray @INCLUDE@ (how did that get there?)
- Use 0 instead of FALSE

------------------------------------------------------------------------
r433 | guus | 2000-11-17 01:56:49 +0100 (vr, 17 nov 2000) | 2 lines

- Simplified do_detach

------------------------------------------------------------------------
r432 | zarq | 2000-11-16 23:13:09 +0100 (do, 16 nov 2000) | 2 lines

Use proper prototypes.

------------------------------------------------------------------------
r431 | zarq | 2000-11-16 23:12:23 +0100 (do, 16 nov 2000) | 2 lines

Move more functions from tincd.c into process.c.

------------------------------------------------------------------------
r430 | zarq | 2000-11-16 23:11:40 +0100 (do, 16 nov 2000) | 2 lines

Delete struct ifr

------------------------------------------------------------------------
r429 | zarq | 2000-11-16 19:06:39 +0100 (do, 16 nov 2000) | 3 lines

New function: xmalloc_and_zero, which initialises the allocated memory
to all zeroes.

------------------------------------------------------------------------
r428 | zarq | 2000-11-16 18:54:29 +0100 (do, 16 nov 2000) | 2 lines

Move all process-related functions into process.c.

------------------------------------------------------------------------
r425 | guus | 2000-11-16 10:18:38 +0100 (do, 16 nov 2000) | 2 lines

- Added balanced tree management stuff as well. (It is not finished yet.)

------------------------------------------------------------------------
r422 | zarq | 2000-11-15 23:07:36 +0100 (wo, 15 nov 2000) | 3 lines

Keep a list of running children, and in each loop in main_loop(),
check if one has exited.

------------------------------------------------------------------------
r421 | zarq | 2000-11-15 23:04:48 +0100 (wo, 15 nov 2000) | 2 lines

List management and manipulation routines.

------------------------------------------------------------------------
r420 | guus | 2000-11-15 14:33:27 +0100 (wo, 15 nov 2000) | 3 lines

Porting to FreeBSD:
- Reorganized and added some #includes

------------------------------------------------------------------------
r419 | zarq | 2000-11-15 02:28:21 +0100 (wo, 15 nov 2000) | 3 lines

Let the output from an executed script in execute_script() go to
syslog, with proper error detection.

------------------------------------------------------------------------
r418 | zarq | 2000-11-15 02:06:13 +0100 (wo, 15 nov 2000) | 3 lines

Use the HAVE_OPENSSL_xxx_H defined from m4/openssl.m4 during
configure.

------------------------------------------------------------------------
r417 | zarq | 2000-11-15 02:02:30 +0100 (wo, 15 nov 2000) | 2 lines

Also check for sha.h.

------------------------------------------------------------------------
r416 | zarq | 2000-11-15 01:57:26 +0100 (wo, 15 nov 2000) | 3 lines

Also check for rand.h and err.h.  If any of these files does not
exist, try the next alternative path.

------------------------------------------------------------------------
r415 | zarq | 2000-11-15 00:18:19 +0100 (wo, 15 nov 2000) | 2 lines

Get rid of the annoying empty line

------------------------------------------------------------------------
r414 | zarq | 2000-11-15 00:02:08 +0100 (wo, 15 nov 2000) | 2 lines

Oops, small error.

------------------------------------------------------------------------
r413 | zarq | 2000-11-14 23:57:19 +0100 (di, 14 nov 2000) | 2 lines

Better checks for OpenSSL.  I think it can now detect almost all conceivable installations.

------------------------------------------------------------------------
r412 | zarq | 2000-11-13 23:29:22 +0100 (ma, 13 nov 2000) | 2 lines

Identify version as 1.0pre4-cvs

------------------------------------------------------------------------
r411 | zarq | 2000-11-13 23:01:27 +0100 (ma, 13 nov 2000) | 2 lines

Add a check for openssl that accepts explicit file locations.

------------------------------------------------------------------------
r409 | zarq | 2000-11-09 22:33:18 +0100 (do, 09 nov 2000) | 2 lines

Add prototype for destroy_queue

------------------------------------------------------------------------
r408 | zarq | 2000-11-09 22:29:58 +0100 (do, 09 nov 2000) | 2 lines

Updates, updates

------------------------------------------------------------------------
r407 | zarq | 2000-11-09 21:59:35 +0100 (do, 09 nov 2000) | 2 lines

Bop version number to 1.0pre3-1

------------------------------------------------------------------------
r406 | zarq | 2000-11-09 21:42:16 +0100 (do, 09 nov 2000) | 2 lines

Wrapped text to 70 (72?) columns for easy reading

------------------------------------------------------------------------
r405 | zarq | 2000-11-09 21:41:13 +0100 (do, 09 nov 2000) | 2 lines

Final release notes added, also edited release notes for 1.0pre2 to what the announcement on the mailing list looked like.

------------------------------------------------------------------------
r404 | guus | 2000-11-08 21:52:37 +0100 (wo, 08 nov 2000) | 2 lines

- Make checkpoint tracing a compile time option (off by default)

------------------------------------------------------------------------
r403 | guus | 2000-11-08 19:05:06 +0100 (wo, 08 nov 2000) | 2 lines

- Add Jamie :)

------------------------------------------------------------------------
r402 | guus | 2000-11-08 18:56:34 +0100 (wo, 08 nov 2000) | 2 lines

- Applied Jamie Brigg's patch (close sockets after error)

------------------------------------------------------------------------
r401 | guus | 2000-11-08 01:20:06 +0100 (wo, 08 nov 2000) | 3 lines

- Fixed --config
- Show warning when both netname and config directory are given.

------------------------------------------------------------------------
r400 | guus | 2000-11-08 01:10:50 +0100 (wo, 08 nov 2000) | 6 lines

Porting to SunOS 5.8:
- More #includes Linux doesn't seem to need
- Don't do unsetenv() on SunOS
- Use a replacement asprintf() in case the OS doesn't support it
It now compiles properly under SunOS.

------------------------------------------------------------------------
r399 | guus | 2000-11-07 23:33:33 +0100 (di, 07 nov 2000) | 4 lines

Porting to SunOS 5.8:
- Include all header files necessary
- Check for flock() function

------------------------------------------------------------------------
r398 | guus | 2000-11-07 23:02:14 +0100 (di, 07 nov 2000) | 2 lines

- Open UDP connection for all known hosts. Comments please.

------------------------------------------------------------------------
r397 | guus | 2000-11-07 22:43:28 +0100 (di, 07 nov 2000) | 8 lines

Changed execution of tinc-up:
- Do not free() strings that have been putenv()d, see man page of the
  latter.
- Do not set IFNAME anymore, it appears that the ioctl to get the name of
  the interface does not work at all. Since it is set to NETNAME in case
  of tun/tap and it is known beforehand in case of ethertap, there is no
  need for it anyway... (though it would've simplified things).

------------------------------------------------------------------------
r396 | zarq | 2000-11-05 03:19:58 +0100 (zo, 05 nov 2000) | 2 lines

Build-Depends on gettext

------------------------------------------------------------------------
r395 | guus | 2000-11-04 23:57:33 +0100 (za, 04 nov 2000) | 5 lines

- Prepended config_ to all configuration option names, because it confused
  everything (including myself).
- Use connection oriented UDP sockets for both incoming and outgoing
  packets.

------------------------------------------------------------------------
r394 | guus | 2000-11-04 21:44:28 +0100 (za, 04 nov 2000) | 2 lines

- Simplified ping mechanism.

------------------------------------------------------------------------
r393 | zarq | 2000-11-04 18:29:45 +0100 (za, 04 nov 2000) | 2 lines

Build-depends on libtool

------------------------------------------------------------------------
r392 | guus | 2000-11-04 18:09:10 +0100 (za, 04 nov 2000) | 2 lines

- Check for packets that are looping back.

------------------------------------------------------------------------
r391 | zarq | 2000-11-04 18:04:17 +0100 (za, 04 nov 2000) | 2 lines

Updated Dutch translation

------------------------------------------------------------------------
r390 | zarq | 2000-11-04 18:01:55 +0100 (za, 04 nov 2000) | 2 lines

Add route.c to the list of source files.

------------------------------------------------------------------------
r389 | guus | 2000-11-04 17:54:21 +0100 (za, 04 nov 2000) | 2 lines

- Forward keys in hex notation, not as binary data.

------------------------------------------------------------------------
r388 | guus | 2000-11-04 17:39:19 +0100 (za, 04 nov 2000) | 2 lines

- Don't forget to set packet cipher for added hosts.

------------------------------------------------------------------------
r387 | guus | 2000-11-04 16:34:07 +0100 (za, 04 nov 2000) | 2 lines

- connlist.c added to translation

------------------------------------------------------------------------
r386 | zarq | 2000-11-04 16:32:05 +0100 (za, 04 nov 2000) | 4 lines

In execute_script:
- add an environment variable NETNAME.
- chdir to the configuration directory before execing the script.

------------------------------------------------------------------------
r385 | zarq | 2000-11-04 16:18:58 +0100 (za, 04 nov 2000) | 2 lines

Do not include the passphrases directory

------------------------------------------------------------------------
r384 | guus | 2000-11-04 16:17:02 +0100 (za, 04 nov 2000) | 2 lines

- Removed manpage for no longer existing genauth.

------------------------------------------------------------------------
r383 | guus | 2000-11-04 15:52:40 +0100 (za, 04 nov 2000) | 2 lines

- Resolve scriptname after fork()

------------------------------------------------------------------------
r382 | zarq | 2000-11-04 15:16:46 +0100 (za, 04 nov 2000) | 2 lines

Use putenv() instead of clumsy do-it-yourself in execute_script.

------------------------------------------------------------------------
r381 | zarq | 2000-11-04 14:25:15 +0100 (za, 04 nov 2000) | 2 lines

Small change to the way the environment is copied.

------------------------------------------------------------------------
r380 | guus | 2000-11-04 12:49:58 +0100 (za, 04 nov 2000) | 2 lines

- Removed even more warnings.

------------------------------------------------------------------------
r379 | guus | 2000-11-04 11:37:27 +0100 (za, 04 nov 2000) | 2 lines

- Removed unused MAC strip/add functions.

------------------------------------------------------------------------
r378 | zarq | 2000-11-03 23:35:12 +0100 (vr, 03 nov 2000) | 5 lines

Warnings removal pass: always include config.h first; add a few
prototypes in the header files.

This also fixes a few lint errors/warnings.

------------------------------------------------------------------------
r377 | zarq | 2000-11-03 23:33:16 +0100 (vr, 03 nov 2000) | 3 lines

Run the scripts tinc-up and tinc-down from a separate function, which
sets the environment as it should be and checks for errors.

------------------------------------------------------------------------
r376 | zarq | 2000-11-03 23:31:55 +0100 (vr, 03 nov 2000) | 2 lines

Save the environment on startup.

------------------------------------------------------------------------
r375 | zarq | 2000-11-03 00:02:49 +0100 (vr, 03 nov 2000) | 2 lines

Minor cosmetic change.

------------------------------------------------------------------------
r374 | zarq | 2000-11-02 23:51:16 +0100 (do, 02 nov 2000) | 5 lines

- If necessary, patch po/Makefile.in from po-Makefile.in.in.diff to
get DESTDIR installation (required to get locales installed
correctly).
- Use dh_perl to get accurate perl dependencies.

------------------------------------------------------------------------
r372 | zarq | 2000-11-02 23:11:18 +0100 (do, 02 nov 2000) | 2 lines

Oops, and include doc-base.tinc (new file).

------------------------------------------------------------------------
r371 | zarq | 2000-11-02 23:10:09 +0100 (do, 02 nov 2000) | 2 lines

Don't include shlibs, as it no longer exists.

------------------------------------------------------------------------
r370 | zarq | 2000-11-02 23:05:36 +0100 (do, 02 nov 2000) | 2 lines

Changed a few messages wrt. system calls; updated and changed the Dutch translation a bit.

------------------------------------------------------------------------
r369 | zarq | 2000-11-02 22:43:03 +0100 (do, 02 nov 2000) | 2 lines

Mention fileutils, add a pointer to THANKS for more details

------------------------------------------------------------------------
r368 | zarq | 2000-11-02 22:41:53 +0100 (do, 02 nov 2000) | 2 lines

Change wsl to Wessel's name and email address in the ChangeLog creation

------------------------------------------------------------------------
r367 | zarq | 2000-11-02 22:40:33 +0100 (do, 02 nov 2000) | 2 lines

More exhaustive list of changes - perhaps it can be worded differently?

------------------------------------------------------------------------
r366 | zarq | 2000-11-02 22:39:57 +0100 (do, 02 nov 2000) | 2 lines

Changed `I' to `We' - small change, lots of difference :)

------------------------------------------------------------------------
r365 | zarq | 2000-11-02 22:38:55 +0100 (do, 02 nov 2000) | 2 lines

Only check for linux/if_tun.h once

------------------------------------------------------------------------
r364 | zarq | 2000-11-02 22:34:45 +0100 (do, 02 nov 2000) | 2 lines

Added a perl example to turn an IP address into a MAC address.

------------------------------------------------------------------------
r363 | zarq | 2000-11-02 22:26:51 +0100 (do, 02 nov 2000) | 2 lines

Do not include $(top_srcdir)/cipher, it does no longer exist.

------------------------------------------------------------------------
r362 | zarq | 2000-11-02 21:29:03 +0100 (do, 02 nov 2000) | 5 lines

- Synchronized changelog with the package's changelog.
- Changed maintainer email address.
- New file doc-base.tinc.
- Better Build-Depends and Depends lines.

------------------------------------------------------------------------
r361 | zarq | 2000-11-02 21:25:35 +0100 (do, 02 nov 2000) | 2 lines

This file is no longer needed.

------------------------------------------------------------------------
r359 | guus | 2000-10-31 17:22:49 +0100 (di, 31 okt 2000) | 3 lines

Removed config file parsing and interface setup. This will be handled by
the tinc-up and tinc-down scripts from now on.

------------------------------------------------------------------------
r358 | guus | 2000-10-31 17:10:17 +0100 (di, 31 okt 2000) | 2 lines

- Update.

------------------------------------------------------------------------
r357 | guus | 2000-10-30 11:19:06 +0100 (ma, 30 okt 2000) | 2 lines

- Fixed some spelling mistakes and terminology here and there.

------------------------------------------------------------------------
r356 | guus | 2000-10-30 01:22:54 +0100 (ma, 30 okt 2000) | 4 lines

- Small cleanups
- Updated dutch translation
- Updated man pages

------------------------------------------------------------------------
r355 | guus | 2000-10-29 23:55:15 +0100 (zo, 29 okt 2000) | 2 lines

- Finishing touch: encrypt the meta connections

------------------------------------------------------------------------
r354 | guus | 2000-10-29 23:10:44 +0100 (zo, 29 okt 2000) | 2 lines

- Use CFB mode for encrypting packets: it works and we don't need padding.

------------------------------------------------------------------------
r353 | guus | 2000-10-29 11:39:08 +0100 (zo, 29 okt 2000) | 5 lines

- Small fixes
- Do proper key exchange
- Encrypt packets - it works, but there is something wrong with the MAC
  header after decryption...

------------------------------------------------------------------------
r352 | guus | 2000-10-29 10:19:27 +0100 (zo, 29 okt 2000) | 2 lines

- Removed old encr stuff

------------------------------------------------------------------------
r351 | guus | 2000-10-29 03:07:41 +0100 (zo, 29 okt 2000) | 3 lines

- Updated dutch translation.
- Shutdown properly.

------------------------------------------------------------------------
r350 | guus | 2000-10-29 02:27:23 +0100 (zo, 29 okt 2000) | 2 lines

- Moved connlist stuff to the proper header file.

------------------------------------------------------------------------
r349 | guus | 2000-10-29 02:08:09 +0100 (zo, 29 okt 2000) | 2 lines

- Enforce correct order of authentication requests

------------------------------------------------------------------------
r348 | guus | 2000-10-29 02:46:43 +0200 (zo, 29 okt 2000) | 3 lines

- Hit people who can't figure out subnet address/mask pairs with a
  (clue)bat.

------------------------------------------------------------------------
r347 | guus | 2000-10-29 02:24:31 +0200 (zo, 29 okt 2000) | 3 lines

- Fixed ans_key_h
- Removed tapsubnet configuration option.

------------------------------------------------------------------------
r346 | guus | 2000-10-29 02:02:20 +0200 (zo, 29 okt 2000) | 2 lines

- Very big cleanup.

------------------------------------------------------------------------
r345 | guus | 2000-10-28 23:52:22 +0200 (za, 28 okt 2000) | 3 lines

- Override destination ethernet address on incoming packets with
  FE:FD:00:00:00:00

------------------------------------------------------------------------
r344 | guus | 2000-10-28 23:25:21 +0200 (za, 28 okt 2000) | 2 lines

- Fixed offsets when reading/writing from/to tap device

------------------------------------------------------------------------
r343 | guus | 2000-10-28 23:05:20 +0200 (za, 28 okt 2000) | 5 lines

- Lots of small fixes
- Exchange subnets on acknowledgement of connection
- Do proper lookup when incoming packets from tap
- off-by-a small number-error when reading/sending tap packets

------------------------------------------------------------------------
r342 | zarq | 2000-10-28 21:34:53 +0200 (za, 28 okt 2000) | 2 lines

Skip the check for Linux kernel sources

------------------------------------------------------------------------
r341 | guus | 2000-10-28 18:41:40 +0200 (za, 28 okt 2000) | 4 lines

- Updated subnet list handling. Subnets are added to two lists now, the
  owner's list and a global list. It is all fucked up but it probably
  works anyway, good enough for pre3 :).

------------------------------------------------------------------------
r340 | guus | 2000-10-24 17:46:18 +0200 (di, 24 okt 2000) | 4 lines

- Lots of little stuff modified
- Succesfully reads in subnets from host config file now and adds them to
  the list.

------------------------------------------------------------------------
r339 | zarq | 2000-10-23 23:56:56 +0200 (ma, 23 okt 2000) | 2 lines

Oops, echelon change committed to cabal... :)

------------------------------------------------------------------------
r338 | guus | 2000-10-23 15:52:54 +0200 (ma, 23 okt 2000) | 2 lines

- route.c will contain the routing logic.

------------------------------------------------------------------------
r336 | zarq | 2000-10-22 15:47:41 +0200 (zo, 22 okt 2000) | 2 lines

read_server_config: Check for result of read_config_file.

------------------------------------------------------------------------
r335 | zarq | 2000-10-22 15:37:15 +0200 (zo, 22 okt 2000) | 2 lines

Include linux/sockios.h and net/if.h anyway, regardless of the value of HAVE_TUNTAP.

------------------------------------------------------------------------
r334 | guus | 2000-10-21 13:52:08 +0200 (za, 21 okt 2000) | 4 lines

- Fixed all debug levels.
- Seed PRNG before generating a challenge
- Strange thing in challenge decryption: it fails if first bit is set!?

------------------------------------------------------------------------
r333 | guus | 2000-10-20 21:46:58 +0200 (vr, 20 okt 2000) | 5 lines

- Removed last reference to genauth from Makefile.am
- Tinc spawns tinc-up and tinc-down scripts which can be used to configure
  the network device. The environment variable IFNAME is set to the name
  of the interface.

------------------------------------------------------------------------
r332 | guus | 2000-10-20 18:49:20 +0200 (vr, 20 okt 2000) | 4 lines

- Made Makefile.am stub for doc/es/
- Merged genauth into tincd
- Updated dutch translation

------------------------------------------------------------------------
r327 | guus | 2000-10-20 17:34:38 +0200 (vr, 20 okt 2000) | 2 lines

- tinc now really does public/private key encryption! It even works, whee!

------------------------------------------------------------------------
r324 | zarq | 2000-10-19 19:29:22 +0200 (do, 19 okt 2000) | 2 lines

Changed changelog

------------------------------------------------------------------------
r323 | guus | 2000-10-19 16:42:00 +0200 (do, 19 okt 2000) | 2 lines

- Seed the PRNG using /dev/random before generating the keys.

------------------------------------------------------------------------
r321 | zarq | 2000-10-18 21:44:11 +0200 (wo, 18 okt 2000) | 2 lines

Get the head revision up to date with cabal

------------------------------------------------------------------------
r320 | zarq | 2000-10-17 12:15:20 +0200 (di, 17 okt 2000) | 2 lines

Don't declare cp_file and cp_line in xmalloc()

------------------------------------------------------------------------
r319 | zarq | 2000-10-17 12:14:25 +0200 (di, 17 okt 2000) | 2 lines

Process subdir es/

------------------------------------------------------------------------
r318 | guus | 2000-10-16 21:04:47 +0200 (ma, 16 okt 2000) | 2 lines

- More fixing. Tinc daemons can now even create activated connections.

------------------------------------------------------------------------
r317 | guus | 2000-10-16 18:33:30 +0200 (ma, 16 okt 2000) | 4 lines

- Fixing little things
- Two tinc daemons can connect to eachother now (but they disconnect right
  after the ACKs).

------------------------------------------------------------------------
r316 | zarq | 2000-10-16 13:35:10 +0200 (ma, 16 okt 2000) | 2 lines

Output doc/es/Makefile

------------------------------------------------------------------------
r315 | guus | 2000-10-15 22:30:39 +0200 (zo, 15 okt 2000) | 2 lines

Corrected #ifdefs for tun/tap support.

------------------------------------------------------------------------
r314 | zarq | 2000-10-15 22:21:27 +0200 (zo, 15 okt 2000) | 2 lines

Really #include the if_tun.h files now

------------------------------------------------------------------------
r313 | zarq | 2000-10-15 22:13:55 +0200 (zo, 15 okt 2000) | 2 lines

Linearized checks for if_tun.h

------------------------------------------------------------------------
r312 | zarq | 2000-10-15 21:53:15 +0200 (zo, 15 okt 2000) | 2 lines

Wrap the tun/tap code in #ifdef HAVE_TUNTAP

------------------------------------------------------------------------
r311 | zarq | 2000-10-15 19:26:31 +0200 (zo, 15 okt 2000) | 2 lines

Add checks for the presence of the universal tun/tap device driver.

------------------------------------------------------------------------
r309 | guus | 2000-10-15 02:59:37 +0200 (zo, 15 okt 2000) | 5 lines

- The daemon actually runs now (somewhat)
- Added support for tun/tap driver (autodetect!)
- More sophisticated checkpoint functionality
- Updated dutch translation

------------------------------------------------------------------------
r308 | zarq | 2000-10-15 00:22:06 +0200 (zo, 15 okt 2000) | 2 lines

Add CVS id lines

------------------------------------------------------------------------
r307 | zarq | 2000-10-15 00:17:29 +0200 (zo, 15 okt 2000) | 2 lines

Fix `Requirements'-section for GMP and OpenSSL libraries.

------------------------------------------------------------------------
r306 | zarq | 2000-10-15 00:00:09 +0200 (zo, 15 okt 2000) | 2 lines

Update Depends lines to reflect the dependencies on OpenSSL

------------------------------------------------------------------------
r305 | guus | 2000-10-14 19:04:16 +0200 (za, 14 okt 2000) | 3 lines

- Second fixing-things pass: it even links now.
- Lots of FIXME comments added to the source code.

------------------------------------------------------------------------
r304 | zarq | 2000-10-14 01:34:56 +0200 (za, 14 okt 2000) | 2 lines

Don't look for GMP header files

------------------------------------------------------------------------
r303 | zarq | 2000-10-14 01:30:11 +0200 (za, 14 okt 2000) | 2 lines

Updated new requirements, pointers to the manual

------------------------------------------------------------------------
r302 | zarq | 2000-10-14 01:29:35 +0200 (za, 14 okt 2000) | 2 lines

Link with OpenSSL, forget libGMP

------------------------------------------------------------------------
r301 | guus | 2000-10-12 00:01:02 +0200 (do, 12 okt 2000) | 4 lines

- Fixing-things pass: every source file compiles into an object file now,
  but linking tincd does not work yet (must link with openssl libs and
  define some missing functions).

------------------------------------------------------------------------
r300 | guus | 2000-10-11 15:42:52 +0200 (wo, 11 okt 2000) | 2 lines

- Generalized config file parsing to support multiple configuration trees.

------------------------------------------------------------------------
r299 | guus | 2000-10-11 14:07:27 +0200 (wo, 11 okt 2000) | 2 lines

- Changed genauth to produce rsa keypairs instead of random passphrases.

------------------------------------------------------------------------
r298 | guus | 2000-10-11 12:35:17 +0200 (wo, 11 okt 2000) | 6 lines

Big and bad commit of my current tree...
- Added seperate file for connection list handling
- Updating everything to use connlist, meta and subnet files
- Removed dependency on libgmp
- Lots of other stuff...

------------------------------------------------------------------------
r295 | guus | 2000-10-04 17:09:57 +0200 (wo, 04 okt 2000) | 2 lines

Removing cipher directory (all will be covered by OpenSSL).

------------------------------------------------------------------------
r294 | guus | 2000-10-01 05:21:49 +0200 (zo, 01 okt 2000) | 3 lines

- Added subnet handling code
- Other small changes to header files

------------------------------------------------------------------------
r291 | zarq | 2000-09-27 22:32:29 +0200 (wo, 27 sep 2000) | 2 lines

Many updates, parts rewritten, added, shuffled around.

------------------------------------------------------------------------
r290 | guus | 2000-09-26 16:06:11 +0200 (di, 26 sep 2000) | 5 lines

- Added meta.c which contains functions to send, receive and broadcast
  metadata. It will also handle encryption and decryption, and possibly
  compression and checksumming.
- Moved request dispatcher to protocol.c.

------------------------------------------------------------------------
r287 | guus | 2000-09-25 22:08:50 +0200 (ma, 25 sep 2000) | 2 lines

- Very detailed example of the authentication phase.

------------------------------------------------------------------------
r286 | guus | 2000-09-22 18:20:07 +0200 (vr, 22 sep 2000) | 3 lines

- Removed options "string" stuff. It was a bad idea...
- free() everything that is allocated.

------------------------------------------------------------------------
r285 | guus | 2000-09-22 17:06:28 +0200 (vr, 22 sep 2000) | 4 lines

- Severe code reduction and simplification of challenge requests
- "Finished" [add|del]_subnet_h
- Added lots of sanity checks to [add|del]_host_h

------------------------------------------------------------------------
r284 | guus | 2000-09-17 23:42:05 +0200 (zo, 17 sep 2000) | 4 lines

- Updated authentication scheme.
- Removed all trailing spaces from all lines.
- Added things to add_ and del_subnet_h.

------------------------------------------------------------------------
r283 | guus | 2000-09-17 22:11:59 +0200 (zo, 17 sep 2000) | 3 lines

- Included authentication scheme from protocol.c
- Added a few comments about the symmetric cipher.

------------------------------------------------------------------------
r282 | guus | 2000-09-17 21:57:39 +0200 (zo, 17 sep 2000) | 3 lines

Added document about the used cryptographic algorithms and the reasons
behind them. Feel very free to comment on this!

------------------------------------------------------------------------
r280 | zarq | 2000-09-17 12:28:57 +0200 (zo, 17 sep 2000) | 2 lines

Added Spanish translation of the docs by Matias Carrasco

------------------------------------------------------------------------
r277 | zarq | 2000-09-15 14:58:40 +0200 (vr, 15 sep 2000) | 2 lines

Second round of fixes

------------------------------------------------------------------------
r276 | zarq | 2000-09-14 23:51:21 +0200 (do, 14 sep 2000) | 2 lines

First round of needed fixes after the overhaul

------------------------------------------------------------------------
r275 | zarq | 2000-09-14 16:34:38 +0200 (do, 14 sep 2000) | 2 lines

New directive: Name.

------------------------------------------------------------------------
r274 | zarq | 2000-09-14 16:32:34 +0200 (do, 14 sep 2000) | 2 lines

Added some structures and types that are needed for the overhaul.

------------------------------------------------------------------------
r273 | guus | 2000-09-14 13:54:51 +0200 (do, 14 sep 2000) | 2 lines

- Lots of small changes.

------------------------------------------------------------------------
r272 | zarq | 2000-09-11 13:40:46 +0200 (ma, 11 sep 2000) | 2 lines

Better checks for SunOS libraries

------------------------------------------------------------------------
r271 | guus | 2000-09-11 12:05:35 +0200 (ma, 11 sep 2000) | 3 lines

- Fixed modulo in keylength check
- Updated header file to reflect new protocol code

------------------------------------------------------------------------
r270 | guus | 2000-09-11 01:11:37 +0200 (ma, 11 sep 2000) | 2 lines

- Some key exchange stuff. (Last commit before going to bed.)

------------------------------------------------------------------------
r269 | guus | 2000-09-11 00:49:46 +0200 (ma, 11 sep 2000) | 2 lines

- Lots of functions added for the new protocol.

------------------------------------------------------------------------
r268 | zarq | 2000-09-10 23:57:11 +0200 (zo, 10 sep 2000) | 2 lines

Add Guus' name and shift out old protocol requests

------------------------------------------------------------------------
r267 | zarq | 2000-09-10 20:37:46 +0200 (zo, 10 sep 2000) | 2 lines

Correct filenames for passphrases given in the example

------------------------------------------------------------------------
r266 | guus | 2000-09-10 18:15:35 +0200 (zo, 10 sep 2000) | 2 lines

- Added more function skeletons for the new protocol.

------------------------------------------------------------------------
r265 | guus | 2000-09-10 17:18:03 +0200 (zo, 10 sep 2000) | 2 lines

- New protocol. Will break everything else for now.

------------------------------------------------------------------------
r264 | zarq | 2000-09-10 17:16:07 +0200 (zo, 10 sep 2000) | 2 lines

Support for -lsocket and -lnsl on SunOS

------------------------------------------------------------------------
r263 | zarq | 2000-09-10 17:15:38 +0200 (zo, 10 sep 2000) | 2 lines

Include openssl/blowfish.h

------------------------------------------------------------------------
r262 | zarq | 2000-09-10 17:07:41 +0200 (zo, 10 sep 2000) | 2 lines

Updated text, removed protocol flowchart

------------------------------------------------------------------------
r261 | zarq | 2000-09-10 17:05:45 +0200 (zo, 10 sep 2000) | 2 lines

Link with OpenSSL crypto libraries instead of own blowfish library

------------------------------------------------------------------------
r260 | guus | 2000-09-06 13:49:05 +0200 (wo, 06 sep 2000) | 3 lines

- Use strerror() instead of sys_errlist[] for increased portability
  (Needed for SunOS)

------------------------------------------------------------------------
r259 | zarq | 2000-08-27 13:05:47 +0200 (zo, 27 aug 2000) | 2 lines

Changed CVSROOT path in `make ChangeLog'

------------------------------------------------------------------------
r258 | guus | 2000-08-22 16:55:04 +0200 (di, 22 aug 2000) | 2 lines

Fix rules (thanks to Laurence)

------------------------------------------------------------------------
r257 | zarq | 2000-08-21 22:35:47 +0200 (ma, 21 aug 2000) | 2 lines

Added a rule to create an rpm

------------------------------------------------------------------------
r256 | guus | 2000-08-21 14:50:15 +0200 (ma, 21 aug 2000) | 2 lines

Updated tinc.conf manual.

------------------------------------------------------------------------
r255 | zarq | 2000-08-21 01:08:17 +0200 (ma, 21 aug 2000) | 2 lines

Also chomp $VPNMASK

------------------------------------------------------------------------
r254 | zarq | 2000-08-21 01:07:18 +0200 (ma, 21 aug 2000) | 6 lines

(Quoting Laurence Lane:)

The prefix is correctly set for /usr, but is
overridden with the current make install. DESTDIR is the clean way to
relocate the installation into the debian/tmp build dir.

------------------------------------------------------------------------
r253 | guus | 2000-08-18 16:45:38 +0200 (vr, 18 aug 2000) | 5 lines

Updated the manual:
- incorporated comments from Stefan Hartsuiker
- updated configuration variables section
- added some text about key types

------------------------------------------------------------------------
r252 | guus | 2000-08-18 13:17:09 +0200 (vr, 18 aug 2000) | 2 lines

Commented on some size calculations.

------------------------------------------------------------------------
r251 | guus | 2000-08-17 19:22:01 +0200 (do, 17 aug 2000) | 2 lines

Ran update-po and updated dutch translation.

------------------------------------------------------------------------
r250 | guus | 2000-08-17 18:51:08 +0200 (do, 17 aug 2000) | 2 lines

Fixed all sprintf() spl01ts.

------------------------------------------------------------------------
r249 | guus | 2000-08-09 16:02:16 +0200 (wo, 09 aug 2000) | 3 lines

- Added two extra configuration options, Interface and InterfaceIP, to
  bind the listen socket to a network device or a specific IP.

------------------------------------------------------------------------
r248 | guus | 2000-08-09 11:34:21 +0200 (wo, 09 aug 2000) | 3 lines

- Reinstated O_NONBLOCK for meta socket
- Set SO_KEEPALIVE on meta socket

------------------------------------------------------------------------
r247 | guus | 2000-08-08 19:07:48 +0200 (di, 08 aug 2000) | 2 lines

- Moved TCP packet reception to meta handler: less kludgy and less buggy!

------------------------------------------------------------------------
r246 | guus | 2000-08-08 16:54:57 +0200 (di, 08 aug 2000) | 2 lines

- Added date/time of build and protocol number to --version output.

------------------------------------------------------------------------
r245 | guus | 2000-08-08 15:47:57 +0200 (di, 08 aug 2000) | 2 lines

Removed calling add_queue for tcponly packets.

------------------------------------------------------------------------
r244 | guus | 2000-08-08 10:48:50 +0200 (di, 08 aug 2000) | 2 lines

Fixed PACKET read loop.

------------------------------------------------------------------------
r243 | guus | 2000-08-07 18:27:29 +0200 (ma, 07 aug 2000) | 3 lines

- Lots o' buglets fixed (-Wall helps)
- Made TCPonly work :)

------------------------------------------------------------------------
r242 | guus | 2000-08-07 16:52:16 +0200 (ma, 07 aug 2000) | 3 lines

- Added experimental hackish tunneling-over-TCP support.
  Just use TCPonly = true in the configuration file.

------------------------------------------------------------------------
r241 | guus | 2000-07-02 15:40:57 +0200 (zo, 02 jul 2000) | 2 lines

- Fixed typo.

------------------------------------------------------------------------
r240 | guus | 2000-07-02 15:36:18 +0200 (zo, 02 jul 2000) | 3 lines

- Delayed address resolving for ConnectTo lines in configuration file to
  allow DynDNS to work without restarting tincd.

------------------------------------------------------------------------
r239 | guus | 2000-07-02 14:48:04 +0200 (zo, 02 jul 2000) | 2 lines

- Updated THANKS file

------------------------------------------------------------------------
r238 | zarq | 2000-07-02 14:41:03 +0200 (zo, 02 jul 2000) | 2 lines

Include the Spanish translation in the distribution/build process.

------------------------------------------------------------------------
r237 | guus | 2000-07-02 14:35:28 +0200 (zo, 02 jul 2000) | 2 lines

- Added Spanish translation from Enrique Zanardi.

------------------------------------------------------------------------
r235 | guus | 2000-07-01 16:40:56 +0200 (za, 01 jul 2000) | 2 lines

- Forgot to mention ourselves in the tincd manual page! :)

------------------------------------------------------------------------
r234 | guus | 2000-07-01 16:32:24 +0200 (za, 01 jul 2000) | 4 lines

- Updated PROTOCOL (a bit)
- Included a real tincd.8 describing the options, signals, debug levels
  and files used by tincd.

------------------------------------------------------------------------
r231 | guus | 2000-07-01 09:49:21 +0200 (za, 01 jul 2000) | 2 lines

- Removed a single unused bit from status_bits_t.

------------------------------------------------------------------------
r230 | wsl | 2000-07-01 09:29:32 +0200 (za, 01 jul 2000) | 3 lines

Added architecture section, made a start with the kernel section.
ToDo: install tinc myself to see if everything is as I say =)

------------------------------------------------------------------------
r229 | guus | 2000-07-01 00:38:58 +0200 (za, 01 jul 2000) | 3 lines

- Added documentation for the protocols (most important the meta protocol)
  used by tinc.

------------------------------------------------------------------------
r227 | wsl | 2000-06-30 23:16:52 +0200 (vr, 30 jun 2000) | 2 lines

Grrr, recommit

------------------------------------------------------------------------
r224 | guus | 2000-06-30 23:03:51 +0200 (vr, 30 jun 2000) | 2 lines

- Made tinc even more silent if no -d flag is given at all.

------------------------------------------------------------------------
r222 | wsl | 2000-06-30 22:50:47 +0200 (vr, 30 jun 2000) | 2 lines

File added to CABAL (hopefully)

------------------------------------------------------------------------
r219 | guus | 2000-06-30 14:41:06 +0200 (vr, 30 jun 2000) | 5 lines

- Instead of logging an error when remote end closes the connection,
  we print a nice message if appropiate debug level is set.
- If we get ADD_HOSTs or DEL_HOSTs for ourself, then connection lists
  are really messed up. We restart, and hope our problems go away.

------------------------------------------------------------------------
r218 | guus | 2000-06-30 13:45:16 +0200 (vr, 30 jun 2000) | 6 lines

- Removed segfault bug in conf.c (must have been there for ages!)
- Made main_loop() signal proof
- #defined MAXTIMEOUT (15 minutes)
- If something really really bad happens, close all connections, wait
  for MAXTIMEOUT seconds, and then restart tinc

------------------------------------------------------------------------
r217 | guus | 2000-06-29 21:47:04 +0200 (do, 29 jun 2000) | 4 lines

- Fixed memory leak.
- Implemented SIGHUP configuration file reloading.
- Other small changes.

------------------------------------------------------------------------
r216 | guus | 2000-06-29 19:09:08 +0200 (do, 29 jun 2000) | 4 lines

- New semantics for BASIC_INFO, ADD_HOST and DEL_HOST requests. This will
  improve connection list consistency, ensures the tree property, and
  allows for recovery from situations where track of connections is lost.

------------------------------------------------------------------------
r215 | guus | 2000-06-29 15:04:15 +0200 (do, 29 jun 2000) | 5 lines

- Removed all IP_ADDR_S macros, because gettext doesn't like them. Each
  connection now has two hostnames: real_hostname (replacing the old),
  and vpn_hostname. In those places where hostnames really aren't usefull
  IP_ADDR_S has been replaced by %d.%d.%d.%d.

------------------------------------------------------------------------
r214 | guus | 2000-06-29 09:11:23 +0200 (do, 29 jun 2000) | 2 lines

- Updated Dutch translation.

------------------------------------------------------------------------
r213 | zarq | 2000-06-28 23:06:40 +0200 (wo, 28 jun 2000) | 2 lines

Oops, and mention Guus too.

------------------------------------------------------------------------
r212 | zarq | 2000-06-28 23:01:45 +0200 (wo, 28 jun 2000) | 2 lines

Removed Free Software Foundation copyright, because Guus Sliepen contributed significantly.

------------------------------------------------------------------------
r211 | guus | 2000-06-28 16:34:40 +0200 (wo, 28 jun 2000) | 2 lines

- Added log message when SIGCHLD is received ("thanks" to Ivo van Dong)

------------------------------------------------------------------------
r210 | guus | 2000-06-28 15:41:02 +0200 (wo, 28 jun 2000) | 4 lines

- Fixed a message in nl.po
- Woops, we forgot to send our connection list to our uplink when we
  connect to it... Fixed.

------------------------------------------------------------------------
r209 | guus | 2000-06-28 13:39:40 +0200 (wo, 28 jun 2000) | 2 lines

- Fixed missing " in nl.po

------------------------------------------------------------------------
r208 | guus | 2000-06-28 13:38:01 +0200 (wo, 28 jun 2000) | 4 lines

- Fixed some spelling errors.
- Paar zpelvautjes gerepareerd, en de Nederlandse vertaling weer bij de
  tijd gebracht.

------------------------------------------------------------------------
r207 | guus | 2000-06-28 12:11:10 +0200 (wo, 28 jun 2000) | 2 lines

- Extra check op EINTR bij inlezen requests

------------------------------------------------------------------------
r206 | guus | 2000-06-27 23:05:07 +0200 (di, 27 jun 2000) | 2 lines

- Fixes a silly little insignificant buglet.

------------------------------------------------------------------------
r205 | guus | 2000-06-27 22:55:12 +0200 (di, 27 jun 2000) | 2 lines

- Purge old connections that are ADD_HOSTed.

------------------------------------------------------------------------
r204 | guus | 2000-06-27 22:10:48 +0200 (di, 27 jun 2000) | 2 lines

- Improved handling of errors on connection attempts.

------------------------------------------------------------------------
r203 | guus | 2000-06-27 17:08:58 +0200 (di, 27 jun 2000) | 3 lines

- Fixed indirectdata=no problem
- Added support for multiple ConnectTo lines in tinc.conf.

------------------------------------------------------------------------
r202 | guus | 2000-06-27 14:58:04 +0200 (di, 27 jun 2000) | 4 lines

- Fixed KEY_CHANGED notification. A lot of notify_others() calls were
  wrong (first two arguments swapped). Should probably be doublechecked.
- Don't retry to connect to hosts with different protocol versions.

------------------------------------------------------------------------
r201 | guus | 2000-06-26 22:30:21 +0200 (ma, 26 jun 2000) | 4 lines

- Moved all connection messages to debug level 1, without -d's only the
  startup message will be logged.
- Fixed DEL_HOST rebound.

------------------------------------------------------------------------
r200 | guus | 2000-06-26 21:39:34 +0200 (ma, 26 jun 2000) | 3 lines

- Indirectdata finally REALLY REALLY works now!
- More precise debug messages

------------------------------------------------------------------------
r199 | guus | 2000-06-26 19:20:58 +0200 (ma, 26 jun 2000) | 2 lines

Fixes some hostlookups. Fixes indirectdata for real now (hopefully).

------------------------------------------------------------------------
r198 | zarq | 2000-06-25 22:52:29 +0200 (zo, 25 jun 2000) | 2 lines

Version 1.0pre3.

------------------------------------------------------------------------
r197 | guus | 2000-06-25 18:39:17 +0200 (zo, 25 jun 2000) | 3 lines

- More verbose connection list
- Added "myself" as hostname when logging indirect ADD_HOSTs

------------------------------------------------------------------------
r196 | guus | 2000-06-25 18:20:27 +0200 (zo, 25 jun 2000) | 2 lines

Hostlookup() is actually being called now.

------------------------------------------------------------------------
r195 | guus | 2000-06-25 18:01:12 +0200 (zo, 25 jun 2000) | 2 lines

Hostnames are back!

------------------------------------------------------------------------
r194 | guus | 2000-06-25 17:45:09 +0200 (zo, 25 jun 2000) | 4 lines

- Log possible spoofing attacks.
- Don't broadcast DEL_HOSTs for hosts that haven't been activated yet.
- If a host sends a TERMREQ, deactivate them.

------------------------------------------------------------------------
r193 | zarq | 2000-06-25 17:42:40 +0200 (zo, 25 jun 2000) | 2 lines

Changed version number to 1.0pre3.

------------------------------------------------------------------------
r192 | guus | 2000-06-25 17:22:16 +0200 (zo, 25 jun 2000) | 2 lines

Added CVS Id tags to header files.

------------------------------------------------------------------------
r191 | guus | 2000-06-25 17:16:12 +0200 (zo, 25 jun 2000) | 12 lines

Large cleanup:
- Removed hostname lookup (it blocks, and you can always do it yourself)
- Reorganized debug levels (after hints from Axel Mller):
  0	Startup message and errors
  1	Connection logging
  2	Meta protocol information
  3	Verbose meta protocol (includes copy of transmitted requests)
  4	Packet information (logs transmission/errors of UDP packets)
  5	Verbose packet information (every single byte, not implemented yet
	to protect ourselves from filling up /var/log directories)
- Made log messages more consistent

------------------------------------------------------------------------
r190 | guus | 2000-06-24 14:35:42 +0200 (za, 24 jun 2000) | 2 lines

If we have "indirectdata" flag set, we only send data to our uplink.

------------------------------------------------------------------------
r189 | guus | 2000-06-23 21:27:03 +0200 (vr, 23 jun 2000) | 5 lines

First step for implementation of the "indirectdata" directive. This should
allow _leaf_ tincds to be behind firewalls.
The protocol has changed and is INCOMPATIBLE with previous versions. The
PROT_CURRENT value has been incremented.

------------------------------------------------------------------------
r188 | zarq | 2000-06-17 22:55:54 +0200 (za, 17 jun 2000) | 2 lines

Configuration directive `IndirectData'.

------------------------------------------------------------------------
r187 | zarq | 2000-06-17 22:30:44 +0200 (za, 17 jun 2000) | 2 lines

Merge changes from 1.6-1.8.

------------------------------------------------------------------------
r184 | zarq | 2000-06-06 12:24:33 +0200 (di, 06 jun 2000) | 2 lines

Include ../intl in the include path, and add @INTLLIBS@ to the list of libraries.

------------------------------------------------------------------------
r183 | zarq | 2000-06-04 14:14:31 +0200 (zo, 04 jun 2000) | 2 lines

These files are created by gettextize (run by autogen.sh) (should have known that).

------------------------------------------------------------------------
r180 | zarq | 2000-06-04 01:32:03 +0200 (zo, 04 jun 2000) | 2 lines

Don't touch VPNMASK if it's defined, otherwise use $MSK.

------------------------------------------------------------------------
r178 | zarq | 2000-06-02 19:30:33 +0200 (vr, 02 jun 2000) | 2 lines

Alphabetized the list, added Lubomr Bulej, removed Sander Smeenk and Tijs van Bakel, put merits after all names.

------------------------------------------------------------------------
r177 | guus | 2000-06-01 22:21:27 +0200 (do, 01 jun 2000) | 2 lines

Debian init.d script automatically sets tap device's MTU to 1448 now.

------------------------------------------------------------------------
r176 | zarq | 2000-05-31 20:23:06 +0200 (wo, 31 mei 2000) | 2 lines

Miscellaneous copyright updates.

------------------------------------------------------------------------
r175 | zarq | 2000-05-31 20:21:27 +0200 (wo, 31 mei 2000) | 2 lines

Handle locale settings.

------------------------------------------------------------------------
r174 | zarq | 2000-05-31 20:19:33 +0200 (wo, 31 mei 2000) | 2 lines

Version 1.0pre2-1.

------------------------------------------------------------------------
r173 | zarq | 2000-05-31 20:18:21 +0200 (wo, 31 mei 2000) | 2 lines

Updated Dutch translation.

------------------------------------------------------------------------
r172 | zarq | 2000-05-31 20:17:45 +0200 (wo, 31 mei 2000) | 2 lines

Tell about /etc/tinc/nets.boot.

------------------------------------------------------------------------
r171 | zarq | 2000-05-31 20:17:27 +0200 (wo, 31 mei 2000) | 2 lines

Include news for 1.0pre2.

------------------------------------------------------------------------
r170 | zarq | 2000-05-30 23:36:16 +0200 (di, 30 mei 2000) | 2 lines

Only accept an ADD_HOST request for a host that already exists in our conn_list if the nexthop field matches the sender.  This is a workaround for older clients.

------------------------------------------------------------------------
r169 | zarq | 2000-05-30 14:38:15 +0200 (di, 30 mei 2000) | 2 lines

In terminate_connection, only send a notification to hosts that are directly connected to us.  (DEL_HOST gets forwarded automatically.)

------------------------------------------------------------------------
r168 | zarq | 2000-05-30 14:31:41 +0200 (di, 30 mei 2000) | 2 lines

When a connection is terminated, all hosts that are still connected get notified of the lost connections.

------------------------------------------------------------------------
r167 | zarq | 2000-05-30 13:18:12 +0200 (di, 30 mei 2000) | 2 lines

Added new configuration directive `Hostnames', which controls the resolving of IP addresses to hostnames.

------------------------------------------------------------------------
r166 | guus | 2000-05-30 01:40:05 +0200 (di, 30 mei 2000) | 3 lines

Only activate a connection upon receiving it's public key if it's an
incoming connection. When it's outgoing, we need to receive an ack first.

------------------------------------------------------------------------
r165 | zarq | 2000-05-30 00:27:15 +0200 (di, 30 mei 2000) | 2 lines

Updated changes list for version 1.0pre2.

------------------------------------------------------------------------
r164 | zarq | 2000-05-30 00:20:04 +0200 (di, 30 mei 2000) | 2 lines

Bounds check for request id (between 0 and 255).

------------------------------------------------------------------------
r163 | zarq | 2000-05-30 00:15:38 +0200 (di, 30 mei 2000) | 2 lines

Dutch translation of tinc.

------------------------------------------------------------------------
r162 | zarq | 2000-05-29 23:40:51 +0200 (ma, 29 mei 2000) | 2 lines

Define LOCALEDIR in CFLAGS.

------------------------------------------------------------------------
r161 | zarq | 2000-05-29 23:40:20 +0200 (ma, 29 mei 2000) | 2 lines

Include GNU gettext checks.

------------------------------------------------------------------------
r160 | zarq | 2000-05-29 23:38:02 +0200 (ma, 29 mei 2000) | 2 lines

Update acconfig.h to include values for gettext inclusion.

------------------------------------------------------------------------
r159 | zarq | 2000-05-29 23:36:28 +0200 (ma, 29 mei 2000) | 2 lines

Include system.h and ABOUT-NLS.

------------------------------------------------------------------------
r158 | zarq | 2000-05-29 23:04:55 +0200 (ma, 29 mei 2000) | 2 lines

Include intl/ directory in the list of subdirs.

------------------------------------------------------------------------
r157 | zarq | 2000-05-29 23:01:26 +0200 (ma, 29 mei 2000) | 2 lines

Internationalization of tinc.

------------------------------------------------------------------------
r156 | guus | 2000-05-27 22:23:01 +0200 (za, 27 mei 2000) | 4 lines

Terminate a connection on any error. Furthermore, disallow del_host,
add_host and other important requests until remote host has properly
authenticated itself.

------------------------------------------------------------------------
r155 | guus | 2000-05-27 21:44:04 +0200 (za, 27 mei 2000) | 4 lines

Made tinc persistent. If no outgoing connection can be established right
after the start of the daemon, it won't quit anymore but will retry in 5
minutes. Also, 5 minutes is now the maximum time to wait for a retry.

------------------------------------------------------------------------
r154 | guus | 2000-05-27 21:23:20 +0200 (za, 27 mei 2000) | 3 lines

Fixed typos. When terminating a connection, it's status is not only set to
remove=1 but also active=0.

------------------------------------------------------------------------
r153 | guus | 2000-05-27 21:04:12 +0200 (za, 27 mei 2000) | 11 lines

Fix for a DoS attack:
 A remote user could telnet to the tinc daemon and type only this line:
 61 6 00000000/00000000:28f
 This would deny any packets to be sent to other tinc networks (except
 for to the hosts that run tincd's themselves). Solution is to skip
 hosts in lookup_conn() that have not been activated yet.
Fixed potential conn_list table corruption:
 If a new connection is accepted but a connection with the same subnet
 would already exist in the connection list, the OLD connection is
 terminated.

------------------------------------------------------------------------
r152 | guus | 2000-05-27 15:21:20 +0200 (za, 27 mei 2000) | 4 lines

Documentation updates. Removed all references to configuration variable
"AllowConnect", since it is NOT used in tinc. Added information about
"VpnMask". Elaborated a bit about "private" and "virtual" networks.

------------------------------------------------------------------------
r151 | zarq | 2000-05-26 13:25:59 +0200 (vr, 26 mei 2000) | 2 lines

Updated by Lubomir Bulej and Mads Kiilerich: it uses /etc/tinc/nets.boot and the VpnMask directive in the config files.

------------------------------------------------------------------------
r150 | zarq | 2000-05-22 01:01:28 +0200 (ma, 22 mei 2000) | 2 lines

Create an empty /etc/tinc/nets.boot.

------------------------------------------------------------------------
r149 | zarq | 2000-05-22 00:40:41 +0200 (ma, 22 mei 2000) | 2 lines

Use /etc/tinc/example as a base directory for an example.  /etc/tinc/example/README points to /usr/share/doc/tinc/README.Debian.

------------------------------------------------------------------------
r148 | zarq | 2000-05-22 00:38:01 +0200 (ma, 22 mei 2000) | 2 lines

Add an example of using VpnMask.

------------------------------------------------------------------------
r147 | zarq | 2000-05-22 00:27:31 +0200 (ma, 22 mei 2000) | 2 lines

When VpnMask is not present in the config file, silently use $MSK as vpnmask.

------------------------------------------------------------------------
r146 | guus | 2000-05-22 00:21:38 +0200 (ma, 22 mei 2000) | 4 lines

Fixed last typo. Init.d now uses ifconfig command to set both the tap's IP
address as well as the correct route. Furthermore, if no VpnMask is given,
a default of 255.255.0.0 is chosen and a warning issued.

------------------------------------------------------------------------
r145 | guus | 2000-05-22 00:08:21 +0200 (ma, 22 mei 2000) | 2 lines

Typo.

------------------------------------------------------------------------
r144 | guus | 2000-05-22 00:04:56 +0200 (ma, 22 mei 2000) | 2 lines

VpnMask truely works now.

------------------------------------------------------------------------
r143 | zarq | 2000-05-19 03:17:32 +0200 (vr, 19 mei 2000) | 2 lines

Mask the vpn net with the vpn netmask, route would give an error if the netmask didn't match the net.

------------------------------------------------------------------------
r142 | zarq | 2000-05-19 02:58:01 +0200 (vr, 19 mei 2000) | 2 lines

Fixed typo.

------------------------------------------------------------------------
r141 | zarq | 2000-05-19 02:33:44 +0200 (vr, 19 mei 2000) | 2 lines

Updated copyright notice.

------------------------------------------------------------------------
r140 | zarq | 2000-05-19 02:15:37 +0200 (vr, 19 mei 2000) | 2 lines

Errors will not terminate the script or result in a nonzero exit code.

------------------------------------------------------------------------
r139 | zarq | 2000-05-19 02:14:34 +0200 (vr, 19 mei 2000) | 2 lines

Include postinst in the distribution.

------------------------------------------------------------------------
r138 | zarq | 2000-05-19 02:09:20 +0200 (vr, 19 mei 2000) | 2 lines

Find networks in  instead of .

------------------------------------------------------------------------
r137 | zarq | 2000-05-19 01:33:44 +0200 (vr, 19 mei 2000) | 2 lines

Don't distribute the file files.

------------------------------------------------------------------------
r136 | zarq | 2000-05-19 01:28:51 +0200 (vr, 19 mei 2000) | 2 lines

Version 1.0pre2-0.3

------------------------------------------------------------------------
r135 | zarq | 2000-05-19 01:18:54 +0200 (vr, 19 mei 2000) | 2 lines

Create a default /etc/tinc/nets.boot after installation, containing all directories under /etc/tinc by default.

------------------------------------------------------------------------
r134 | zarq | 2000-05-19 01:09:31 +0200 (vr, 19 mei 2000) | 2 lines

Read /etc/tinc/nets.boot to find the networks that have to be started.

------------------------------------------------------------------------
r133 | zarq | 2000-05-18 01:13:51 +0200 (do, 18 mei 2000) | 2 lines

This file is generated with dpkg-buildpackage.

------------------------------------------------------------------------
r132 | guus | 2000-05-16 18:07:15 +0200 (di, 16 mei 2000) | 5 lines

TODO file reinstated:
- Append your name to items if you're working on them.
- Remove them if you fixed the problem/implemented that feature.
- Add any (suspected) bugs.

------------------------------------------------------------------------
r131 | zarq | 2000-05-16 16:34:44 +0200 (di, 16 mei 2000) | 2 lines

Use the new VpnMask directive to add a route to the rest of the VPN.

------------------------------------------------------------------------
r130 | guus | 2000-05-16 15:09:15 +0200 (di, 16 mei 2000) | 2 lines

Stub for VpnMask config directive.

------------------------------------------------------------------------
r129 | zarq | 2000-05-16 15:03:32 +0200 (di, 16 mei 2000) | 2 lines

Look if the tap devices exist before bluntly remaking them.

------------------------------------------------------------------------
r128 | zarq | 2000-05-16 09:56:05 +0200 (di, 16 mei 2000) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r127 | zarq | 2000-05-15 21:48:46 +0200 (ma, 15 mei 2000) | 2 lines

Depend on perl5.

------------------------------------------------------------------------
r126 | zarq | 2000-05-15 20:28:45 +0200 (ma, 15 mei 2000) | 2 lines

Unlimited length in the config file, thanks to Cris van Pelt.

------------------------------------------------------------------------
r125 | zarq | 2000-05-15 19:15:52 +0200 (ma, 15 mei 2000) | 2 lines

Exit with zero status if  is empty.

------------------------------------------------------------------------
r124 | zarq | 2000-05-15 17:54:37 +0200 (ma, 15 mei 2000) | 2 lines

Updated to newer version.

------------------------------------------------------------------------
r123 | guus | 2000-05-15 11:41:34 +0200 (ma, 15 mei 2000) | 3 lines

Test for existence of configured tinc networks. This will also make
first install of tinc possible without errors.

------------------------------------------------------------------------
r122 | zarq | 2000-05-15 01:03:37 +0200 (ma, 15 mei 2000) | 2 lines

.deb version number 1.0pre2-0.4.

------------------------------------------------------------------------
r121 | zarq | 2000-05-15 01:00:44 +0200 (ma, 15 mei 2000) | 3 lines

tincd->tinc
Delete libblowfish.y not be in the .deb.

------------------------------------------------------------------------
r120 | zarq | 2000-05-15 00:59:47 +0200 (ma, 15 mei 2000) | 2 lines

Mention both upstream authors.

------------------------------------------------------------------------
r119 | zarq | 2000-05-15 00:59:19 +0200 (ma, 15 mei 2000) | 2 lines

Add description, better dependancies.

------------------------------------------------------------------------
r118 | zarq | 2000-05-15 00:58:47 +0200 (ma, 15 mei 2000) | 2 lines

Add initscript, tincd->tinc.

------------------------------------------------------------------------
r117 | zarq | 2000-05-14 23:18:10 +0200 (zo, 14 mei 2000) | 2 lines

Inserted useful content.

------------------------------------------------------------------------
r116 | zarq | 2000-05-14 23:14:23 +0200 (zo, 14 mei 2000) | 2 lines

Add shlibs control file for the blowfish library.

------------------------------------------------------------------------
r115 | zarq | 2000-05-14 23:07:16 +0200 (zo, 14 mei 2000) | 2 lines

Give IP address instead of hex number when connecting tcp socket failed.

------------------------------------------------------------------------
r114 | zarq | 2000-05-14 23:04:53 +0200 (zo, 14 mei 2000) | 2 lines

Changed version to 1.0pre2.

------------------------------------------------------------------------
r113 | zarq | 2000-05-14 22:58:34 +0200 (zo, 14 mei 2000) | 2 lines

Version 1.0pre1-0.1.

------------------------------------------------------------------------
r112 | zarq | 2000-05-14 22:56:41 +0200 (zo, 14 mei 2000) | 2 lines

Add check for mpz_powm in libgmp3.

------------------------------------------------------------------------
r111 | zarq | 2000-05-14 15:50:10 +0200 (zo, 14 mei 2000) | 2 lines

Only print an error with send_termreq if debug_lvl is 2 or more.

------------------------------------------------------------------------
r110 | guus | 2000-05-14 15:06:52 +0200 (zo, 14 mei 2000) | 2 lines

Fixed typos.

------------------------------------------------------------------------
r109 | guus | 2000-05-14 15:02:20 +0200 (zo, 14 mei 2000) | 6 lines

Changed ping behaviour (backwards compatible). If we don't have any data
to send, we don't need to check if the connection is still alive.
Furthermore, if we receive any kind of data from the other end, we know
it's alive, so we don't need to check it either. So, PING requests are
only sent if we send packets but there is no response.

------------------------------------------------------------------------
r108 | guus | 2000-05-14 14:22:42 +0200 (zo, 14 mei 2000) | 2 lines

Cleanups.

------------------------------------------------------------------------
r107 | guus | 2000-05-14 13:39:18 +0200 (zo, 14 mei 2000) | 2 lines

Proxymode removed.

------------------------------------------------------------------------
r106 | zarq | 2000-05-13 02:54:27 +0200 (za, 13 mei 2000) | 2 lines

Perl version of the system startup script.

------------------------------------------------------------------------
r105 | zarq | 2000-05-12 15:31:00 +0200 (vr, 12 mei 2000) | 2 lines

Deleted the protocol description.

------------------------------------------------------------------------
r104 | guus | 2000-05-08 20:44:15 +0200 (ma, 08 mei 2000) | 4 lines

Added new config variable "ProxyMode". If enabled, all outgoing packets
are sent to the uplink (ConnectTo), which will have to forward them for
us (kernel should do that). This is for people behind firewalls.

------------------------------------------------------------------------
r103 | zarq | 2000-05-05 12:48:54 +0200 (vr, 05 mei 2000) | 2 lines

Added semicolons required by bash2 (Mads Kiilerich).

------------------------------------------------------------------------
r102 | zarq | 2000-05-05 01:26:24 +0200 (vr, 05 mei 2000) | 2 lines

Copied most of the code from the redhat script.

------------------------------------------------------------------------
r101 | zarq | 2000-05-05 01:17:02 +0200 (vr, 05 mei 2000) | 2 lines

Include sys/types.h.

------------------------------------------------------------------------
r100 | zarq | 2000-05-05 01:16:43 +0200 (vr, 05 mei 2000) | 2 lines

Don't link in libdl.

------------------------------------------------------------------------
r99 | zarq | 2000-05-04 02:01:05 +0200 (do, 04 mei 2000) | 2 lines

Check for the existance of libdl.

------------------------------------------------------------------------
r98 | zarq | 2000-05-04 02:00:50 +0200 (do, 04 mei 2000) | 2 lines

More for getopt support.

------------------------------------------------------------------------
r97 | zarq | 2000-05-04 02:00:06 +0200 (do, 04 mei 2000) | 2 lines

Include stdio.h for fprintf.

------------------------------------------------------------------------
r96 | zarq | 2000-05-04 01:47:06 +0200 (do, 04 mei 2000) | 2 lines

getopt_long() support for platforms that don't have it.

------------------------------------------------------------------------
r95 | zarq | 2000-05-04 01:00:38 +0200 (do, 04 mei 2000) | 2 lines

Don't use error.h or error(), put #error in front of cpp errors.

------------------------------------------------------------------------
r94 | guus | 2000-05-03 20:02:15 +0200 (wo, 03 mei 2000) | 2 lines

Squashed gcc warning.

------------------------------------------------------------------------
r93 | guus | 2000-05-03 19:59:07 +0200 (wo, 03 mei 2000) | 2 lines

Fixes typo and UDP network byte order.

------------------------------------------------------------------------
r92 | guus | 2000-05-03 17:37:32 +0200 (wo, 03 mei 2000) | 2 lines

Outgoing packets now use network byte order in header.

------------------------------------------------------------------------
r91 | zarq | 2000-05-03 17:01:54 +0200 (wo, 03 mei 2000) | 2 lines

Fix a typo, better handling of the info document. (from Mads Kiilerich)

------------------------------------------------------------------------
r90 | guus | 2000-05-02 12:16:50 +0200 (di, 02 mei 2000) | 3 lines

Replaced sprintf() by safer snprintf(), removed possible buffer overflow
by one byte.

------------------------------------------------------------------------
r89 | guus | 2000-05-02 11:55:34 +0200 (di, 02 mei 2000) | 2 lines

Previous fix fixed. Meta protocol should be really flawless from now on!

------------------------------------------------------------------------
r88 | guus | 2000-05-02 11:10:33 +0200 (di, 02 mei 2000) | 2 lines

Fixed small mistake that would prevent forwarding requests.

------------------------------------------------------------------------
r87 | zarq | 2000-05-02 00:00:02 +0200 (di, 02 mei 2000) | 2 lines

Mentioned new metaprotocol.

------------------------------------------------------------------------
r86 | zarq | 2000-05-01 23:47:12 +0200 (ma, 01 mei 2000) | 2 lines

More tincd->tinc updates.

------------------------------------------------------------------------
r85 | zarq | 2000-05-01 23:31:59 +0200 (ma, 01 mei 2000) | 2 lines

Fixed meta protocol.

------------------------------------------------------------------------
r84 | zarq | 2000-05-01 23:31:17 +0200 (ma, 01 mei 2000) | 2 lines

Committed by Mads Kiilerich.

------------------------------------------------------------------------
r83 | zarq | 2000-05-01 21:17:09 +0200 (ma, 01 mei 2000) | 2 lines

Updates by Mads Kiilerich.

------------------------------------------------------------------------
r82 | guus | 2000-05-01 20:07:12 +0200 (ma, 01 mei 2000) | 6 lines

Meta protocol overhaul. Tinc is now incompatible with previous versions,
furthermore this version does NOT work yet because of a problem with
sending keys (these should be converted to base36 or something like that).
It is possible to telnet to the tinc daemon now and type some commands
by hand though :).

------------------------------------------------------------------------
r81 | zarq | 2000-05-01 18:28:28 +0200 (ma, 01 mei 2000) | 2 lines

Committed by Lubomr Bulej.

------------------------------------------------------------------------
r80 | zarq | 2000-04-30 22:48:48 +0200 (zo, 30 apr 2000) | 2 lines

Key forwarding, write one byte extra.

------------------------------------------------------------------------
r79 | zarq | 2000-04-30 21:49:49 +0200 (zo, 30 apr 2000) | 2 lines

Protocol fix (ANS_KEY).  This breaks 0.3.3 protocol compatibility.

------------------------------------------------------------------------
r78 | zarq | 2000-04-30 21:03:00 +0200 (zo, 30 apr 2000) | 2 lines

Send one less byte from an ANS_KEY request.

------------------------------------------------------------------------
r77 | zarq | 2000-04-30 20:57:16 +0200 (zo, 30 apr 2000) | 2 lines

Read one less byte from an ANS_KEY request.

------------------------------------------------------------------------
r76 | zarq | 2000-04-30 18:34:31 +0200 (zo, 30 apr 2000) | 2 lines

Removed debug messages.

------------------------------------------------------------------------
r75 | zarq | 2000-04-30 18:31:23 +0200 (zo, 30 apr 2000) | 2 lines

Read public keys the right way (tm).

------------------------------------------------------------------------
r74 | zarq | 2000-04-30 18:11:05 +0200 (zo, 30 apr 2000) | 2 lines

New way of handling the meta protocol.

------------------------------------------------------------------------
r73 | zarq | 2000-04-30 15:23:53 +0200 (zo, 30 apr 2000) | 2 lines

Replaced check for status.active by status.dataopen in check_network_activity.

------------------------------------------------------------------------
r72 | zarq | 2000-04-30 03:16:51 +0200 (zo, 30 apr 2000) | 2 lines

Initially, the vpn_mask of a connection is 255.255.255.255 to avoid confusion with lookup_conn.

------------------------------------------------------------------------
r71 | zarq | 2000-04-30 03:15:47 +0200 (zo, 30 apr 2000) | 2 lines

Got rid of the nasty hacks... and replaced it by another one.

------------------------------------------------------------------------
r70 | zarq | 2000-04-29 22:39:36 +0200 (za, 29 apr 2000) | 2 lines

Filled up the protocol structs with unused bytes.

------------------------------------------------------------------------
r69 | zarq | 2000-04-29 22:38:23 +0200 (za, 29 apr 2000) | 2 lines

Added `deb' target.

------------------------------------------------------------------------
r68 | zarq | 2000-04-29 15:56:06 +0200 (za, 29 apr 2000) | 2 lines

More updates wrt. the change from tincd->tinc.

------------------------------------------------------------------------
r67 | guus | 2000-04-28 13:33:25 +0200 (vr, 28 apr 2000) | 2 lines

Oops! Reference to write_n() removed and changed into neat write() call.

------------------------------------------------------------------------
r66 | guus | 2000-04-27 22:57:18 +0200 (do, 27 apr 2000) | 2 lines

Removed write_n() function.

------------------------------------------------------------------------
r65 | zarq | 2000-04-27 15:47:51 +0200 (do, 27 apr 2000) | 2 lines

Default config file name is tinc.conf, and pidfile is tinc.pid.

------------------------------------------------------------------------
r64 | zarq | 2000-04-27 02:07:17 +0200 (do, 27 apr 2000) | 2 lines

Updated version number to 1.0.

------------------------------------------------------------------------
r63 | zarq | 2000-04-27 02:01:00 +0200 (do, 27 apr 2000) | 2 lines

Filled in the details, license from libblowfish copied.

------------------------------------------------------------------------
r62 | zarq | 2000-04-27 01:56:22 +0200 (do, 27 apr 2000) | 3 lines

Version to 1.0pre1;
Create Makefile and build in debian/.

------------------------------------------------------------------------
r61 | zarq | 2000-04-27 01:23:01 +0200 (do, 27 apr 2000) | 2 lines

Omit TODO.

------------------------------------------------------------------------
r60 | zarq | 2000-04-27 00:42:15 +0200 (do, 27 apr 2000) | 2 lines

Add an entry to dir.

------------------------------------------------------------------------
r59 | zarq | 2000-04-27 00:01:01 +0200 (do, 27 apr 2000) | 2 lines

The make command is in /usr/bin.

------------------------------------------------------------------------
r58 | guus | 2000-04-26 19:42:55 +0200 (wo, 26 apr 2000) | 4 lines

Cleanups:
- Changed recv/send calls into read/write calls for streams
- Made all sizeof() functions use a variable name instead of type

------------------------------------------------------------------------
r57 | zarq | 2000-04-26 16:54:43 +0200 (wo, 26 apr 2000) | 2 lines

From Mads Kiilerich.

------------------------------------------------------------------------
r56 | guus | 2000-04-26 00:15:28 +0200 (wo, 26 apr 2000) | 2 lines

Converted every &variable[0] to variable.

------------------------------------------------------------------------
r55 | zarq | 2000-04-26 00:00:49 +0200 (wo, 26 apr 2000) | 2 lines

Debug level tweaking.

------------------------------------------------------------------------
r54 | guus | 2000-04-25 22:50:59 +0200 (di, 25 apr 2000) | 4 lines

When trying to talk to a host that is in the netmask of a tinc server but
not the tinc server itself, and no keys have been exchanged yet, the key
request would be directed to the host instead of the server. Fixed.

------------------------------------------------------------------------
r53 | zarq | 2000-04-25 22:42:54 +0200 (di, 25 apr 2000) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r52 | guus | 2000-04-25 22:17:44 +0200 (di, 25 apr 2000) | 2 lines

Fixed typo and removed some unnecessary variables.

------------------------------------------------------------------------
r51 | guus | 2000-04-25 22:10:37 +0200 (di, 25 apr 2000) | 2 lines

Packet queues fixed. They caused the trouble when resending keys.

------------------------------------------------------------------------
r50 | zarq | 2000-04-25 21:23:23 +0200 (di, 25 apr 2000) | 2 lines

Create a ChangeLog file, automake requires it.

------------------------------------------------------------------------
r49 | zarq | 2000-04-25 21:21:19 +0200 (di, 25 apr 2000) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r48 | zarq | 2000-04-25 21:11:02 +0200 (di, 25 apr 2000) | 2 lines

Initial CVS.

------------------------------------------------------------------------
r47 | guus | 2000-04-25 20:57:23 +0200 (di, 25 apr 2000) | 2 lines

Added checkpoints to beginning and ending of every function.

------------------------------------------------------------------------
r46 | zarq | 2000-04-25 19:38:54 +0200 (di, 25 apr 2000) | 2 lines

Remove ChangeLog with a `make cvs-clean'.

------------------------------------------------------------------------
r45 | zarq | 2000-04-25 19:35:45 +0200 (di, 25 apr 2000) | 2 lines

Don't include TODO in the dist.

------------------------------------------------------------------------
r44 | zarq | 2000-04-25 17:08:10 +0200 (di, 25 apr 2000) | 2 lines

Propagate CFLAGS from configure to gcc.

------------------------------------------------------------------------
r43 | zarq | 2000-04-25 17:07:21 +0200 (di, 25 apr 2000) | 2 lines

Delete all the files that are created by autogen.sh on a `make cvs-clean'.

------------------------------------------------------------------------
r42 | zarq | 2000-04-25 12:40:08 +0200 (di, 25 apr 2000) | 2 lines

Spelling fixes.

------------------------------------------------------------------------
r41 | zarq | 2000-04-25 12:27:44 +0200 (di, 25 apr 2000) | 2 lines

Contributed by Mads Kiilerich.

------------------------------------------------------------------------
r40 | zarq | 2000-04-25 12:22:26 +0200 (di, 25 apr 2000) | 2 lines

Generate this Makefile.am from Makefile.am.in.

------------------------------------------------------------------------
r39 | zarq | 2000-04-25 11:43:50 +0200 (di, 25 apr 2000) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r38 | zarq | 2000-04-25 11:42:52 +0200 (di, 25 apr 2000) | 2 lines

Added Mads Kiilerich, removed Guus Sliepen.

------------------------------------------------------------------------
r37 | zarq | 2000-04-25 03:45:34 +0200 (di, 25 apr 2000) | 3 lines

Changes largely from Mads Kiilerich.
Removed section about encryption.

------------------------------------------------------------------------
r36 | zarq | 2000-04-25 03:26:35 +0200 (di, 25 apr 2000) | 2 lines

Remove test for GNOME.

------------------------------------------------------------------------
r35 | zarq | 2000-04-25 03:25:18 +0200 (di, 25 apr 2000) | 2 lines

Use `make ChangeLog' to create this file from the CVS logs.

------------------------------------------------------------------------
r34 | zarq | 2000-04-25 03:23:31 +0200 (di, 25 apr 2000) | 2 lines

Don't define HAVE_NAMESPACES and HAVE_STL.

------------------------------------------------------------------------
r33 | zarq | 2000-04-25 03:22:01 +0200 (di, 25 apr 2000) | 2 lines

Remove check for bigendianness.

------------------------------------------------------------------------
r32 | zarq | 2000-04-25 03:15:28 +0200 (di, 25 apr 2000) | 2 lines

This file is obsolete, most of the ideas are already in echelon.

------------------------------------------------------------------------
r31 | zarq | 2000-04-25 03:10:38 +0200 (di, 25 apr 2000) | 2 lines

s/Gnome/tinc/g

------------------------------------------------------------------------
r30 | zarq | 2000-04-25 02:50:48 +0200 (di, 25 apr 2000) | 3 lines

The shell script autogen.sh can create all these removed files, but be
sure to have autoconf, automake, libtool and more installed.

------------------------------------------------------------------------
r29 | zarq | 2000-04-25 02:11:33 +0200 (di, 25 apr 2000) | 2 lines

Don't try to create cipher/idea/Makefile.

------------------------------------------------------------------------
r28 | zarq | 2000-04-24 23:12:32 +0200 (ma, 24 apr 2000) | 2 lines

Don't include idea/idea.h.

------------------------------------------------------------------------
r27 | zarq | 2000-04-24 23:10:33 +0200 (ma, 24 apr 2000) | 2 lines

Don't compile in `idea'.

------------------------------------------------------------------------
r26 | zarq | 2000-04-24 22:57:22 +0200 (ma, 24 apr 2000) | 2 lines

These files are not needed in release 1.0.

------------------------------------------------------------------------
r25 | guus | 2000-04-24 11:39:50 +0200 (ma, 24 apr 2000) | 3 lines

Bug found! Wrong pointer was used for handling multiple ADD_HOST requests
at once. (See line 606.)

------------------------------------------------------------------------
r24 | guus | 2000-04-24 10:32:57 +0200 (ma, 24 apr 2000) | 3 lines

Added extra checks for desynchronized connection lists. Hopefully this will
fix those strange segmentation faults.

------------------------------------------------------------------------
r23 | zarq | 2000-04-21 00:50:48 +0200 (vr, 21 apr 2000) | 2 lines

Added cvs-clean.

------------------------------------------------------------------------
r22 | zarq | 2000-04-20 21:14:09 +0200 (do, 20 apr 2000) | 2 lines

Keep make dist(dir) happy.

------------------------------------------------------------------------
r21 | zarq | 2000-04-18 22:44:29 +0200 (di, 18 apr 2000) | 2 lines

A short notice from Mads Kiilerich.

------------------------------------------------------------------------
r20 | zarq | 2000-04-18 22:43:24 +0200 (di, 18 apr 2000) | 2 lines

Submitted changes by Mads Kiilerich.

------------------------------------------------------------------------
r19 | zarq | 2000-04-18 22:30:20 +0200 (di, 18 apr 2000) | 2 lines

Include genauth.8 in the distribution.

------------------------------------------------------------------------
r18 | zarq | 2000-04-18 22:26:49 +0200 (di, 18 apr 2000) | 2 lines

Include the directory redhat in the build process.

------------------------------------------------------------------------
r17 | zarq | 2000-04-18 18:04:10 +0200 (di, 18 apr 2000) | 2 lines

Address for bugreports changed to tinc@nl.linux.org.

------------------------------------------------------------------------
r16 | zarq | 2000-04-18 17:59:42 +0200 (di, 18 apr 2000) | 2 lines

Updated manpages.

------------------------------------------------------------------------
r15 | zarq | 2000-04-18 17:59:22 +0200 (di, 18 apr 2000) | 2 lines

New manpage for genauth.

------------------------------------------------------------------------
r14 | zarq | 2000-04-18 17:09:11 +0200 (di, 18 apr 2000) | 2 lines

Submitted by Mads Kiilerich.

------------------------------------------------------------------------
r13 | zarq | 2000-04-17 19:04:33 +0200 (ma, 17 apr 2000) | 2 lines

Default passphrase length of 1024, added -h/--help options.

------------------------------------------------------------------------
r12 | zarq | 2000-04-17 18:59:42 +0200 (ma, 17 apr 2000) | 2 lines

Check if stdout is a terminal, if so, print a verbose message.

------------------------------------------------------------------------
r11 | zarq | 2000-04-17 18:52:58 +0200 (ma, 17 apr 2000) | 2 lines

Check for an illegal length of passphrase in read_passphrase().

------------------------------------------------------------------------
r10 | zarq | 2000-04-17 18:23:29 +0200 (ma, 17 apr 2000) | 2 lines

Pass the requested size from xmalloc() and xrealloc() on to xalloc_fail_func()

------------------------------------------------------------------------
r9 | zarq | 2000-04-17 17:38:47 +0200 (ma, 17 apr 2000) | 4 lines

Only one round of reading bits out of urandom;
Reading `bytes' bytes out of it;
Print a newline after completion.

------------------------------------------------------------------------
r8 | zarq | 2000-04-12 18:22:39 +0200 (wo, 12 apr 2000) | 2 lines

Moved to version number 1.0.

------------------------------------------------------------------------
r7 | zarq | 2000-04-06 20:28:29 +0200 (do, 06 apr 2000) | 2 lines

New option -D, don't detach.

------------------------------------------------------------------------
r6 | zarq | 2000-03-28 21:16:27 +0200 (di, 28 mrt 2000) | 2 lines

Ignore SIGCHLD.

------------------------------------------------------------------------
r5 | zarq | 2000-03-28 21:09:52 +0200 (di, 28 mrt 2000) | 2 lines

Kill the parent after any error conditions in detach().

------------------------------------------------------------------------
r4 | zarq | 2000-03-28 00:59:16 +0200 (di, 28 mrt 2000) | 2 lines

Upon regeneration, free the old encryption key `securely\' by overwriting it.

------------------------------------------------------------------------
r3 | zarq | 2000-03-28 00:30:27 +0200 (di, 28 mrt 2000) | 2 lines

Get rid of the message `zxnrbl\'.

------------------------------------------------------------------------
r1 | zarq | 2000-03-26 01:33:07 +0100 (zo, 26 mrt 2000) | 2 lines

Initial revision

------------------------------------------------------------------------
