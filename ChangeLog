commit 28a1501b9a8b4c730f7f965d6b2e8fc50feba261
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 10 13:31:36 2012 +0100

    Releasing 1.0.17.

commit 4712d8f92e63e86e835ffb624d6399343ee568ea
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 10 13:23:08 2012 +0100

    Update copyright notices.

commit 5b0f5ad958d6db4e73aebc5ee6c608cdae81b7b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Mar 8 23:23:39 2012 +0100

    Make sure disabling old RSA keys works on Windows.
    
    Seeking in files and rewriting parts of them does not seem to work properly on
    Windows. Instead, when old RSA keys are found when generating new ones, the
    file containing the old keys is copied to a temporary file where the changes
    are made, and that file is renamed back to the original filename. On Windows,
    we cannot atomically replace files with a rename(), so we need to move the
    original file out of the way first. If anything fails, the new code will warn
    that the user has to solve the problem by hand.

commit 2f1c337c541fcb7e2c62aeeab245ff7a43eb51a5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Mar 8 22:19:20 2012 +0100

    Add missing ICMP6 message type definitions.

commit 9dea33f5301119dd4423eb962956cf2d246af3f3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 7 10:40:06 2012 +0100

    Accept Subnets passed with the -o option when StrictSubnets = yes.

commit 63f8303a5dc1758876451a580a8317dbc3d295d6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 2 16:09:58 2012 +0100

    Only log errors sending UDP packets when debug level >= 5.
    
    Since tinc will fall back to TCP or route via another node, it is not necessary
    to log such errors unconditionally.

commit ae5249610954af17c68c547bb1b45ad286ad647e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 26 16:23:02 2012 +0100

    Only use broadcast at the start of the PMTU discovery phase.
    
    For local peer discovery, only a handful of packets are necessary for
    peers to detect each other.

commit 5140656de6bcfda72951a7827b05414ce306e3ca
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Feb 25 22:11:30 2012 +0100

    Stricter checks against routing loops.
    
    If a packet that had to be sent via an intermediate hop, and that intermediate
    hop was the one that sent the packet, we drop it.

commit f1d5eae643cdf537ef357f10f2da8ff83bdf32b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Feb 25 21:46:18 2012 +0100

    Don't send ICMP Time Exceeded messages for other Time Exceeded messages.
    
    That would be silly.

commit 5a28aa7b8b0ab6237c2eab5f8b11253ea3ec5a05
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 22 23:17:43 2012 +0100

    Add LocalDiscovery option which tries to detect peers on the local network.
    
    Currently, this is implemented by sending IPv4 broadcast packets to the
    LAN during path MTU discovery.

commit 8e717ddb602f01f656369106ec0398efbe9ca4a4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 22 14:37:56 2012 +0100

    Pass index into listen_socket[] to handle_incoming_vpn_data().

commit 65e8e06c6dc7349b11c3c1e8f4071b51e2994c65
Author: Nick Hibma <nick@van-laarhoven.org>
Date:   Tue Feb 21 15:26:58 2012 +0100

    Add missing ICMP message type definitions.

commit ac48c4ee8c09c8144f830cb66386b9dbe7298440
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 21 14:06:55 2012 +0100

    Fix check for raw socket support.
    
    Also, move some variables so there are no compiler warnings about unused
    variables when there is no support for raw sockets.

commit d9ad3d313d96d30ef45cd53367dff9a855a396d4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 21 13:31:21 2012 +0100

    Fix a bug that caused tinc to ignore all but the last listening socket.

commit 46506b7aaf6c6a8a85561c38fdb9c95eae21aa75
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 21 13:13:40 2012 +0100

    Document the command line flag -o and provide --option as well.

commit 7d76e287598c8c18cadfb5818046d9dd1b0ad881
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 21 11:39:21 2012 +0100

    Move initialization of char *priority up to prevent freeing an uninitialized pointer.

commit 8420a0c8bde1781db04dd2436eb9d5dca5a1732a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 20 17:19:00 2012 +0100

    Allow disabling of broadcast packets.
    
    The Broadcast option can be used to cause tinc to drop all broadcast and
    multicast packets. This option might be expanded in the future to selectively
    allow only some broadcast packet types.

commit ea415ccc1690d6e5864a7500977b181e5c8faafe
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 20 17:12:48 2012 +0100

    Rename connection_t *broadcast to everyone.

commit cff5a844a3e6b494f4a4f6eb5b48a84780f2d0e5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 20 16:52:53 2012 +0100

    Don't bind outgoing TCP sockets anymore.
    
    The code introduced in commit 41a05f59ba2c3eb5caab555f096ed1b9fbe69ee3 is not
    needed anymore, since tinc has been able to handle UDP packets from a different
    source address than those of the TCP packets since 1.0.10.  When using multiple
    BindToAddress statements, this code does not make sense anymore, we do want the
    kernel to choose the source address on its own.

commit 0233b1d710222cb09be0cbd08c1297e3ece38a9f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 20 16:34:02 2012 +0100

    Decrement TTL of incoming packets.
    
    Tinc will now, by default, decrement the TTL field of incoming IPv4 and IPv6
    packets, before forwarding them to the virtual network device or to another
    node. Packets with a TTL value of zero will be dropped, and an ICMP Time
    Exceeded message will be sent back.
    
    This behaviour can be disabled using the DecrementTTL option.

commit 6289859ab365dc1c0d420323174418b316b14502
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 20 15:44:52 2012 +0100

    Only compile raw socket code when it is supported on that platform.

commit d1dcdf8eb6f800704be426b1ce6f6c1a8e65ba0d
Merge: 1b2846d 3b1fad0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Feb 18 14:31:08 2012 +0100

    Merge branch 'master' of black:tinc

commit 3b1fad04de6bed2f284fdf3d5b27d4162aeebc8c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Feb 18 14:37:52 2012 +0100

    Allow setting DeviceType to tun or tap on Linux.

commit 6455654d26d204cea4bbc102e5bd6550b7fff7a7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Feb 18 11:48:21 2012 +0100

    Send packets back using the same socket as they were received on.

commit 1b2846d907adfc8472fc9da0c951c3243c7ee143
Merge: 9f6a96a 6455654
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Feb 18 11:43:00 2012 +0100

    Merge branch 'master' of black:tinc

commit 9f6a96af3939bd2de410ce346a8c8fbcf93e7c9b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Feb 17 16:25:00 2012 +0100

    Allow multiple BindToAddress statements.

commit 708314df2f61675d0f54e541c9fff62ac1f433b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Feb 17 16:13:38 2012 +0100

    Set FD_CLOEXEC flag on all sockets.
    
    Scripts called by tinc would inherit its open filedescriptors. This could
    be a problem if other long-running daemons are started from those scripts,
    if those daemons would not close all filedescriptors before going into the
    background.
    
    Problem found and solution suggested by Nick Hibma.

commit 178e52f76ef4ba40748c13ea7e518837394d6dbc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Dec 4 01:20:59 2011 +0100

    Allow linking with multiple device drivers.
    
    Apart from the platform specific tun/tap driver, link with the dummy and
    raw_socket devices, and optionally with support for UML and VDE devices.
    At runtime, the DeviceType option can be used to select which driver to
    use.

commit 5672863e59e6a114ac6b66de98254b14266c0e61
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 3 21:59:47 2011 +0100

    Fix a few small memory leaks.

commit 52ded09d1713b83222b56db7d29ff061aefb95e3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 27 12:13:16 2011 +0100

    Add vde/device.c to the tarball.

commit 2c7c87ec75c94d0b3cca9f7a5aeba34384f77cc1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 27 12:12:34 2011 +0100

    Fix compilation of VDE and UML interfaces.

commit ddea7a23a66b8fee4942f2ce237dcabe02e17270
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 30 20:49:48 2011 +0200

    Return false instead of void when there is an error.

commit e838289683c0039fac0ae6172d40b4177c17911b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 30 19:56:56 2011 +0200

    Prevent read_rsa_public_key() from returning an uninitialized RSA structure.
    
    In case the config file could not be opened a new but unitialized RSA structure
    would be returned, causing a segmentation fault later on. This would only
    happen in the case that the config file could be opened before, but not when
    read_rsa_public_key() was called. This situation could occur when the --user
    option was used, and the config files were not readable by the specified user.

commit 0f2aa4bd8b698608876bec141c5aef1aa619730b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 23 14:12:23 2011 +0200

    Releasing 1.0.16.

commit e16ead8dd9d4600664058069f0695832dfe068b2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 23 14:11:44 2011 +0200

    Use usleep() instead of sleep(), MinGW complained.

commit 50fcfea127c9d2fdf8894498a9fdcc6fb3bbb2ce
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 17 19:34:01 2011 +0200

    Flush output buffer in send_tcppacket().
    
    This is mainly important for Windows, where the select() call in the
    main thread is not being woken up when the tapreader thread calls
    route(), causing a delay of up to 1 second before the output buffer is
    flushed. This would cause bad performance when UDP communication is not
    possible.

commit be2fc8b0458b1e2ced3b5de410356d8d8639acff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 16 10:47:35 2011 +0200

    Make code to detect two nodes with the same Name less triggerhappy.
    
    First of all, if there really are two nodes with the same name, much
    more than 10 contradicting ADD_EDGE and DEL_EDGE messages will be sent.
    Also, we forgot to reset the counters when nothing happened.
    
    In case there is a ADD_EDGE/DEL_EDGE storm, we do not shut down, but
    sleep an increasing amount of time, allowing tinc to recover gracefully
    from temporary failures.

commit 05260f941c2a24eb3f09070a2550cf15e431266a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 24 14:50:20 2011 +0200

    Releasing 1.0.15.

commit 3c0511984f0041f79e64bcc55d58680f86e8e408
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 24 12:27:04 2011 +0200

    Remove redundant @CFLAGS@ from AM_CFLAGS.

commit 4b3fd94b1cc79c24c4092b6b10ed4627a2648d26
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 6 16:26:11 2011 +0200

    Improved --logfile option.
    
    Instead of UNIX time, the log messages now start with the time in RFC3339
    format, which human-readable and still easy for the computer to parse and sort.
    The HUP signal will also cause the log file to be closed and reopened, which is
    useful when log rotation is used. If there is an error while opening the log
    file, this is logged to stderr.

commit b3bbeab6e669795f6f5a6b98590da359178bfdce
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 4 11:27:54 2011 +0200

    Attribution for Loïc Grenié.

commit 50af33d01f425983dd2b1d7b61092a6325be3f41
Author: Loïc Grenié <loic.grenie@gmail.com>
Date:   Sat Jun 4 09:05:23 2011 +0200

    Nearly tickless tinc.
    
    Use pselect instead of select in main_loop (if available). This lets
    tincd sleeps as long as there is nothing to do.

commit 64771f73ebbff04262defcde59263e98f89f0fa1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 28 23:46:56 2011 +0200

    Remove a few unnecessary #includes.
    
    Some spotted by Michael Tokarev.

commit 5cff8c47c1781a88123c128a4cec6cdd39925aa5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 28 23:42:18 2011 +0200

    Remove newlines from log messages.

commit 6d08eb1614b59d5f86a43edda9db06fca72b76cd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 28 23:36:52 2011 +0200

    Fix sparse warnings and add an extra sprinkling of const.
    
    This is more or less the equivalent of Sven-Haegar Koch's fixes in the 1.1
    branch.

commit 07ffb1a19859791d419b83a876ba552dadedbf46
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 22 15:56:04 2011 +0200

    Make return value of SetPriorityClass() behave the same as setpriority().

commit 03b7118139f57033659730afb740bf5cef7c961c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 13 12:37:26 2011 +0200

    Reorder checks for libraries to allow ./configure LDFLAGS=-static.
    
    OpenSSL depends on libdl and libz. When linking dynamically, libcrypto will
    automatically link with the other two libraries.  However, when linking
    statically, these libraries need to be specified explicitly while linking.  By
    moving the autoconf checks for libdl and libz before those for libcrypto, we
    ensure the latter test will be done with the proper libraries.

commit 5686ad80b545afa3de9ed2f4176a5346e289aaa8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 8 23:17:46 2011 +0200

    Releasing 1.0.14.

commit 0d906489f2ce9faf81dc230f7db6ab5378573554
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 8 23:12:44 2011 +0200

    Include <inttypes.h> when using intptr_t.

commit dc887f5011834d5a9a6ec5deb8781c6bfd88c474
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 8 23:12:06 2011 +0200

    Ensure proper linking with OpenSSL with recent versions of MinGW.

commit 67766d65f06854ee894d784f638c5c9cd2b50bca
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 8 21:22:20 2011 +0200

    Update THANKS and copyright information.

commit 6e6b037ef4fd9877aeb1d947da7364409fa8cbb7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 8 21:06:06 2011 +0200

    Check for EVP_EncryptInit_ex instead of SHA1_Version in OpenSSL.
    
    The latter function disappeared, and wasn't actually used in tinc, so now we
    check on a function that we do use.

commit 257cb6ac60bb0924720de9e252cdf7f4759bf741
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 8 12:40:44 2011 +0200

    Always use the default signal handler for ABRT signals.
    
    This will allow coredumps to be generated when tinc is daemonized.
    Also add the -kABRT option.

commit eacb5a28fb4c1515633f2b8a206e7067bc7b8f0c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 8 12:16:26 2011 +0200

    Increase threshold for detecting two nodes with the same Name.
    
    In commit 4a21aabada23d1d2c8a10f54dd7248171c4ec82f, code was added to detect
    contradicting ADD_EDGE and DEL_EDGE messages being sent, which is an indication
    of two nodes with the same Name connected to the same VPN.  However, these
    contradictory messages can also happen when there is a network partitioning. In
    the former case a loop happens which causes many contradictory message, while
    in the latter case only a few of those messages will be sent. So, now we
    increase the threshold to at least 10 of both ADD_EDGE and DEL_EDGE messages.

commit f11c6101f30df645223920bef3eb7592de9bcb79
Author: Julien Muchembled <jm@jmuchemb.eu>
Date:   Thu Apr 28 13:21:55 2011 +0200

    Fix command-line '-o' option for host configuration
    
    This fixes a regression introduced by commit 667b1ba while refactoring option
    parsing code.

commit 0aa86d4b8b3010522e6de8842f5bd29004ba3df6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 9 09:34:56 2011 +0100

    Do not set indirect flag on edges from nodes with multiple addresses.
    
    Since tinc now handles UDP packets with a different source address and port
    than used for TCP connections, the heuristic to treat edges as indirect when
    tinc could detect that multiple addresses were used does not make sense
    anymore, and can actually reduce performance.

commit 7cf68b5e35c002511cc7468967de6a75934cc998
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Feb 18 23:11:43 2011 +0100

    Prevent anything from updating our own UDP address.
    
    Because we don't want to keep track of that, and this will cause the node
    structure from being relinked into the node tree, which results in myself
    pointing to an invalid address.

commit cdbbbfabea173894bd2fb5f28135a04ddc5e3fd7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Feb 18 23:02:11 2011 +0100

    Fix spurious misidentification of incoming UDP packets.
    
    When a UDP packet was received with an unknown source address/port, and if it
    failed a HMAC check against known keys, it could still incorrectly assign that
    UDP address to another node. This would temporarily cause outgoing UDP packets
    to go to the wrong destination address, until packets from the correct address
    were received again.

commit 046d83bf91e01bc7a32e66a02758caf228bc4601
Author: Rumko <rumko@rumko.net>
Date:   Sat Feb 12 18:22:14 2011 +0100

    DragonFlyBSD support
    
    * added DragonFly BSD support
    * added a check for sys/resource.h (needed on DragonFly)

commit f017c7f98f8f68d6ca50ebe247f4115aadd93635
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 7 18:34:55 2011 +0100

    Add support for VDE through libvdeplug.
    
    When compiled with vde/device.c, tinc will connect to a vde_switch instance
    instead of using a tun/tap device.

commit 8d18cc6c4e625625a2437d26c587f9f382a0c589
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 29 10:49:44 2011 +0100

    Fix typo spotted by Andrew Scheller.

commit b3731c04097e66a6b8908bb893c5da831d89c04d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jan 12 20:57:14 2011 +0100

    Proper check and dropin replacement for usleep().

commit 4b8a5993036fccc2108fcc2550649d9b78fb1ab7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 17:25:24 2011 +0100

    Update the NEWS.

commit c228da54d47657811dfb679e7f138cbba58a9f67
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 17:25:03 2011 +0100

    Update the manual.

commit 4575c6c7dffe228ce302776022a2075b7ef37ab0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 17:24:23 2011 +0100

    Document the behavior of "-n."

commit 6c05bf082b1ce9acfc0ebb5c6f32c2ece41c7f80
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 16:59:42 2011 +0100

    Remove unused variables.

commit 6a51d89cf706bcefce1861a1a66d40ef7d7db43b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 16:55:42 2011 +0100

    Replace bogus #else with #endif.
    
    Found by cppcheck, which complained about lenin not being initialized, but the
    real problem is that reading packets would fail when using code compiled with
    --tunemu on a normal tun device.

commit d7636352ce359e807b392a6e5ac0a6aeff4a63d2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 16:52:36 2011 +0100

    Limit field width when scanning PID file.
    
    Cppcheck warns that scanf() might otherwise crash when presented with a huge,
    bogus PID file.

commit 3ce5e292da8bab3a1316faf1ca18625f05074467
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 16:50:24 2011 +0100

    Close all filedescriptors in Solaris close_device().

commit f99661a4ca5bacff47239ce7978b9c9948917c54
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 2 15:02:23 2011 +0100

    Always send MTU probes at least once every PingInterval.
    
    Before, if MTU probes failed, tinc would stop sending probes until the next
    time keys were regenerated (by default, once every hour).  Now it continues to
    send them every PingInterval, so it recovers faster from temporary failures.

commit cac0a5c651535e8317839b0deff1ee98086a8184
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 20 14:31:11 2010 +0000

    Use setpriority() instead of nice() on UNIX-like systems.
    
    The return value of nice() can not reliably indicate errors. The return value
    of the setpriority() call is well-defined.

commit d91903ef3c2a1f4481ae8757bb2b14282f2b7e68
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 16 17:28:41 2010 +0100

    Attribution for Brandon Black.

commit e764ff7be9949c91865aff72844357e76ae6dd78
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 16 16:45:36 2010 +0100

    Fix variable length array declaration.

commit 5eb0440110f99f0a49838cc00a0686c7a7595663
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 13 21:36:51 2010 +0100

    Free replay window when freeing a node_t.

commit a9445e38f25bd24eca289768fc46e44e36b842ac
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 13 21:34:59 2010 +0100

    Fix warning message when setting SO_RCVBUF or SO_SNDBUF fails.

commit 0d61d4ae1358553fc8dde350747542f137f5cb8b
Author: Brandon L Black <blblack@gmail.com>
Date:   Sat Nov 13 12:05:51 2010 -0600

    Improved handling of queue-jumping packets on receive

commit 23acc19bc090051156ad895caed61848f5afb144
Author: Brandon L Black <blblack@gmail.com>
Date:   Sat Nov 13 12:05:50 2010 -0600

    Configurable ReplayWindow size, zero disables

commit 8dfe1b374e165ecba5d3ae324ee834d337476be8
Author: Brandon L Black <blblack@gmail.com>
Date:   Sat Nov 13 12:05:49 2010 -0600

    Configurable SO_RCVBUF/SO_SNDBUF for the UDP socket

commit 3f410e2f8f7c365630f226adf4904935698f9e0d
Author: Brandon L Black <blblack@gmail.com>
Date:   Sat Nov 13 12:05:48 2010 -0600

    Experimental IFF_ONE_QUEUE support for Linux

commit 9e3ca397735077f85bbde48c36e1b3e0fa950988
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 13 15:55:38 2010 +0100

    Use variable length arrays instead of alloca().

commit e2e6ec8050274b0a8678d6fc263e7dc4ef66feae
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 13 15:50:39 2010 +0100

    Provide usleep() for Windows.

commit 930bf74fbe5ce8363b6cc2ae3a3e960e910e0996
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Nov 12 11:38:05 2010 +0100

    Don't use strlen() on a NULL pointer.
    
    A bug introduced in commit 667b1bac77b134cf32c98d5dc25619e8c3303f52 caused tinc
    to crash on startup.

commit a07aa92176571eb7f063708640d0d486280808ef
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Nov 12 11:33:01 2010 +0100

    Add short options -R and -U to the tincd(8) manpage.

commit 66b7aea294896a99df289231143a506b422b994c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 2 14:23:43 2010 +0100

    Read error counter must be static.

commit a91bf2dfcd0f5857905e59da7d944654e0875503
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 2 14:18:35 2010 +0100

    Quit when there are too many consecutive errors on the tun/tap device.
    
    Although transient errors sometimes happen on the tun/tap device (for example,
    if the kernel is temporarily out of buffer space), there are situations where
    the tun/tap device becomes permanently broken. Instead of endlessly spamming
    the syslog, we now sleep an increasing amount of time between consecutive read
    errors, and if reads still fail after 10 attempts (approximately 3 seconds),
    tinc will quit.

commit aca70cd3c3fe787e62c618849e43f67b3870ac20
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Sun Oct 24 15:23:10 2010 +0400

    Treat netname="." in a special way.
    
    Treat netname "." in a special way as if there was no netname
    specified.  Before, f.e. tincd -n. -k didn't work as it tried
    to open /var/run/tinc-.pid.  Now -n. works as if there was no
    -n option is specified.
    
    Signed-Off-By: Michael Tokarev <mjt@tls.msk.ru>

commit 5f729f76f5a63114df582fc29f4189140c1e5ead
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 22 22:46:44 2010 +0200

    Remove unused variables.
    
    These were caused by commit 667b1bac77b134cf32c98d5dc25619e8c3303f52.

commit 20ae7dd8c12390f7360eb28cc17e1b8a8a706b06
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 22 22:43:50 2010 +0200

    Abort disabling old PEM keys on I/O errors.

commit a08462bf845973016e061b8ca1233142d80416f6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 22 22:42:21 2010 +0200

    Ensure there is a newline character before a PEM key is written.

commit c6ccbadfcf93a7bd4a88dee8ff146b4db7f85e71
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 22 13:40:04 2010 +0200

    Attribution for Timothy Redaelli.

commit 1c2cd7ed273ee1538ff8a13d036c68aa9992c4aa
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 22 13:17:42 2010 +0200

    Attribution for Julien Muchembled.

commit 667b1bac77b134cf32c98d5dc25619e8c3303f52
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 22 13:06:06 2010 +0200

    Remove duplicate command-line option parsing.
    
    Also fix parsing of command-line host configuration options for the local node.

commit ff71f289022ccb91abc2726f16522d55b5ccf0f6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 22 12:47:12 2010 +0200

    Merge local host configuration with server configuration.
    
    With some exceptions, tinc only accepted host configuration options for the
    local node from the corresponding host configuration file. Although this is
    documented, many people expect that they can also put those options in
    tinc.conf. Tinc now internally merges the contents of both tinc.conf and the
    local host configuration file.

commit 8c3105283ac53f8cc9cc4dde25957ec1cf6b53a0
Author: Julien Muchembled <jm@jmuchemb.eu>
Date:   Fri Sep 3 13:34:22 2010 +0200

    New '-o' option to configure server or hosts from command line
    
    Options given on the command line have precedence over configuration from files.
    
    This can be useful, for example, for a roaming node, for which 'ConnectTo' and
    <host>.Address depends on its location.

commit 4b6a9f1c1f645ce5989692655337d9e23ca28648
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 4 16:03:19 2010 +0200

    Do not append an address to ANS_KEY messages if we don't know any address.
    
    This would let tinc raise an exception when an ANS_KEY request crossed a
    DEL_EDGE request for the node sending the key.

commit 798fa2f04c52b0639713f74b1195847bec40c16a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 4 15:04:08 2010 +0200

    Use 64 bit counters to keep track of bytes sent/received from the virtual network interface.

commit 4a21aabada23d1d2c8a10f54dd7248171c4ec82f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 4 14:53:52 2010 +0200

    Detect and prevent two nodes with the same Name being on the VPN simultaneously.
    
    In this situation, the two nodes will start fighting over the edges they announced.
    When we have to contradict both ADD_EDGE and DEL_EDGE messages, we log a warning,
    and with 25% chance per PingTimeout we quit.

commit dbf3d168b720045328d476f3b9e5f5e45b4ab6de
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 7 12:24:49 2010 +0200

    Use strrchr() insteaad of rindex().
    
    The latter function is deprecated, some build environments do not support.

commit eda71798749e8b0abf5e8b3cbc11da82aa607f00
Author: Timothy Redaelli <timothy@redaelli.eu>
Date:   Tue May 4 15:43:48 2010 +0200

    Fix warnings under BSD

commit df985256a766ee90f2fa4269b95fa0565c969dda
Author: Timothy Redaelli <timothy@redaelli.eu>
Date:   Tue May 4 00:27:44 2010 +0200

    Fix warnings showed using -D_FORTIFY_SOURCE=2

commit f5122ccecee095b9185b2324dea7bcd9655462ee
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 1 15:39:59 2010 +0200

    Fix all warnings when compiling with mingw64.

commit ef92a5725c47c6e8e801e07190dd7dd3f9cb3a17
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 1 15:39:03 2010 +0200

    OpenSSL 1.0.0 compiled for 64 bit Windows requires linking with -lcrypt32.

commit 0fdd7da52077d77a11a3646eb3e7d5b6ffa178e8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 1 15:38:04 2010 +0200

    Use intptr_t instead of long to store a pointer.

commit c94ede3b8708cdf105a3fecfc119a558e1583f27
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 1 15:37:11 2010 +0200

    Define WINVER before including any other header file on Windows.

commit 4766359e1426bdf1383c898d6103d8760e5e296d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Apr 17 12:01:38 2010 +0200

    Fix reading configuration files that do not end with a newline. Again.

commit 26b8cf8680ae68443dccac2adbc2361caafc3712
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Apr 11 20:40:20 2010 +0200

    Releasing 1.0.13.

commit 74653beb5bc510e60579058ee15c0f66350f5137
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Apr 11 19:47:44 2010 +0200

    Mark Forwarding and DirectOnly options as being experimental.

commit 0ddce6370d39eff162bd212a6e47fe3a8e96a09e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Apr 11 19:39:31 2010 +0200

    Don't redefine MAX if it already exists.

commit a9bbb3357a89e27185312fbce0ee134eda4eda90
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Apr 11 19:20:02 2010 +0200

    Fixes for definitions under Windows.

commit 4708f2c89edea4be2562256544cf35309cf1ea89
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Apr 11 18:34:50 2010 +0200

    Ensure subnet-up/down scripts are called after HUP when necessary.

commit 32f5524c4b52a2d3a96bc48ee2437f8b9b4dbe10
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Apr 11 04:35:16 2010 +0200

    Fix reloading Subnets when StrictSubnets is set.

commit 9f53ab209d8a6a7622a49ed03cef735b6e3f3eeb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Apr 11 00:50:42 2010 +0200

    Reload Subnets when getting a HUP signal and StrictSubnets is used.

commit d1cc637470edaed663e694fdeb290eb45cc9ecca
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Apr 10 23:55:15 2010 +0200

    Ensure ICMP_NET_ANO is defined.

commit f75e71bc693847af71f61fb72cd788e3e47f9bd3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Apr 3 09:46:45 2010 +0100

    Convert Port to numeric form before sending it to other nodes.
    
    If one uses a symbolic name for the Port option, tinc will send that name
    literally to other nodes.  However, it is not guaranteed that all nodes have
    the same contents in /etc/services, or have such a file at all.

commit 292354912f346fe467f557f0dc026b519997289c
Author: Sven-Haegar Koch <haegar@ccc.de>
Date:   Wed Mar 10 02:50:51 2010 +0100

    Never delete Subnets when StrictSubnets is set
    
    If a node is unreachable, and not connected to an edge anymore, it gets
    deleted. When this happens its subnets are also removed, which should
    not happen with StrictSubnets=yes.
    
    Solution:
    - do not remove subnets in src/net.c::purge(), we know that all subnets
      in the list came from our hosts files.
      I think here you got the check wrong by looking at the tunnelserver
      code below it - with strictsubnets we still inform others but do not
      remove the subnet from our data.
    - do not remove nodes in net.c::purge() that still have subnets
      attached.

commit 146760bd35b351d58e817ce0e67f5c6f74750cd4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 10 16:07:01 2010 +0100

    Fix typo.

commit f2346771cf5b22092dd3f5af3674008aa1e878d1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 8 21:44:32 2010 +0100

    Log unauthorized Subnets when StrictSubnets is set.

commit ee64b8ef33b709fabfc1ed56762d5f52fc026e52
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 8 17:54:57 2010 +0100

    ConnectTo does not mean tinc does not listen for incoming connections anymore.

commit 8ae54dc7c782bcc4b771ec0766fcf9eee115756e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 2 23:27:50 2010 +0100

    Fixes for the Forwarding option.

commit 3e4829e78a3c7f7e19017d05611e5b69d5268119
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 2 22:55:24 2010 +0100

    Add the DirectOnly option.
    
    When this option is enabled, packets that cannot be sent directly to the destination node,
    but which would have to be forwarded by an intermediate node, are dropped instead.
    When combined with the IndirectData option,
    packets for nodes for which we do not have a meta connection with are also dropped.

commit 95a6974de173e0cb78611c6704ed09631d510dae
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 2 22:34:26 2010 +0100

    Add the Forwarding option.
    
    This determines if and how incoming packets that are not meant for the local
    node are forwarded.  It can either be off, internal (tinc forwards them itself,
    as in previous versions), or kernel (packets are always sent to the TUN/TAP
    device, letting the kernel sort them out).

commit 5038964032ef55913b2d4741c67bf191b2208abb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 2 00:18:44 2010 +0100

    Add the StrictSubnets option.
    
    When this option is enabled, tinc will not accept dynamic updates of Subnets
    from other nodes, but will only use Subnets read from local host config files
    to build its routing table.

commit 9fed0ec34b9208611a7e96a595f23fa04e60a5c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 1 23:44:56 2010 +0100

    Preload all Subnets in TunnelServer mode.
    
    This simplifies the logic in protocol_subnet.c.

commit d47ab576a25d91600acf7eecf376ed026bdc9c83
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 1 23:44:46 2010 +0100

    Check for dirent.h.

commit 21f33b638291c2ffe7156e6c1e0df339f855d831
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 1 23:35:02 2010 +0100

    Simplify reading lines from configuration files.
    
    Instead of allocating storage for each line read, we now read into fixed-size
    buffers on the stack. This fixes a case where a malformed configuration file
    could crash tinc.

commit 3cb91d75f874e3398c35cd4280c1e0a1ceeedabc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 28 18:20:13 2010 +0100

    Clamp MSS to miminum MTU in both directions.
    
    Clamp MSS of both incoming and outgoing packets, and use the minimum of the
    PMTU of both directions when clamping.

commit ddb8cb0779ed36d17ce186dd0bf67e9f0c860d28
Author: Timothy Redaelli <timothy@redaelli.eu>
Date:   Wed Feb 10 14:52:15 2010 +0100

    Add --disable-zlib configure option

commit eeb505af36ba9496ad29b32cd0917afb8c6cd355
Author: Timothy Redaelli <timothy@redaelli.eu>
Date:   Wed Feb 10 13:24:33 2010 +0100

    Add --disable-lzo configure option

commit f7b2a2ea43fca323f543e152e6a43a29a4eb6671
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 3 22:49:48 2010 +0100

    Releasing 1.0.12.

commit cd0c2e86a403fc9aabecdc8d51413f94491b5494
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 3 11:18:46 2010 +0100

    Ensure peers with a meta connection always have our key.
    
    This keeps UDP probes going, which in turn keeps NAT mappings alive.

commit 40d91ff619a6ea24a2a35c9d934bcc6bace27e24
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 2 22:49:21 2010 +0100

    Update copyright notices.

commit 44f8f61396a92c899172a1863bbc9c705cbfa649
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 2 22:22:27 2010 +0100

    Try to set DF bit on BSDs as well.
    
    Every operating system seems to have its own, slightly different way to disable
    packet fragmentation. Emit a compiler warning when no suitable way is found.
    On OpenBSD, it seems impossible to do it for IPv4.

commit ed14ef93b47622ba13099dfc6be5335222e987a6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 2 01:02:40 2010 +0100

    Immediately exchange keys when establishing a meta connection.
    
    This in turn will trigger PMTU discovery, and ensures nodes know each others
    reflexive UDP address and port.

commit 4a0b9981513059755b9fd15b38fc198f46a0d6f2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 2 00:51:44 2010 +0100

    Determine peer's reflexive address and port when exchanging keys.
    
    To help peers that are behind NAT connect to each other directly via UDP, they
    need to know the exact external address and port that they use. Keys exchanged
    between NATted peers necessarily go via a third node, which knows this address
    and port, and can append this information to the keys, which is in turned used
    by the peers.
    
    Since PMTU discovery will immediately trigger UDP communication from both sides
    to each other, this should allow direct communication between peers behind
    full, address-restricted and port-restricted cone NAT.

commit d15099e0029578bfd24d6b464b941f4693280001
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 23 18:48:01 2010 +0100

    Be liberal in accepting KEY_CHANGED/REQ_KEY/ANS_KEY requests.
    
    When we got a key request for or from a node we don't know, we disconnected the
    node that forwarded us that request.  However, especially in TunnelServer mode,
    disconnecting does not help. We now ignore such requests, but since there is no
    way of telling the original sender that the request was dropped, we now retry
    sending REQ_KEY requests when we don't get an ANS_KEY back.

commit 469fa318bc817908af9a51e3a980ffc998fae6f2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 22 21:59:40 2010 +0100

    Run subnet-up/down scripts for local MAC addresses as well.

commit 5d194b9f8767390d9fb1170554a8b6928214957a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 22 21:47:26 2010 +0100

    Fix subnet-up/down scripts being called with an empty SUBNET.
    
    Commit 052ff8b2c598358d1c5febaa9f9f5fc5d384cfd3 contained a bug that causes
    scripts to be called with an empty, or possibly corrupted SUBNET variable when
    a Subnet is added or removed while the owner is still online. In router mode,
    this normally does not happen, but in switch mode this is normal.

commit b45511118421920771f5dcd5e4bafc04376e4450
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 16 20:16:33 2010 +0100

    Make MSS clamping configurable, but enabled by default.
    
    It can either be set globally in tinc.conf, or per-node in host config files.

commit 95928f7c2910a7da01a89cdc63c86c4d87fac004
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 16 19:32:33 2010 +0100

    Also clamp MSS of TCP over IPv6 packets.

commit b1945f70fe993ca447555a1e27f35638b0c1fd8b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 15 23:41:14 2010 +0100

    Optimise handling of select() returning <= 0.
    
    Before, we immediately retried select() if it returned -1 and errno is EAGAIN
    or EINTR, and if it returned 0 it would check for network events even if we
    know there are none.  Now, if -1 or 0 is returned we skip checking network
    events, but we do check for timer and signal events.

commit 51099658c919794cde72ea1107b9d9b9c3cee926
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 15 23:19:08 2010 +0100

    Ping nodes immediately when receiving SIGALRM.
    
    One reason to send the ALRM signal is to let tinc immediately try to connect to
    outgoing nodes, for example when PPP or DHCP configuration of the outgoing
    interface finished.  Conversely, when the outgoing interface goes down one can
    now send this signal to let tinc quickly detect that links are down too.

commit 2a538ed34332b3392f866d56accd9efecc9467ed
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 15 13:42:37 2010 +0100

    Clamp MSS of IPv4 SYN packets.
    
    Some ISPs block the ICMP Fragmentation Needed packets that tinc sends.  We
    clamp the MSS of IPv4 SYN packets to prevent hosts behind those ISPs from
    sending too large packets.

commit e4812ba9cc4262ec921944f02639ce55781d7497
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Dec 24 12:42:21 2009 +0100

    Allow Port and PMTUDiscovery options in tinc.conf, always enable PMTUDiscovery by default.

commit 7203d5fb07be2d3ae006c2b65d0be1e6533e1273
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Dec 23 19:51:55 2009 +0100

    Use xstrdup() instead of xasprintf() to copy static strings.

commit a9a803d5662832eb397837055a49fd94118eabf3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Dec 23 19:49:38 2009 +0100

    Allow port to be specified in Address statements.
    
    This allows one to connect to use more than one port number to connect to
    another node. The syntax is now:
    
    Address = <hostname> [<port>]

commit 43e34d8180c90682ed1601dec3de7f68ec96d65b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Dec 23 19:22:06 2009 +0100

    Do not fragment packets smaller than RFC defined minimum MTUs.
    
    For IPv6, the minimum MTU is 1280 (RFC 2460), for IPv4 the minimum is actually
    68, but this is such a low limit that it will probably hurt performance, so we
    do as if it is 576 (the minimum packet size hosts should be able to handle, RFC
    791). If we detect a path MTU smaller than those minima, and we have to handle
    a packet that is bigger than the PMTU but smaller than those minima, we forward
    them via TCP instead of fragmenting or returning ICMP packets.

commit 369fe1ab1cbfc3f8305de1faab2e30157378b044
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Dec 8 22:18:37 2009 +0000

    Forget addresses of unreachable nodes.
    
    We clear the cached address used for UDP connections when a node becomes
    unreachable. This also prevents host-up scripts from passing the old, cached
    address from when the host becomes reachable again from a different address.

commit 62f235e05c54e458724f437e519ed1b3e17835b1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 28 11:56:13 2009 +0000

    Remove unused variable in lookup_subnet_*() functions.

commit 92aefd25bf9e8e63f199cc252218f5c427f836b7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 28 11:52:23 2009 +0000

    When learning MAC addresses, only check our own Subnets for previous entries.
    
    Before it would check all addresses, and not learn an address if another node
    already claimed that address. This caused fast roaming to fail, the code from
    commit 6f6f426b353596edca77829c0477268fc2fc1925 was never triggered.

commit 44834d030464bbe1f7733caba8d96c678f1d6cf2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 1 16:24:39 2009 +0100

    Releasing 1.0.11.

commit d331f04e4598824afc7de33ac1228cf441ae9872
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 1 15:57:28 2009 +0100

    Start a tinc service if it already exists.

commit 6f6f426b353596edca77829c0477268fc2fc1925
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 27 23:53:49 2009 +0100

    Fast handoff of roaming MAC addresses.
    
    In switch mode, if a known MAC address is claimed by a second node before it
    expired at the first node, it is likely that this is because a computer has
    roamed from the LAN of the first node to that of the second node. To ensure
    packets for that computer are routed to the second node, the first node should
    delete its corresponding Subnet as soon as possible, without waiting for the
    normal expiry timeout.

commit e00b44cb98e4d50a0d426048ba01dbd80bcb5941
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 25 01:40:07 2009 +0200

    Move socket error interpretation to utils.h.

commit c11dc8079b60d9f8c5b1c7e8fecd90d0fac5a20c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 25 00:50:09 2009 +0200

    Use WSAGetLastError() to determine cause of network errors on Windows.
    
    This reduces log spam and lets path MTU discovery work faster.

commit 1bca167b7e24a9cb00ad6130c24f0bb60e208f1f
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Sun Oct 18 21:27:24 2009 +0400

    Remove localedir leftovers.

commit c3acae034c4da2d1c70f31b852b14ca098c0eeb9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 24 22:32:35 2009 +0200

    Use IP_DONTFRAGMENT instead of IP_MTU_DISCOVER on Windows.
    
    This ensures the DF bit on outgoing UDP packets gets set on Windows when path
    MTU discovery is enabled, reducing fragmentation.

commit 242c4e2ca67d0b5c78dfe6e68a5ddcd27be1de99
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 24 21:53:01 2009 +0200

    Forward packets to not directly reachable hosts via UDP if possible.
    
    If MTU probing discovered a node was not reachable via UDP, packets for it were
    forwarded to the next hop, but always via TCP, even if the next hop was
    reachable via UDP. This is now fixed by retrying to send the packet using
    send_packet() if the destination is not the same as the nexthop.

commit d922db253cd098bc038449e5c591cc94c1019952
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 24 21:35:40 2009 +0200

    Make maxmtu equal to minmtu when fixing the path MTU to a node.
    
    This ensures MTU probes used to ping nodes are not too large, and prevents
    restarting MTU probing unnecessarily.

commit a8f7fccbc2b5f1c4c39fc2804abaa358b31a5080
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 24 21:32:06 2009 +0200

    Always reply to MTU probes via UDP.
    
    It could sometime happen that a node would return MTU probes via TCP, which
    does not make a lot of sense.

commit cddcdc9af34afb388a8e4bdfff6882f568b98313
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 24 20:54:44 2009 +0200

    Allow UDP packets with an address different from the corresponding TCP connection.

commit 5cbddc68bade0d1f8ded1b784bb27bb44c5dc5dc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 24 16:15:24 2009 +0200

    Use uint32_t instead of long int for connection options.
    
    Options should have a fixed width anyway, but this also fixes a possible MinGW
    compiler bug where %lx tries to print a 64 bit value, even though a long int is
    only 32 bits.

commit 468f393c4fabf9223a1bd15adfb3906cde90d547
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 24 16:05:12 2009 +0200

    Add dummy device.

commit b6543af7626403516b5fc54c24b11d3a242a2992
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 20 22:39:07 2009 +0200

    Clarify and increase level of log message about MTU probes to unreachable nodes.

commit 43a6e786648fb666a9b7be8f05c8a173031c9110
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 20 22:33:16 2009 +0200

    Handle weighted Subnets in switch and hub modes.
    
    We now handle MAC Subnets in exactly the same way as IPv4 and IPv6 Subnets.
    This also fixes a problem that causes unncessary broadcasting of unicast
    packets in VPNs where some daemons run 1.0.10 and some run other versions.

commit 3a925479c2883a6a9711f7b6931863d7f2a2c09b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 20 22:22:59 2009 +0200

    Starting to work towards 1.0.11.

commit 35af4051c3749cd2c2137a7eb57171a1fbb12af7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 20 22:14:47 2009 +0200

    Fix a possible crash when sending the HUP signal.
    
    When the HUP signal is sent while some outgoing connections have not been made
    yet, or are being retried, a NULL pointer could be dereferenced resulting in
    tinc crashing. We fix this by more careful handling of outgoing_ts, and by
    deleting all connections that have not been fully activated yet at the HUP
    signal is received.

commit 8c267d3d558ac97a4ce7381a37abb6cc4b46b133
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 18 16:45:13 2009 +0200

    Releasing 1.0.10.

commit 3849de9a331ad132ed9d01c9f0cac47196624b3e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 18 16:44:32 2009 +0200

    Fix description of the WEIGHT environment variable.

commit 87364c16564c897b1a2d306615804d68ea5a9ba1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 18 14:22:20 2009 +0200

    Include missing header.

commit c7fdc7d5b8d728c744b13a823e7eef9d2432c61e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 12 23:51:57 2009 +0200

    Remove debugging message when reading packets from a BSD device.
    
    This was inadvertently introduced by commit
    4a5d42178cc0954efba8b24058da9c70cc77c35a.

commit ec4c8bcb18c1f463cf4544126e027fc8ec9b3a39
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 12 22:14:47 2009 +0200

    Allow the cloning /dev/tap interface to be used on FreeBSD and NetBSD.
    
    This device works like /dev/tun on Linux, automatically creating a new tap
    interface when a program opens it. We now pass the actual name of the newly
    created interface in $INTERFACE.

commit 92b8abc921dd15b710f67335562210eb713fbb39
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 11 18:57:58 2009 +0200

    Use MTU probes to regularly ping other nodes over UDP.
    
    This keeps NAT mappings for UDP alive, and will also detect when a node is not
    reachable via UDP anymore or if the path MTU is decreasing. Tinc will fall back
    to TCP if the node has become unreachable.
    
    If UDP communication is impossible, we stop sending probes, but we retry if it
    changes its keys.
    
    We also decouple the UDP and TCP ping mechanisms completely, to ensure tinc
    properly detects failure of either method.

commit 927064e5fd0ebf29a7ea768a7f9c4226da626a72
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 11 15:46:52 2009 +0200

    Small updates to the documentation.
    
    Mention that TCPOnly is not necessary anymore since tinc will autodetect
    whether it can send via UDP or not. Also mention the WEIGHT environment
    variable and the new default value (2048 bits) of RSA keys.

commit 2c30af6c90926340a89748c63cc453b1c0b5a589
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 11 14:20:14 2009 +0200

    Ensure that the texinfo manual can be converted to HTML.
    
    The top node was made conditional with the @iftex command, since it should not
    appear in PostScript and PDF output. However, it is still necessary for
    texi2html, so we have to use @ifnottex instead.
    
    Texi2html also complains about the use of @cindex in the copyright statement,
    so we remove that.

commit a4f132770dc136d456c67b01d209e73f5f4d7a65
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 11 13:56:04 2009 +0200

    Revert "Raise default crypto algorithms to AES256 and SHA256."
    
    Although it would be better to have the new defaults, only the most recent
    releases of most of the platforms supported by tinc come with a version of
    OpenSSL that supports SHA256. To ensure people can compile tinc and that nodes
    can interact with each other, we revert the default back to Blowfish and SHA1.
    
    This reverts commit 4bb3793e38b7c7f24dd308801e7f6dbb02cf02d2.

commit 2762509be179dcb21d855f3d6f90d3ee686e3910
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 11 13:54:05 2009 +0200

    Remove code duplication when checking ADD_EDGE/DEL_EDGE messages.

commit 5cddf5e52aeb20e50c887356ad23aec354e04151
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 11 13:51:10 2009 +0200

    Don't disconnect clients in TunnelServer mode who send unauthorised ADD_SUBNETs.
    
    So that we are liberal in what we accept.

commit 430c90412c521c534113b3c4e5fc883e9b7ecff0
Author: Borg <borg@uu3.net>
Date:   Sat Oct 3 13:06:00 2009 +0200

    Removed last gettext function.

commit 3282375f4d64d9402141ac4bf142629ec2e1cd53
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 29 16:25:20 2009 +0200

    Remove autogenerated files from EXTRA_DIST.
    
    Apparently they were once necessary, but autoconf now includes them
    automatically.  Some of them are not used anymore, and this caused make dist to
    fail.

commit 9a2b0f88a9cae753ebc81c939d01403178b18a35
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 26 12:51:52 2009 +0200

    Update the NEWS.

commit 46e481dc945c5572eb6091a3660f6bf258ee0cfa
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 25 21:14:56 2009 +0200

    Add more authors to the copyright headers.
    
    Git's log and blame tools were used to find out which files had significant
    contributions from authors who sent in patches that were applied before we used
    git.

commit 4c85542894f7fca823b119b05e07179deb24229a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 25 00:54:07 2009 +0200

    Drop support for localisation.
    
    Localised messages don't make much sense for a daemon, and there is only the
    Dutch translation which costs time to maintain.

commit a227843b739d279b63adcf3736ebb03d856080c4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 25 00:33:04 2009 +0200

    Remove checkpoint tracing.
    
    This feature is not necessary anymore since we have tools like valgrind today
    that can catch stack overflow errors before they make a backtrace in gdb
    impossible.

commit 5dde6461a321ee47b06e33f8203f2acf00a31a51
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 25 00:14:03 2009 +0200

    K&R style braces.
    
    This is essentially commit f02d3ed3e135b5326003e7f69f8331ff6a3cc219 from the
    1.1 branch, making it easier to merge between master and 1.1.

commit ab7c61b06f6c6e991225f2fcc32d02b8e1084aee
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 25 00:01:00 2009 +0200

    Update the address of the Free Software Foundation in all copyright headers.

commit 0e6856b1379e278aa5ed116d0911851339a6064c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Sep 24 23:42:30 2009 +0200

    Remove Ivo's old email addresses.

commit c217d214f4f071c235bc7c463a1da6124e2570a6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Sep 24 23:39:16 2009 +0200

    Remove all occurences of $Id$.

commit c23fcf555ee4b69f03b76a0ffb731c3a475a77e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Sep 24 23:29:46 2009 +0200

    Update copyright information.
    
    - Update year numbers in copyright headers.
    - Add copyright information for Michael Tokarev and Florian Forster to the
      copyright headers of files to which they have contributed significantly.
    - Mention Michael and Florian in AUTHORS.
    - Mention that tinc is GPLv3 or later if compiled with the --enable-tunemu
      flag.

commit b5ccce296848aab72d574ca3de14af5fdf3efa4d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 23:22:13 2009 +0200

    Send large packets we cannot handle properly via TCP.
    
    During the path MTU discovery phase, we might not know the maximum MTU yet, but
    we do know a safe minimum.  If we encounter a packet that is larger than that
    the minimum, we now send it via TCP instead to ensure it arrives.  We also
    allow large packets that we cannot fragment or create ICMP replies for to be
    sent via TCP.

commit d273efb177738d429e3cef7d8db8ee5cc8dcada7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 23:04:52 2009 +0200

    Raise default RSA key length to 2048 bits.

commit b47c17bcdeb70b63ad9346dc97ba575597cbd803
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 22:59:01 2009 +0200

    Use a mutex to allow the TAP reader to process packets faster on Windows.
    
    The TAP-Win32 device is not a socket, and select() under Windows only works
    with sockets.  Tinc used a separate thread to read from the TAP-Win32 device,
    and passed this via a local socket to the main thread which could then select()
    from it. We now use a global mutex, which is only unlocked when the main thread
    is waiting for select(), to allow the TAP reader thread to process packets
    directly.

commit 802a50ffcd5f39bfc6424ac841de4e41154092fc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 22:58:16 2009 +0200

    Remove extra {.

commit 4bb3793e38b7c7f24dd308801e7f6dbb02cf02d2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 12:08:05 2009 +0200

    Raise default crypto algorithms to AES256 and SHA256.
    
    In light of the recent improvements of attacks on SHA1, the default hash
    algorithm in tinc is now SHA256. At the same time, the default symmetric
    encryption algorithm has been changed to AES256.

commit 633c0cf1b067d118d5453bc8522fab65ffc82d2c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 00:36:07 2009 +0200

    Use access() instead of stat() for checking whether scripts exist.

commit 6f1e0ece4e61f30612ed84ca4640635a02892cc8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 00:28:20 2009 +0200

    Remove dropin random() function, as it is not used anymore.

commit fa9bedd47cf8c143e801889c78f0a0979ac4d2fc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 15 00:24:31 2009 +0200

    Allow compiling for Windows XP and higher.
    
    This allows us to use getaddrinfo(), getnameinfo() and related functions, which
    allow tinc to make connections over existing IPv6 networks. These functions are
    not available on Windows 2000 however. By default, support is enabled, but when
    compiling for Windows 2000 the configure switch --with-windows2000 should be
    used.
    
    Since getaddrinfo() et al. are not functions but macros on Windows, we have to
    use AC_CHECK_DECLS() instead of AC_CHECK_FUNCS() in configure.in.

commit f80bf14f28925df6eaa56f3ed77adaf418ab9890
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 14 23:28:28 2009 +0200

    Also do not use drand48(), it is not available on Windows.

commit 35e87b903e08fc51975a8cc97f06251d5153a424
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 14 23:06:00 2009 +0200

    Use only rand(), not random().
    
    We used both rand() and random() in our code. Since it returns an int, we have
    to use %x in our format strings instead of %lx. This fixes a crash under
    Windows when cross-compiling tinc with a recent version of MinGW.

commit 75773efe2689d347a2f219c5f27e4a82eef1236b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 13 14:08:59 2009 +0200

    Apparently it's impolite to ask GCC to subtract two pointers.
    
    If two pointers do not belong to the same array, pointer subtraction gives
    nonsensical results, depending on the level of optimisation and the
    architecture one is compiling for. It is apparently not just subtracting the
    pointer values and dividing by the size of the object, but uses some kind of
    higher magic not intended for mere mortals. GCC will not warn about this at
    all. Casting to void * is also a no-no, because then GCC does warn that strict
    aliasing rules are being broken. The only safe way to query the ordering of two
    pointers is to use the (in)equality operators.
    
    The unsafe implementation of connection_compare() has probably caused the "old
    connection_t for ... still lingering" messages. Our implementation of AVL trees
    is augmented with a doubly linked list, which is normally what is traversed.
    Only when deleting an old connection the tree itself is traversed.

commit 23e151aeed6b3ffe0fab10f51ffdb134deb7a852
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 13 14:07:40 2009 +0200

    Remove superfluous call to avl_delete().

commit 9915f2abbedb7f1aa2b9e2f81d52ddcfca60e82d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 12 14:19:36 2009 +0200

    Handle unicast packets larger than PMTU in switch mode.
    
    If PMTUDiscovery is enabled, and we see a unicast packet that is larger than
    the path MTU in switch mode, treat it just like we would do in router mode.

commit 7242868b64f9d6f62b6c5bbf1526eb632ed9a4d6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 12 13:40:32 2009 +0200

    Allow PMTUDiscovery in switch and hub modes again.
    
    PMTUDiscovery was disabled in commit d5b56bbba56480b5565ffb38496175a7c1df60ac
    because tinc did not handle packets larger than the path MTU in switch and hub
    modes. We now allow it again in preparation of proper support, but default to
    off.

commit 052ff8b2c598358d1c5febaa9f9f5fc5d384cfd3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 12 13:34:11 2009 +0200

    Put Subnet weight in a separate environment variable.
    
    Commit 5674bba5c54c1aee3a4ac5b3aba6b3ebded91bbc introduced weighted Subnets,
    but the weight was included in the SUBNET variable passed to subnet-up/down
    scripts. This makes it harder to use in those scripts. The weight is now
    stripped from the SUBNET variable and put in the WEIGHT variabel.

commit a60a0a1f1357508063ee565d672c39898a787e33
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Sep 10 19:51:08 2009 +0200

    Don't stat() on iPhone/iPod.
    
    Grzegorz Dymarek noted that tinc segfaults at the stat() call in
    execute_script() on the iPhone.  We can omit the stat() call for the moment,
    the subsequent call to system() will fail with just a warning.

commit 4a5d42178cc0954efba8b24058da9c70cc77c35a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Sep 10 19:32:54 2009 +0200

    Add support for iPhones and recent iPods.
    
    This is a slightly modified patch from Grzegorz Dymarek that allows tinc to use
    the tunemu device, which allows tinc to be compiled for iPhones and recent
    iPods. To enable support for tunemu, the --enable-tunemu option has to be used
    when running the configure script.

commit ff946d0423fe547ea42bb11acfb3035c3b8aee4e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 9 14:51:36 2009 +0200

    Another safe bitfield conversion.

commit dd6226062c2356d2a3679e2c7972be71233cb9de
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 9 13:23:16 2009 +0200

    Add the GPL license to the repository.
    
    Tinc is licensed under the GPL version 2 or later. To ensure autoconf does not
    install the wrong license if COPYING is missing, we have to put the right one
    in place.

commit 81afa26e4ad53bea00da18a7666f63d33cf3f588
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 9 12:04:08 2009 +0200

    Convert bitfields to integers in a safe way.
    
    This is commit eb391c52eed46f3f03b404553df417851fc0cb90 redone, but without the
    non-standard anonymous union.

commit 9b394bc887695da6db74f4b9796b4823e553f8cc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 8 21:45:24 2009 +0200

    Ensure tinc compiles with gcc -std=c99.
    
    We use a lot of C99 features already, but also some extensions which are not in
    the standard.

commit f52ea0a7eb0383cc2a5f41db1bf24c39424fdb04
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 8 18:21:52 2009 +0200

    UNIX signal numbers start at 1.

commit 73d77dd416b87b7c4e9b6aa450f64846235cd2b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 8 18:18:36 2009 +0200

    Replace asprintf() by xasprintf().

commit 3e55dc77f4ba19fd9e79f3d5ce9d28bb6b05019e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 8 18:18:16 2009 +0200

    Check the return value of fscanf() when reading a PID file.

commit 5e0efd53e797a2b5468b91b41b6122f3b942efb2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 8 18:16:58 2009 +0200

    Add xasprintf() and xvasprintf().
    
    These functions wrap asprintf() and vasprintf(), and check the return value. If
    the function failed, tinc will exit with an error message, similar to xmalloc()
    and friends.

commit 63fe89e9eb8ef9077bfe3cd416c86820715eb33b
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Sat Sep 5 17:24:41 2009 +0400

    Remove extra semicolon in my definition of setpriority()

commit 5a7fc58012da10b96073804994777255463d1b8d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 8 16:35:28 2009 +0200

    Always remove a node from the UDP tree before freeing it.
    
    Valgrind caught tinc reading free'd memory during a purge(). This was caused by
    first removing it from the main node tree, which will already call free_node(),
    and then removing it from the UDP tree. This might cause spurious segmentation
    faults.

commit de029ce46056e02908b5390da9b71a6a59133f26
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 11 19:39:25 2009 +0200

    Change level of some debug messages, zero pointer after freeing hostname.

commit 66be914d35cb7e7ea4dd4aed68ae9e41addd9f70
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 11 19:26:34 2009 +0200

    Do not log errors when recvfrom() returns EAGAIN or EINTR.
    
    Although we select() before we call recvfrom(), it sometimes happens that
    select() tells us we can read but a subsequent read fails anyway. This is
    harmless.

commit df4add94a4a6461758b218a9ad257efc735062fe
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 11 19:07:54 2009 +0200

    Remove pending MTU probe events when a node's reachability status changes.

commit 36f8e4da8b1708474505f5a1fa8cf1ba848921de
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 11 18:36:08 2009 +0200

    Don't try to send MTU probes to unreachable nodes.
    
    If there is an outstanding MTU probe event for a node which is not reachable
    anymore, a UDP packet would be sent to that node, which caused a key request to
    be sent to that node, which triggered a NULL pointer dereference. Probes and
    other UDP packets to unreachable nodes are now dropped.

commit 261d1eac1c5bbe6c87aa707566f290e611169432
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 5 16:14:31 2009 +0200

    Properly set HMAC length for incoming packets.

commit 591c38eb38dbf0851bdebdd50b08d1bcbf6d7b0f
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Fri Jun 5 13:33:58 2009 +0400

    try outgoing connections before chroot/drop_privs
    
    When chrooted, we either need to force-initialize resolver
    and/or nsswitch somehow (no clean way) or resolve all the
    names we want before entering chroot jail.  The latter
    looks cleaner, easier and it is actually safe because
    we still don't talk with the remote nodes there, only
    initiating outgoing connections.

commit a42a8dde45fe95aa3fd3f7f15a74c5166efe3633
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Fri Jun 5 11:58:17 2009 +0400

    cleanup setpriority thing to make it readable

commit a5fb0d8c6c384b9ea1074fb469c0a3dd5b874e98
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 28 23:18:22 2009 +0200

    Add some const where appropriate.

commit 41c10c5a966000531099c79d6006429253ff8fd6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 28 22:51:30 2009 +0200

    Add ProcessPriority option.
    
    This option can be set to low, normal or high. On UNIX flavours, this changes
    the nice value of the process by +10, 0 and -10 respectively. On Windows, it
    sets the priority to BELOW_NORMAL_PRIORITY_CLASS, NORMAL_PRIORITY_CLASS and
    HIGH_PRIORITY_CLASS respectively.
    
    A high priority might help to reduce latency and packet loss on the VPN.

commit 41a05f59ba2c3eb5caab555f096ed1b9fbe69ee3
Author: Florian Forster <octo@verplant.org>
Date:   Wed May 27 14:20:24 2009 +0200

    src/net_socket.c: Bind outgoing TCP sockets to `BindToAddress'.
    
    If a host has multiple addresses on an interface, the source address of the TCP
    connection(s) was picked by the operating system while the UDP packets used a
    bound socket, i. e. the source address was the address specified by the user.
    This caused problems because the receiving code requires the TCP connection and
    the UDP connection to originate from the same IP address.
    
    This patch adds support for the `BindToInterface' and `BindToAddress' options
    to the setup of outgoing TCP connections.
    
    Tested with Debian Etch on x86 and Debian Lenny on x86_64.
    
    Signed-off-by: Florian Forster <octo@verplant.org>

commit 6b415a1a7f5bad2fff7b133ef2a2febccb96d6e5
Author: Florian Forster <octo@verplant.org>
Date:   Wed May 27 09:27:44 2009 +0200

    src/linux/device.c: Fix segfault when running without `--net'.
    
    If running without `--net', the (global) variable `netname' is NULL. This
    creates a segmentation fault because this NULL-pointer is passed to strdup:
    
     Program terminated with signal 11, Segmentation fault.
     #0  0xb7d30463 in strlen () from /lib/tls/i686/cmov/libc.so.6
     (gdb) bt
     #0  0xb7d30463 in strlen () from /lib/tls/i686/cmov/libc.so.6
     #1  0xb7d30175 in strdup () from /lib/tls/i686/cmov/libc.so.6
     #2  0x0805bf47 in xstrdup (s=0x0) at xmalloc.c:118  <---
     #3  0x0805be33 in setup_device () at device.c:66
     #4  0x0805072e in setup_myself () at net_setup.c:432
     #5  0x08050db2 in setup_network () at net_setup.c:536
     #6  0x0805b27f in main (argc=Cannot access memory at address 0x0) at tincd.c:580
    
    This patch fixes this by checking `netname' in `setup_device'. An alternative
    would be to check for NULL-pointers in `xstrdup' and return NULL in this case.
    
    Signed-off-by: Florian Forster <octo@verplant.org>

commit a8a65cee083a27afe42cab360596e1453e7141b9
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Sun May 24 17:23:24 2009 +0400

    tunnelserver: log which ADD_SUBNET was refused
    
    Add some logging about refused ADD_SUBNET
    (it causes subsequent client disconnect so it's
    important to know which subnet was at fault).
    
    Maybe we should just ignore it completely.

commit 4e9e3ca89dba68cbacaaa15ddfb298b181a969da
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 25 15:04:33 2009 +0200

    Do not forward broadcast packets when TunnelServer is enabled.
    
    First of all, the idea behind the TunnelServer option is to hide all other
    nodes from each other, so we shouldn't forward broadcast packets from them
    anyway. The other reason is that since edges from other nodes are ignored, the
    calculated minimum spanning tree might not be correct, which can result in
    routing loops.

commit 7fc69bc73b15349dafc193a50464caeb2f978369
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 25 12:19:37 2009 +0200

    Use packet size before decompression to calculate path MTU.
    
    Since compression can either grow or shrink a packet, the size of an MTU probe
    after decompression might not reflect the real path MTU. Now we use the size
    before decompression, which is independent of the compression algorithm, and
    substract a safety margin such that the calculated path MTU will be safe even
    for packets which grow as much as possible after compression.

commit 1b3add6c29f8eb424a62837e89fe7d384fc94a48
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 25 12:19:08 2009 +0200

    Add declaration for sockaddrcmp_noport().

commit ca5b67111e4d797d15623c2163f67fe489dc3bf2
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Sun May 24 22:32:24 2009 +0400

    Fix ans_key exchange in recent changes
    
    send_ans_key() was using the wrong in vs. outkeylength to
    terminate the key being sent, so it was always empty.

commit 7034338bc36d9ea96d152091b9d58c2afc3f0c20
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 24 19:35:51 2009 +0200

    Use xrealloc instead of if(ptr) ptr = xmalloc().

commit e012e752f4f1a2b06dfab4640bbbea8f084999ff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 24 19:31:31 2009 +0200

    Fix initialisation of packet decryption context broken by commit 3308d13e7e3bf20cfeaf6f2ab17228a9820cea66.
    
    Instead of a single, global decryption context, each node has its own context.
    However, in send_ans_key(), the global context was initialised. This commit
    fixes that and removes the global context completely.
    
    Also only set status.validkey after all checks have been evaluated.

commit 0246939ce18e1af9660b782b6814be182a7af9da
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Fri May 22 01:10:16 2009 +0400

    don't log every strange packet coming to the UDP port
    
    it's a sure way to fill up syslog.  Only log those if
    debug level is up to PROTOCOL

commit 576899ef0dec3aaede9b8ac101d189798587a646
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 24 17:13:00 2009 +0200

    Fix link to Mattias Nissler's tun/tap driver for MacOS/X.
    
    Thanks to Martin Christof Kindsmüller for spotting.

commit 2c67eafc6e6c5e210636c0d2bad15827bf2d7cf0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 24 15:58:47 2009 +0200

    If PMTUDiscovery is not set, do not forward packets via TCP unnecessarily.

commit 7e4d57adf54ce369e4111bde0ccd3ea4b9e853ee
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Fri May 22 01:01:35 2009 +0400

    ignore indirect edge registrations in tunnelserver mode
    
    In tunnelserver mode we're not interested to hear about
    our client edges, just like in case of subnets.  Just
    ignore all requests which are not about our node or the
    client node.
    
    The fix is very similar to what was done for subnets.
    
    Note that we don't need to add the "unknown" nodes to
    the list in tunnelserver mode too, so move allocation
    of new nodes down the line.

commit 3759aa5f7745709c43f81faa36510ff650b4bf99
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Wed May 20 18:40:04 2009 +0400

    TunnelServer: Don't disconnect client on DEL_SUBNET too
    
    Similar changes as was in 2327d3f6eb5982bcc922ff1ab1ec436ba6aeffdc
    but for del_subnet_h().
    
    Before, we vere returning false (and causing disconnect of the
    client) in case of tunnelserver and the client sending DEL_SUBNET
    for non-his subnet or for subnet which owner isn't in our connection
    list.
    
    After the mentioned change to add_subnet_h() that routine does not
    add such indirect owners to the connection list anymore, so that
    was ok (owner == NULL and we return true).
    
    But if we too has a connection with the node about which the client
    is sending DEL_SUBNET notification, say, because that client lost
    connection with that other node, we'll disconnect this client from
    us too, returning false for indirect DEL_SUBNET.
    
    Fix that by allowing and ignoring indirect DEL_SUBNET in tunnelserver
    mode.
    
    Also rearranged the function a bit, to match add_subnet_h() (in
    particular, syntax-check everything first, see if we've seen this
    request before).
    
    And also fix some comments.

commit 218adee785df7c79ac18395d056a2eb6d63c407f
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Mon May 18 17:34:30 2009 +0400

    format 'not supported on this platform' error message
    
    Format it in a similar way in all places, to make translation happier.
    No functional changes.

commit 54cb6b1aecb06a1ca44a7a60c74dd0d65b0043dd
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Mon May 18 17:00:00 2009 +0400

    change error messages in droppriv code to match the rest
    
    Change formatting of error messages about failed syscalls
    to be the same as in other places in tincd.
    
    Also suggest a change in "$foo not supported on this platform"
    message as it's now used more than once.

commit d4f9863635d06665cfbd3c46dc482344de240e97
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Mon May 18 16:53:08 2009 +0400

    bugfix: chdir(/) after chroot
    
    Fix the famous chdir(".") vs chdir("/") after chroot(something).

commit 6be5d4f5b67764115b37528d2fe01bd245b3cd3e
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Mon May 18 16:49:39 2009 +0400

    bugfix: move mlock to after detach() so it works for child, not parent
    
    mlock()/mlockall() are not persistent across fork(), and it's
    done in parent process before daemon() which does fork().  So
    basically, current --mlock does nothing useful.
    
    Move mlock() to after detach() so it works for child process
    instead of parent.
    
    Also, check if the platform supports mlock right when processing
    options (since else we'll have to die after startup, not at
    startup, the error message will be in log only).

commit cdf7f13c31310da0c40819fd812e19519bf4318c
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Mon May 18 16:28:55 2009 +0400

    bugfix: initialize pid (as read from pidfile) to zero
    
    If we didn't read any number from a pid file, we'll return
    an unitialized variable to the caller, and it will treat
    that garbage as a pid of a process (possible to kill).
    
    Fix that.

commit ec316aa32e8567395a88c4583007f01ffae008ce
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Mon May 18 16:25:41 2009 +0400

    Implement privilege dropping
    
    Add two options, -R/--chroot and -U/--user=user, to chroot to the
    config directory (where tinc.conf is located) and to perform
    setuid to the user specified, after all the initialization is done.
    
    What's left is handling of pid file since we can't remove it anymore.

commit 6698f7c390a5ae2f262e30560d9df59f9d5c418d
Author: Michael Tokarev <mjt@corpit.ru>
Date:   Mon May 18 16:25:10 2009 +0400

    Rename setup_network_connections() and split out try_outgoing_connections()
    
    In preparation of chroot/setuid operations, split out call to
    try_outgoing_connections() from setup_network_connections()
    (which was the last call in setup_network_connections()).
    This is because dropping privileges should be done in-between
    setup_network_connections() and try_outgoing_connections().
    
    This patch renames setup_network_connections() to setup_network()
    and moves call to try_outgoing_connections() into main routine.
    
    No functional changes.

commit 3308d13e7e3bf20cfeaf6f2ab17228a9820cea66
Author: Guus Sliepen <guus@sliepen.eu.org>
Date:   Fri Apr 3 01:05:23 2009 +0200

    Handle UDP packets from different and ports than advertised.
    
    Previously, tinc used a fixed address and port for each node for UDP packet
    exchange.  The port was the one advertised by that node as its listening port.
    However, due to NAT the port might be different.  Now, tinc sends a different
    session key to each node. This way, the sending node can be determined from
    incoming packets by checking the MAC against all session keys. If a match is
    found, the address and port for that node are updated.

commit 43fa7283ac01f2ecc95381b519ef6b3342546f35
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 9 14:04:31 2009 +0100

    Use a simple Random Early Drop algorithm in send_tcppacket().

commit d5b56bbba56480b5565ffb38496175a7c1df60ac
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 9 13:48:54 2009 +0100

    Disable PMTUDiscovery in switch and hub modes.
    
    In switch and hub modes, tinc does not generate ICMP packets in response to
    packets that are larger than the path MTU.  However, if PMTUDiscovery is
    enabled, the IP_MTU_DISCOVER and IPV6_MTU_DISCOVER option is set on the UDP
    sockets, which causes all UDP packets to be sent with the DF bit set, causing
    large packets to be dropped, even if they would otherwise be routed fine.

commit 78fc59e994c764d072bf0045177f690a378d1308
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Mar 5 14:12:36 2009 +0100

    Update THANKS and copyright information.

commit 5674bba5c54c1aee3a4ac5b3aba6b3ebded91bbc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Mar 5 13:34:13 2009 +0100

    Allow weight to be assigned to Subnets.
    
    Tinc allows multiple nodes to own the same Subnet, but did not have a sensible
    way to decide which one to send packets to. Tinc also did not check the
    reachability of nodes when deciding where to route packets to, so it would not
    automatically fail over to a reachable node.
    
    Tinc now assigns a weight to each Subnet. The default weight is 10, with lower
    weights having higher priority.  The Subnets are now internally sorted in the
    same way as the kernel's routing table, and the Subnets are search linearly,
    skipping those of unreachable nodes. A small cache of recently used addresses
    is used to speed up the lookup functions.

commit 76a1bcaffcf1f1abf81fdda379b703a004640cb4
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Sat Feb 28 16:37:51 2009 +0300

    Enable PMTUDiscovery only if BOTH sides wants it.
    
    Don't enable PMTUDiscovery if at least one side does not support it.
    Before it was enabled if at least one side supported it, now both are required.

commit 1c1a67fd93530b9d16538ab2897c3911d3b16574
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 17 14:43:05 2009 +0100

    Handle neighbor solicitation requests without link layer addresses.
    
    Apparently FreeBSD likes to send out neighbor solicitation requests, even on a
    tun interface where this is completely pointless. These requests do not have an
    option header containing a link layer address, so the proxy-neighborsol code
    was treating these requests as invalid. We now handle such requests, and send
    back equally pointless replies, also without a link layer address. This seems
    to satisfy FreeBSD.

commit 2327d3f6eb5982bcc922ff1ab1ec436ba6aeffdc
Author: Michael Tokarev <mjt@tls.msk.ru>
Date:   Mon Feb 9 23:51:10 2009 +0100

    Allow tunnelserver to work with clients that have other peers.
    
    In TunnelServer mode, tinc server disconnects any client if it announces
    indirect subnets -- subnets that are not theirs (e.g. subnets for nodes
    the CLIENT has connections now, even if those nodes are known to the server
    too).  Fix that by ignoring such (indirect) announces instead.
    
    While we're at it, move check for such indirect subnet registration to
    before allocating new node structure, as in TunnelServer mode we don't
    really need to know that other node.

commit 23730375f27c32e0fe1a59c7a761dd85296a7a4a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 3 14:54:45 2009 +0100

    Disable old RSA keys when generating new ones.
    
    When generating an RSA keypair, the new public and private keys are appended to
    files. However, when OpenSSL reads keys it only reads the first in a file, not
    the last. Instead of printing an easily ignored warning, tinc now disables old
    keys when appending new ones.

commit 0d0dfd0852e9b2c9a7660880966a3c84790d5ea2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jan 20 14:21:50 2009 +0100

    Validate Name before using it in a filename when generating a keypair.

commit 0966cca8ab6dcde2747c717f21d73fd332e04242
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jan 20 14:20:44 2009 +0100

    Allow reading config files with CRLF endings on Unix systems.

commit d1910ac198232573c1b18d8238a27bc29bc73f8a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jan 20 13:19:31 2009 +0100

    Remove unused definitions from net.h.

commit 503c32eb0ef9d6329e931559082f4ddf6d487dc6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jan 20 13:12:41 2009 +0100

    Use a global list to track outgoing connections.
    
    Previously an outgoing_t was maintained for each outgoing connection,
    but the pointer to it was either stored in a connection_t or in an event_t.
    This made it very hard to keep track of and to clean up.
    
    Now a list is created when tinc starts and reads all the ConnectTo variables,
    and which is recreated when tinc receives a HUP signal.

commit a7e793c94ec414eb71ec2aa3debc9e2e5ed5cfef
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jan 19 23:17:28 2009 +0100

    Add missing cleanup functions in close_network_connections().

commit 116065afe352221ac6c2c8e34c109252004d6a59
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jan 19 22:50:05 2009 +0100

    Change flush_events() to expire_events().
    
    The former function made a totally bogus shallow copy of the event_tree, called
    the handler of each event and then deleted the whole tree.  This should've
    caused tinc to crash when an ALARM signal was sent more than once, but for some
    reason it didn't. It also behaved incorrectly when a handler added a new event.
    
    The new function just moves the expiration time of all events to the past.

commit a39a9506cd041a7092a98498b362eaacfd2f33c3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 9 12:36:06 2009 +0100

    Move free()s at the end om main() to the proper destructor functions.

commit 67df7fb7e1c9eefe4bbc920fdc68b595ef28abd9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 3 22:33:55 2009 +0100

    Only send packets via UDP if UDP communication is possible.
    
    When no session key is known for a node, or when it is doing PMTU discovery but
    no MTU probes have returned yet, packets are sent via TCP. Some logic is added
    to make sure intermediate nodes continue forwarding via TCP.  The per-node
    packet queue is now no longer necessary and has been removed.

commit b069da90d67b49dce041f513a3855b8da3d82f80
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 3 22:06:10 2009 +0100

    Consistently allocate device and iface variables on the heap.
    
    This fixes a segfault when no Device has been specified and tinc exits, and it
    would try to free() a static string. Thanks to Borg for spottin.

commit f81cea3bdc8683b27188cd8f24a2de906a29eb81
Author: Guus Sliepen <guus@sliepen.eu.org>
Date:   Sat Dec 27 11:09:43 2008 +0100

    Update documentation for git.

commit c81f90b91a054eeafcc3c8c45abc52045e4a8146
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 26 13:47:34 2008 +0000

    Releasing 1.0.9.

commit a4d99ebf5042dedb609359cbbfc3fa4630b5fc70
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 26 12:46:45 2008 +0000

    Add missing parentheses in check for IPv4 multicast addresses.

commit 099bc56f53e7d3cb7b799d26ff9535673ff03e1c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Dec 23 23:14:37 2008 +0000

    Apply patch from Max Rijevski fixing a memory leak when closing connections.
    It also cleans up more when stopping tinc, helping tools like valgrind.

commit de032054dee67bcc406b4a15fb9e957a766d016a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Dec 23 22:31:38 2008 +0000

    Handle broadcast and multicast packets in router mode.
    Multicast packets are treated as broadcast packets.
    Based on a patch from Max Rijevski.

commit a5f899a9794f215e8174455ead04862a2c14a5b1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 21:49:23 2008 +0000

    Update the manpage as well, and some whitespace to make its source more legible.

commit e8f08ced76bf1b9a94dd0dc874ad22761ad8900b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 21:29:21 2008 +0000

    Update documentation.
    - TCPOnly is not experimental.
    - Do not mention old Linux kernels and Ethertap anymore.
    - Document the DeviceType, PMTU and PMTUDiscovery options.

commit 0e4d419aae8a82f2ae4552f755894a9bc70c83d2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 20:35:45 2008 +0000

    Enable PMTU discovery by default.

commit e9576632dc4b780b867044269d06cc50f76d8c05
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 20:27:52 2008 +0000

    Update copyright information.

commit f50dc972cde2644588eabf35a2422fe0e372a024
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 19:43:49 2008 +0000

    Update Dutch translation.

commit 26b490e86bc305b150200c0b08cd8e9c3bd605fb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 19:40:40 2008 +0000

    Make sure IPv6 sockets are IPv6 only.
    This will get rid of the "Can't bind to 0.0.0.0 port 655/tcp: Address already
    in use" message on Linux.

commit c6830ba821e6387be961ca68b32992382a74a0e9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 19:33:37 2008 +0000

    Use TUNIFHEAD by default on FreeBSD to make sure IPv6 works.

commit a269ec4193900feee01ac83f0e18a6e2b98e751f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Dec 21 16:19:31 2008 +0000

    Treat virtual network device as tap if Mode = switch or hub.
    On OpenBSD, the link0 flag should still be set in tinc-up or by other means.

commit 38c2d6c1dae3f09c68baa37fd24caa2e0ec6d8ad
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 5 14:17:39 2008 +0000

    Correct debug message.

commit a36259435c17f76cf12476234a56f40fcd8faf41
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 18 15:11:27 2008 +0000

    Prevent freeing a NULL pointer when a hostname is unresolvable.

commit 4a1740ede7c1992f7f3da5e197db9975c0344ac3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 25 19:54:00 2008 +0000

    Do not try to send REQ_KEY or ANS_KEY requests to unreachable nodes.

commit cb52aa06833a69e57b5e26337e51a4d375b6d8fb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 25 18:10:08 2008 +0000

    Fix reading configuration files that do not end with a newline.

commit b2cee41b187d79c095914d1097b8ff34a0609ec3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 14 21:17:08 2007 +0000

    Make sure the prefixlength of subnets is sane.
    Thanks to Sven-Haegar Koch for spotting the bug and providing a fix.

commit d7ca0300a3f004e9dc7d97ffb6fa6bdeda890fda
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 17 22:09:00 2007 +0000

    Handle SERVICE_CONTROL_INTERROGATE requests. Thanks to Carsten Ralle for noticing this.

commit cf2be574948fdd02db0503d9639d3b6e268dd4ff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 16 17:16:09 2007 +0000

    Releasing 1.0.8.

commit 6af8900f8e1c7f2fe6a50a991ae6cbd0fd7edd43
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 16 14:46:25 2007 +0000

    Don't free struct addrinfo too early. Spotted by Christian Cier-Zniewski.

commit 31a190dc7db21aa9bb97792563dd83e7c41b831c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 16 14:42:41 2007 +0000

    Update dutch translation.

commit 480dd127c8a539036ff82a3810a0ad83136944f8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 16 14:42:08 2007 +0000

    Make sure connection->name is never NULL.

commit f0cf4991e2bd0e618c7020511fb12cb0b5c59a40
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 14 09:21:09 2007 +0000

    Apply patch from "dnk" making sockets non-blocking under Windows.

commit ab6f76f6a9fc8028fff96322a52b770710ffa1a9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 14 09:32:16 2007 +0000

    Close the proper filedescriptor (if it exists).

commit 45fca3c723302868de3225e7509d2292008948f7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 14 09:21:34 2007 +0000

    Apply patch from Scott Lamb fixing some memory and resource leaks.

commit 6c6535a4161d04accb3a22c51477e9f92ae34086
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 14 09:20:20 2007 +0000

    Apply patch from Scott Lamb preventing an infinite loop when sending SIGALRM.

commit 16c8b0e5bb7c05a0559b2d799a32204bfa0a0e3f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 15:03:07 2007 +0000

    Releasing 1.0.7.

commit a1e72f84d08b76784c11ff723666ceeaef2756eb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 13:18:36 2007 +0000

    Update copyright notices.

commit a22ef25f9b81993226a74b193377c7d6baf910ca
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 13:17:33 2007 +0000

    No things to do for the 1.0 branch except bugfixing.

commit d80cc7a5cc918a1dbf8dd789d2125f55c4949d27
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 05:44:01 2007 +0000

    rename() cannot replace existing files on Windows.

commit 5214ece03009a916159c710cf436af1e92909f41
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 04:49:02 2007 +0000

    Fix generic BSD tun device to write only the actual packet length.
    Due to a copy&paste bug, it tried to write a packet with the maximum size.
    This was not a problem until the maximum size was increased to support VLANs.

commit 40f02ff8eee359dc0ccc898f8da319f56af161ad
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jan 4 15:28:36 2007 +0000

    Tapreader socket should be bound to localhost only.

commit 03f3fc01e8d9402c4a14904fded883ff8cc574f6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jan 3 18:18:54 2007 +0000

    Use a ringbuffer in shared memory to transfer packets from the tapreader thread to the main thread.
    It's a wonder it ever worked before. The socket that is created is not of a
    datagram type, therefore packet boundaries were not preserved, which becomes
    a problem as soon as the TAP-Win32 device receives packets in fast succession.

commit 52787a73b0211bcb4cb3cdd308b1a4c53a60f8ce
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 18 17:38:05 2006 +0000

    Releasing 1.0.6.

commit b32c22cf54e47677726d15a5fca7eecc2fa42754
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 18 11:41:53 2006 +0000

    Prevent compiler warnings about redefinition of EAI_FAMILY on FreeBSD 6.1.

commit 855806b2f75fc1c566cfaac01c788cdc625b4687
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 16 16:53:58 2006 +0000

    Do a simple test for linux/if_tun.h instead of no test at all.

commit 0322c0883b76257c0893aa75a510e264056ac15b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 16 16:40:09 2006 +0000

    Remove the test for linux/if_tun.h.
    It has been available for years on any decent Linux distribution.
    Although linux/if_tun.h is now required to compile tinc,
    you can still run it on systems which only support Ethertap.

commit b55813dc0b4a6a1f70c0f8d5f0512c8cebb4a5ba
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 16 16:34:04 2006 +0000

    We do properly check for malloc and realloc.

commit 5219ee25a248fe26055e54215c5027cbf8483439
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 16 16:26:57 2006 +0000

    Use standard autoconf macros instead of our own.

commit 9d469a19691f9749b5d729a1ae903d7aa224a6e8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 16 16:26:08 2006 +0000

    Fix rule that creates html version of manpages.

commit dd03a003962788eb21910c3faabbda0e84eff5eb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 15 20:44:33 2006 +0000

    Remove old Spanish translation.

commit 031e09f865e2c634f30fb0ed4e0b6a1f6df57588
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 15 20:43:39 2006 +0000

    Remove unnecessary stuff from configure.in.

commit b834d67d7cc7d7f5d8b729b340ec0c809c7d54b6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Dec 12 14:54:39 2006 +0000

    Use the correct next pointer.

commit 8b55dfacb199d152391aa5f7adbbbe35bceea7d7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Dec 12 14:49:09 2006 +0000

    When building the minimum spanning tree, make sure we start from a reachable node.

commit 47d916ec5eb61fa396c0ec6962afed7885141478
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 29 17:18:39 2006 +0000

    Search for lzo/lzo1x.h, lzo2/lzo1x.h and lzo1x.h.

commit 1bb5a284fec8c538f8ba243d4f9b2e46f68cd7e8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 29 16:57:46 2006 +0000

    Make sure resolved addressed for outgoing connections are freed, if there are any.

commit 5c69c390a17fc2b37218881e7285b639b79cfc5a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 14 15:43:28 2006 +0000

    Releasing 1.0.5.

commit e5b1b5cefb82531e8a700c2ee251da1bb0a06fbf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 14 12:28:04 2006 +0000

    EWOULDBLOCK does not exist on platforms without O_NONBLOCK

commit 3353ab37c2d6fb3652fbf7a85d85997be1c0c1b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 22:45:45 2006 +0000

    When deleting an entire tree, start at head, not at root.

commit 0714ac6c59099a398e67770ad9c72fcec615812b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 22:44:15 2006 +0000

    Nodes use events, so event system should be initialised first and destroyed last.

commit 35e4096120236db8d64a767f1ccdd6bf03a091fc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 21:37:22 2006 +0000

    Update Dutch translation.

commit 315ef3e42bf16e03cfbea763442a52389a16b832
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 20:37:58 2006 +0000

    Document GraphDumpFile option.

commit 8d393b30a922110ec77d5b243347416b50cd2160
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 20:10:46 2006 +0000

    Support and autodetect LZO version 2.0 and later.

commit bdb3c24cea06e9557738b42e3c37cd036613b58d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 20:06:14 2006 +0000

    Support and autodetect LZO version 2.0 and later.

commit 0d1ac68c59db87141616f69bcd3d79c705b1ecd0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 14:37:03 2006 +0000

    popen() requires pclose().

commit 0200d3cd5d773d9b101c33264532d2a301c2af32
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 14:11:16 2006 +0000

    Added graph dumping ability based on Markus Goetz's patch.

commit 1728d5b2c43b33700a9997f97fe8503ad1cf3585
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 11 13:43:00 2006 +0000

    The "active" bit in node.status is not used.

commit 134dc8995b296b0bd8b346617c705204b0f3125c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Aug 9 22:31:10 2006 +0000

    memcpy() addresses from packet headers before calling the lookup functions.
    This probably fixes a problem on the ARM architecture that causes tinc to fail to lookup IPv4 addresses.

commit 64e0519cb5042b251e7345f07429e8b82e2ac09b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 13:50:58 2006 +0000

    Remove unused variable.

commit ddcf079cad3351f0823fc07af15787d02e5f1901
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 13:44:37 2006 +0000

    Remove unused parameter from maskcmp().

commit c620df3c1511643aa533ca31afc17db75b7255b8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 13:44:19 2006 +0000

    Remove unused variables.

commit 9fa27097dd82e20299f5277ecb4efffb4a99669c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 13:29:17 2006 +0000

    Fix format string warnings.

commit eb391c52eed46f3f03b404553df417851fc0cb90
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 13:21:08 2006 +0000

    Do not break strict aliasing of status_t structs.

commit 2077451e07f93edc520cf5bc31815624a2b03fdd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 12 21:45:39 2006 +0000

    Add generic host-up and host-down scripts.
    Thanks to Menno Smits for a patch.

commit f88c9942e1e3d4d463ec71ba5a60d045381bda8f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 11 18:53:27 2006 +0000

    Use memcpy() to copy sockaddrs returned by getaddrinfo().
    Thanks to Miles Nordin for spotting this.

commit 412f3fb5101514d9a7d4d9e5729ee9c665a07cb6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Apr 26 16:29:47 2006 +0000

    Restore length of the original packet in send_udppacket().

commit de78d79db84c486afcc353884ec1770866beb653
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Apr 26 13:52:58 2006 +0000

    Update copyright notices, remove Ivo's email address.

commit 8ebb017a10cd85406ddf5ab60d8ef1f56df526ff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Apr 12 08:38:35 2006 +0000

    Fix a bug in handling prefixlengths that are not a multiple of 4.
    Thanks to Sven-Haegar Koch for spotting the bug and providing the fix.

commit af95368c0f30955f0e13b587d5d6d4989fd5a83e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 19 13:06:21 2006 +0000

    Fix signedness compiler warnings.

commit fb1cda2ca4ca74a85e88c39c11b97340e6495a08
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 19 12:43:45 2006 +0000

    Export flush_meta().

commit 098090468a9e1e8c5cdb0aeefa277329ff5f3406
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 19 12:43:28 2006 +0000

    Missing #include.

commit a90f1b652c0fb52950f3b0783a7e2b7f2e0cf2db
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 6 12:30:51 2006 +0000

    Make sure $NAME is set correctly when executing tinc-down script.

commit 228e7a5c8f0e517dcede50f886965a44fca39853
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jan 19 17:13:18 2006 +0000

    Apply patch from Scott Lamb adding an output buffer for the TCP sockets.
    This helps coalescing multiple send_meta() commands into one TCP packet.
    Also limit the size of the output buffer before dropping PACKETs.

commit a5a4d2b865879b8694760c0a5b5909c9a3675027
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 13 11:21:59 2006 +0000

    Apply patch from Scott Lamb unifying configuration of TCP socket options.

commit e02f13cdb3133c33ac84d9582e2f47ca5ebd35bf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 13 11:09:19 2006 +0000

    EVP_Cleanup() when quitting.

commit 0912260755021b9b836830dd99ae128c5fd912d9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 16 10:45:11 2005 +0000

    Enable OpenSSL ENGINE, so crypto hardware gets used. Thanks to Andreas van Cranenburgh.

commit 64e4c12778697f71ad3fcf33ee6cf1066322caa5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 3 10:56:02 2005 +0000

    Add alloca.h to the list of necessary header files.

commit e810545dc2ae158745624c1575b76c55f883c892
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 3 10:16:03 2005 +0000

    Prevent possible buffer overflows when using very large (>= 8192 bit) RSA keys.
    Thanks to Tonnerre Lombard for noticing!

commit 02746165a21a4a495d0069526c9a2355110a5784
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 4 19:38:28 2005 +0000

    Releasing 1.0.4.

commit df3220a1549f992cbf4a9b6e67c1e67b69896c7d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 4 18:09:30 2005 +0000

    Update copyright notices.

commit 54a30e30ad41d7c0e73fcc4e6ff23c3e85af75c4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 4 16:53:11 2005 +0000

    Describe subnet-up/down scripts in documentation.

commit bded1b74cc23c60e7319ed9e7465413b94a7914e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 4 15:56:25 2005 +0000

    Several splay tree fixes.

commit faaaa1ef38dcdf19d5d5d73ab66806b15467c043
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 4 15:52:55 2005 +0000

    Searching through splay trees may change the tree variable.

commit dc09f6fe896f5e35fffe8cc2004781b2e1b6fd5a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 4 15:51:45 2005 +0000

    Be on the safe side with initialisation of c->name.

commit 92c4a28d7d43b68a324cf2eca741298ed6b692d6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Apr 6 20:43:37 2005 +0000

    Remove unused (and potentially segfaulting) net2str() call.

commit 6363ed4d9c675b8b9301b694c4e4dd9c892e04e2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jan 20 15:14:25 2005 +0000

    Don't try to add a non-existing node back to the node_udp_tree.

commit 39fe3b445c2f20b325ee492dd1845877777b25c8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jan 4 22:19:56 2005 +0000

    Nodes should only be in the node_udp_tree if they are reachable.

commit fe0bfa3e65049d6e7cd46cf6caea7eb91b478008
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jan 4 22:18:58 2005 +0000

    Correct size argument for strncat().

commit 56c36a14d87b58c14dbc48df4d3d977207e2c06e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 3 13:27:33 2004 +0000

    Use the proper free function.

commit 18c617ecf29b9dfb95227e764c76fff0f9d7af96
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 3 13:22:18 2004 +0000

    Free memory used by connection_t after it is deleted from the connection tree.

commit 672ad5634cbedfbd6345e887935eed3e806f1e2d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Dec 1 21:26:51 2004 +0000

    Small fix.

commit 40b1692940a8d588c08fb6b8f24ded7c33b041b1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Dec 1 20:06:39 2004 +0000

    subnet-up/down hooks, use list_t for the todo list.

commit c46f56a8b8bb865dd8951441b5acf4701b5b5b09
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Dec 1 20:06:05 2004 +0000

    subnet-up/down hooks

commit f08baa3072e7cd6cee7a2a7cde35b46c85363baf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 18 20:34:48 2004 +0000

    Fix splay tree code.

commit 0077cfaae112b63d6af6aa1e5d079cebdde84b74
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 16 19:02:54 2004 +0000

    Make sure broadcast packet reach the local network interface.

commit 79c48cfafd75dfc86a382f6454a9f009d3c099b6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 11 19:42:25 2004 +0000

    Releasing 1.0.3.

commit 2771691bfc85b2544b30ccaee8a709bd26c7e1ab
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 11 19:39:28 2004 +0000

    Add more people who have contributed to tinc.
    Remove details and sort on name;
    the details were not always equally accurate and are hard to maintain.

commit 4f3f6f07b234b4abd32bf3bae1be0551bc7dd9dc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 11 11:17:04 2004 +0000

    Short readme about how to compile tinc from a Subversion checkout.

commit 704c3707c2c400b7e35ef4ac2c1d21e0f2de0187
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 23:28:32 2004 +0000

    Updated dutch translation.

commit a20eb05714f828be7dc0f78c1a07f218a3482dff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 23:21:41 2004 +0000

    Remove duplication.

commit d8fe2ecdd8dc5caf6f8d6acf2923a0baed64735f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 23:20:59 2004 +0000

    Set BSD tuns to broadcast mode. On OpenBSD, this enables IPv6 on the tun device!

commit 2369b0ab09a008c519cd4307b634fd294c66014e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 21:57:04 2004 +0000

    Update documentation.

commit 4fe7aff4d1b8605d4997b842481cc78bd062fe2a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 21:56:31 2004 +0000

    Add BlockingTCP option, useful when using TCPOnly on slow or congested links.

commit 5bba3124c8c23568def7a4804651a53f3a6b4fd2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 21:14:08 2004 +0000

    Support tunneling IPv6 on Solaris.

commit d02d81ff9dbb12253957065752c56785aedccee3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 19:36:02 2004 +0000

    Let compiler decide when to inline.

commit db68db4b0e0f8b776f2d3dc938fb81dac975fdd8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 19:34:38 2004 +0000

    Fix order of arguments for tar.

commit 923abcfa35c7282251d507af83d6163df76c943b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 18:11:44 2004 +0000

    Use the generic BSD tun/tap code.

commit e8b11b1cca11f7f50542a7b34f4251f43447db0d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 10 18:10:59 2004 +0000

    Missing check for NULL-pointer.

commit ca7948fc06fd0495dc8104d7f55948f702ac09e2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 9 09:51:35 2004 +0000

    Hopefully this really fixes late packet handling.

commit f7b9761000000063bd00460af4b57117db7361e4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 8 22:30:13 2004 +0000

    Fixed another bug in late packet handling.

commit 14eab178295768311d4518289533005991add8ba
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 8 22:11:33 2004 +0000

    Update to make it compile again.

commit 804b2892a5e26a2dc46d19397cc8b321b43b8add
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 8 22:03:28 2004 +0000

    Hoopjumping to get the default directories in the manuals properly.

commit 719cb95ea4fa7a2e6f4291aed607323f290c7a91
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 2 20:50:53 2004 +0000

    Splay trees.

commit 2af1538976c9c85c40becfdd8601b421ad2ab057
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 1 17:05:09 2004 +0000

    Don't include .svn directory in sample configuration.

commit dced64c5c3625f6d2f0674e9fed14455aabc635e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 1 17:04:28 2004 +0000

    Check for sys/uio.h, net/if_tun.h and net/if_tap.h

commit 1f00810da336f3b7132df17b7fe4625748ff4b63
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 1 17:02:19 2004 +0000

    static

commit 82b29e9a3b1dc6b2104ab92ed78bf431a4e55649
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 1 17:01:56 2004 +0000

    Generic device driver for *BSD and MacOS/X

commit 922e5b7beaad5bb3fcbfa6b8dd13c05bda29e5fa
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 1 15:18:53 2004 +0000

    Support alternative tun/tap driver from http://www-user.rhrk.uni-kl.de/~nissler/tuntap/

commit faff6498821555e6afb3dc5e4e3b61d448a4fef1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 1 15:18:22 2004 +0000

    Don't let tinc service depend on NDIS component.

commit 396ac4be802f8b75c5a2ab5925925427c61c1da3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 1 15:16:12 2004 +0000

    Correct return value.

commit 58153cca98fd43c37ae52d3cf69474c3d736c431
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 1 18:26:15 2004 +0000

    Allow tinc to work with the latest TAP-Win32 driver.

commit 6411e0d8bda8abc2cef87ca852255502f9bb03d0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 1 18:24:41 2004 +0000

    strndupa() is too arcane for some environments.

commit b0a80007e8945a11d7ce25aab096c5ee58ce0ad5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 1 18:23:08 2004 +0000

    Fix several #includes.

commit 2c40495747945bc497dac65b734a4995ab3400a3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 1 18:22:06 2004 +0000

    Move all #ifdef HAVE_HEADER_H #include <header.h> to have.h,
    this allows for simplification of configure.in.

commit 7717cb0c54cc1b736b9f210b180c3cb3f4663ded
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 20 20:56:14 2004 +0000

    Remove duplicate #include "system.h"

commit 5373129344d349ff6aeb2b3d21f947f5ecbbcfaf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 20 20:55:49 2004 +0000

    Marking potential late packets was in the wrong place.

commit c44f69a30243a94ab93bd15915dbfa71db698bde
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 17 12:04:30 2004 +0000

    Don't set $INTERFACE automatically, don't quit on EINTR/EAGAIN.

commit dcec713675b604f5ef82e64d0671727e3f5ea518
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 17 00:09:14 2004 +0000

    Added UML network socket handling.
    Now you can use tinc instead of uml_switch.

commit fe84fafcb684391739a1b3366705c58683210392
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 21 14:37:52 2004 +0000

    Handle timeouts during connecting the same way as other errors.

commit e5e0dd7534be5fb96032fb733ca36a09cb067f17
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 14 14:32:10 2004 +0000

    Clean up environment after executing scripts.

commit 9e44f116bf0f72d1dd4f099440a351dbe0a74573
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Apr 15 14:09:56 2004 +0000

    Increase MTU by 4 bytes to allow VLAN tagged Ethernet frames in hub and switch mode.

commit 7926a156e5b118d06295228e57de0cc9de0433b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 21 14:21:22 2004 +0000

    Update copyrights, links, email addresses and let Subversion update $Id$ keywords.

commit 42e01abd54bd36ee84a45a2b646cfa27034de8d1
Merge: 5ca64f8 af86a32
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 21 13:22:24 2004 +0000

    Move CABAL branch to its rightful place: the trunk.

commit af86a3226ea42375644b3f99c182c778d327de1e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 20 22:23:42 2004 +0000

    Revert Martin Kihlgren's patch, it doesn't work the way it should.

commit 27c304940a5dbe83fb0f655c5c43150bafed3b63
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 20 15:40:26 2004 +0000

    Use Subversion to create ChangeLog, better svn-clean rule.

commit 8df22248293a8cd5e6056415b6e08740e40aa2bc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 20 15:33:07 2004 +0000

    Fix declaration of update_node_address().

commit 56aad1bb486675ff9aba31418708cc179eea0381
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 20 15:28:55 2004 +0000

    Applied Martin Kihlgren's IdentityGenerosity patch,
    simplified and renamed to StrictSource.

commit 8c189c2a9b77fb326ab5f27a05bf2601e16af017
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 15 19:09:52 2004 +0000

    Even better svn-clean command.

commit b05df3fcbfb8dbef4c87691d118c5b68aeb79e4a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 15 18:36:14 2004 +0000

    Updating dutch translation.

commit a92c471a2bc0773a7473ef0361d1a51fafee50d4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 15 18:15:02 2004 +0000

    Only read our public key if it wasn't already in the private key file.

commit a67a21ef3c17d32af95373e921138429a7fc507e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 15 18:05:41 2004 +0000

    Eat trailing whitespace in config files.

commit 4350704d6578656af98195b26006c6b6d6a798e3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 15 17:54:19 2004 +0000

    Remove CVS related cruft.

commit 538595f7350ba6c7d11aba7d9f481ea1641e1857
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 15 17:53:17 2004 +0000

    Replace cvs-clean with a much better svn-clean.

commit 5ca64f89be71131e77a29661827dc8866a5f278c
Author: cvs2svn <cvs2svn@example.org>
Date:   Sat Jan 10 23:21:36 2004 +0000

    This commit was generated by cvs2svn to compensate for changes in r1352,
    which included commits to RCS files with non-trunk default branches.

commit fcd836c609568fab323f4af6dd525de957a6f4cc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 10 23:21:36 2004 +0000

    Remove autogen.sh, the autoreconf program does exactly that.
    Update everything for the latest autoconf and automake versions.

commit f2aa7466e6db9777090583ef26d923fc0a4fcea8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 10 23:19:20 2004 +0000

    Small updates.

commit 519d63bedbdcc533dd7839aae02b4d7bc2debfb0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 27 16:32:52 2003 +0000

    Don't forget to update destination MAC address.

commit aebc97a77f37ec63fbd36721f9b284c975e54270
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Dec 24 10:48:15 2003 +0000

    Small fixes for PMTU discovery.

commit 2c7ce7de12d16cb407fd40224b6cb802528ee942
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 11:05:23 2003 +0000

    Missing definitions.

commit 35399784b695c9ac692beba7be7930ee9f24412f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 22 11:04:17 2003 +0000

    Improvements for PMTU discovery and IPv4 packet fragmentation.

commit 6d41b429a26dd1acaa7c56b2124f2daf55b5b97c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 20 21:25:17 2003 +0000

    Better name, show probed MTU in dump.

commit af490a745d4ddc8994ceca546b5f9139f6a6ebe2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 20 21:20:10 2003 +0000

    Describe the TunnelServer and PMTUDiscovery options.

commit 9bab08e972ae0ca4b904a659d9aed46aaa9b5dd5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 20 21:09:33 2003 +0000

    More sensible name, and try to set PMTU discovery on IPv6 sockets as well.

commit 6b12bea62fe2e4bd8b5b6bd0e5ca7f53318705db
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 20 19:47:53 2003 +0000

    Let tinc figure out the exact MTU of the link.

commit e8fbef5de653e4df35eee49aae6e1ac92d6466e6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Dec 13 21:50:26 2003 +0000

    Forget multicast. Always inline some function.

commit 5a1406adefd8b51981af0da5ac0ebec830eb43b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 12 19:52:25 2003 +0000

    Code beautification, start of multicast support.

commit 354b7ab20e04736b368985a9e9dfd54ff5b7584e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Dec 8 12:00:40 2003 +0000

    Fix proxy-neighborsolicitation.

commit 331cef948db4b3cca245ab62cb0fafb5b1e5ebb3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Dec 7 14:31:09 2003 +0000

    Don't retry if configuration is wrong from the beginning.

commit a3cd273751fdcef90a43108a5d2e669877b0bccb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Dec 7 14:29:02 2003 +0000

    Missing space between words.

commit 25447b384173cc3c99660c784fd784c787917e80
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Dec 7 14:28:39 2003 +0000

    Read MaxTimeout from tinc.conf like the manpage says.

commit 0b5e6cf04ec0c7e3c54c74a54a32b30e6e3c1f83
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 27 23:24:59 2003 +0000

    Complain if pid file cannot be created.

commit e3220cacb5bc79fc56167e61b7a342f88a33a479
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 17 15:30:18 2003 +0000

    Replace Opaque and Strict options with a TunnelServer option.

commit 0e59fb022c6c015a5be7ed70e0378cb011be98b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 10 22:31:53 2003 +0000

    Add Opaque option which prevent information from being forwarded to certain nodes.

commit a8f415e67fd316d929f9b9e6661e0d3d66fc197b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 8 15:29:40 2003 +0000

    Release notes for 1.0.2

commit 507a83c74635955f803bb26c450f3e83dd4809f9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 8 15:09:03 2003 +0000

    Add missing definitions.

commit 0271de0e80459bdebcac50d38c053d4aaf657e9a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 8 12:56:24 2003 +0000

    Update dutch translation.

commit d35a510fff65a7a3318036f27c11b956526b26f6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 12 11:40:00 2003 +0000

    Fix another bug in meta.c.

commit e88ea7277a97d46fa2c3ba1896cf0d0c62bdf128
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 11 14:42:30 2003 +0000

    Small fixes in documentation.

commit ffb7327c20952cefcb5578e40f9802295172c5c2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 11 14:18:52 2003 +0000

    Fix bug that could lead to an assertion failure in libcrypto when multiple
    requests arrive and TCP packets are heavily fragmented.

commit 258b7ce220607bb3f2a24bb7cab5fcd19e82314a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 11 12:28:48 2003 +0000

    Parentheses in the wrong spots.

commit a1ab57e2755df6c1a8fab95a0886fea368200b96
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 11 12:16:13 2003 +0000

    Check all EVP_ function calls.

commit b0dd705a264f0f72a7afba6de85200598cbe083b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 10 16:24:24 2003 +0000

    Check return value of EVP_* functions, and check if length before en/decryption
    matches that after in meta.c.

commit 9d2bf718f233672c11a9740ed2a1539eaab1509b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 10 16:23:30 2003 +0000

    Fix ASCII art.

commit e33307fc9f5354933554d26de618db1b08fc04c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Oct 9 21:33:15 2003 +0000

    Update documentation.

commit 98edfb14fcc7167d24d440ed2772d0755daac3b7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 8 12:09:37 2003 +0000

    Some platforms don't know sa_family_t or define it other than uint16_t.

commit f2ebdf75806d8c04138db0eb30727f846541ed75
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 8 11:37:53 2003 +0000

    Set media status for newer TAP-Win32 driver.

commit acf5f9c968d17ad3e31129d2184309de06d72eed
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 8 11:37:20 2003 +0000

    Missing declaration.

commit 1d7706a8506d8073def0965da809960c6ad8bf9a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 8 11:34:55 2003 +0000

    Update missing definitions, structs describing headers get __packed__ attribute.

commit 5b556c0971e847580b85268e57f0b29dbde5499c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 8 11:33:54 2003 +0000

    Forgot to #include "xalloc.h"

commit ad39db95fecf760297b4e320ef2f6d6d9fdad605
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 16:49:42 2003 +0000

    Make sure type of AF_UNKNOWN is sa_family_t.

commit 5900c07fab39d2833ea66429ad652ca49a91a508
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 16:13:08 2003 +0000

    PIDs are of type pid_t, and use %ld when reading/writing them to the pidfile.

commit e898b930dcd0694a49dc8cdcf373e0fc125c9fde
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 16:05:30 2003 +0000

    Use CPPFLAGS, LDFLAGS and LIBS as appropiate.

commit 6350334aa44f85e737c1eb0b55e0392766aa1e84
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 14:41:45 2003 +0000

    Don't confuse users with "Address family not supported" warnings.

commit 0842998c0bd46855d198923acc2c13cff7430ffe
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 14:33:04 2003 +0000

    Unused variable in struct.

commit 77cb10dac0abbfa4389a7588f51797152d91ac22
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 14:16:51 2003 +0000

    Ethernet protocol types.

commit c97b8827ed34284535706e8017c962ff8f3a4383
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 13:57:12 2003 +0000

    const

commit 60943122f7b3a5896ce64c9000e119931484c12c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 6 13:49:57 2003 +0000

    Copy structs from packets to the stack before using them, to prevent
    alignment issues.

commit 5713fb07b3e831b78d8841d56a53c2a2698fe738
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 1 09:43:01 2003 +0000

    Add description of new authentication scheme.

commit acbb9d6692614539260749c7b763eca5a6f81f07
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 1 09:14:01 2003 +0000

    Better length checks.

commit eeb97e3ef4eb9089851f7b71d5393df24313c993
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Sep 25 10:34:16 2003 +0000

    Generate keys with 0x10001 as public exponent, which has less prime factors
    than 0xFFFF.

commit 288d956728ab4d4aabe9bc59b87991420dbda151
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 23 20:59:01 2003 +0000

    Check for short packets from the tun/tap device and from other tinc daemons.

commit 4e80612ac0f38daa0f2280c293427c7f25dac278
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 9 15:47:59 2003 +0000

    Update translations.

commit cbf5a741aa2af937b3db606f0894990703f77bcb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 8 21:52:47 2003 +0000

    Remove pidfile when exitting.

commit 0dba26267c76982a422984b61a3196ed2cd2b04a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 3 16:20:33 2003 +0000

    Prevent multiple inclusions.

commit 6c5f3d8b74ffea1522a727ef189a5ba65a939e07
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Aug 28 21:05:11 2003 +0000

    We don't have to tell GCC how to cast.

commit 762cc2d2797d62ab593ea64d8ceeb4fe96be2a0d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Aug 28 15:27:12 2003 +0000

    Remove old edges from unreachable nodes to us. This prevents the hosts/NAME-up
    script from being called twice in some situations.

commit a6dc69e7f30522bf885714f6b663960b6fbfff6a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Aug 27 13:58:29 2003 +0000

    Forgot to synchronise po/ directory...

commit 62349da6f2617c7250a77af6610344ec0dbfc4f2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Aug 27 13:57:04 2003 +0000

    Makevars file was accidentily removed.

commit dc3b7d47f3297e22161787a1d6e06205140cf0fb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Aug 27 13:47:52 2003 +0000

    Some device.c files weren't synchronised.

commit 9e81a6ab5f50df4f5ca36d5303b91a8d5a0e753e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 24 20:50:30 2003 +0000

    This will become 2.0.

commit 013a2e159e42c46808ea8d0b6abd57525db30a50
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 24 20:38:31 2003 +0000

    Synchronise HEAD with CABAL branch.

commit ffb55e6904426a31c03b56c3bd87bb60db0624c6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 22 21:32:45 2003 +0000

    Add license exception from Markus Oberhumer.

commit 3e0b28b0c4d874934dde7b487a56cfacc956e3b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 22 15:07:57 2003 +0000

    Remove debug message.

commit 89c9f3ed8fddb316d0f9ef7de30bdc76fba39e41
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 22 15:04:26 2003 +0000

    When purging nodes, only delete them if nobody references them anymore.

commit 22dd23b650eb9b760bc68ab3a9227caf3b449140
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 22 15:03:59 2003 +0000

    Add checkpoints.

commit 570e7e9c615388cfba263c7a7c66cbc3d092d6e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 22 15:05:01 2003 +0000

    Don't overwrite the first " when installing a service.

commit 72bdc05cb7e246e56ed21a25256d441c45fccca8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 22 11:18:42 2003 +0000

    Allow tinc to handle unknown type addresses from other tinc daemons.

commit 5ac4179df66747a7013a10d576c23531d2b4fc58
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 17 12:05:08 2003 +0000

    If we're not in main_loop() and the service is stopped, exit immediately.

commit 46cfe6199449a86eb58abaeac45b4021ffa7e178
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 17 12:04:35 2003 +0000

    Do what the SDK documentation tells.

commit 107448698fc078bbd4cdbacdfbf51298ddc9ea65
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 17 12:03:40 2003 +0000

    Compilation fix.

commit 3112e6a863b4421eb1a0b32632b86c55e47f989e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 17 09:04:00 2003 +0000

    Use the event log under Windows.

commit 5e7c52610f8c8b9c38e437ef166a08372d5b8a61
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 17 09:03:30 2003 +0000

    Fix --logfile under Windows.

commit 2236e05e518c9e317d82c027596bea5228725214
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 17 08:32:39 2003 +0000

    Fix fake getnameinfo() and check more arguments.

commit f4e80cc5e0d1689bcdd828ac7f158bd634b7dd20
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 16 12:40:01 2003 +0000

    Don't getsockopt() SO_ERROR. We get the error from send()/recv() anyway.

commit fd40130eb6bbba34176d34936a01bb6a6f9121d4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 16 12:11:11 2003 +0000

    stat() batch files under Windows.

commit 03995ca52ee31ed505902a3c8c3d1119988c8497
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 16 12:10:28 2003 +0000

    Simplify fake getname/addrinfo() functions, possibly fixing freeing a NULL pointer.

commit dbfd6f284e0ff0aa04e6d6e62b902966912da516
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Aug 14 14:32:34 2003 +0000

    Update.

commit 7ed25590257b6ed33dfa879d187a09b0d790794f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Aug 14 14:21:35 2003 +0000

    Fix permissions check for rsa_key.priv.

commit 1f2670aab295dfd09c8c655611d2a5b820cb00fc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 12 14:48:13 2003 +0000

    Small fixes.

commit b038e8db376969e70f1315840428b8a14ec8420f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 12 12:35:53 2003 +0000

    Updated dutch translation.

commit ae070b917066f612e9aba8611c7a5da88e19a51a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 10 13:35:05 2003 +0000

    Add a description for the Service control panel.

commit 9b579eb9ffdc1fd4a3d0cacb0728ec0796526bc5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 9 00:53:22 2003 +0000

    Update documentation.

commit 7eed829d288d0fdec2f31709a18ec420e489c2e4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 22:45:46 2003 +0000

    Only system() needs script name quoted.

commit 91f65c277483b47343b1b64d0f4edd497a8045a3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 22:13:50 2003 +0000

    Check for fchmod().

commit 9bde92ce97d5503ff2d31dcc6f0648902580ec14
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 22:11:54 2003 +0000

    Simpler checking of permissions on private RSA key and other fixes.

commit 96f5d98fc299a53fcdad304a56eb3a77a2c229e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 19:56:11 2003 +0000

    Small things.

commit ef65a64443f740e3b22d9e903f764d9a58ce0ff0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 19:49:47 2003 +0000

    Better error checking and reporting.

commit bb2f18a3fc8acb7802f30e06153def30eb97a994
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 19:45:21 2003 +0000

    Under Windows, the installation directory can be found in the registry.

commit 7f05445047c6479b81b7d393543ff73a95ee0dc8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 19:43:47 2003 +0000

    Quote when needed and don't try stuff that doesn't work under Windows.

commit b4c913aaa926d80a72aeb97459f84f992b65d1ed
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 19:42:35 2003 +0000

    Log error first, try to close later.

commit b0825f36b7b5dade1693fdbddfec7eef3f5ed86f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 19:39:41 2003 +0000

    Better error messages under Windows.

commit 6f3099595530280028f6ec3d0b310df523e75f98
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 17:20:12 2003 +0000

    Typo.

commit 691907caaeb348dee3dbe8a85f3590241f2cc992
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 17:17:13 2003 +0000

    Readd quotes.

commit f956a28147ec8596c9a51b0c1535bb4b8c87692c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 16:49:29 2003 +0000

    Make rule for sample-config.tar.gz.

commit 7e74e00d167da659ba6c3db3e8822008d27c081b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 14:59:27 2003 +0000

    Allow empty lines in config files.

commit 863349638beb1eaab09e2a3d537c20a7913aef30
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 14:48:33 2003 +0000

    Simplify execute_script(). It will probably work under Windows as well.

commit deba3ed900eb4453d27412606cecfaf89b5a5643
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 14:24:09 2003 +0000

    Correct error message when remote host closed connection.

commit 0c2256670fc0822cc5a86bca754186c50f943a1c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 14:07:12 2003 +0000

    Remove unused stuff from doc/.
    Let configure update pathnames in documentation.

commit 070aee3be16b8d8078b049c5bb43dce7b18123df
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 12:55:05 2003 +0000

    Tell windows to be patient.

commit adb68b9c2aa7ad72dd5c38b95c083c47599cb65a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 12:24:52 2003 +0000

    Windows uses backslashes...

commit ef091d1ddb1f7ab5244db96841274dc769e85167
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 8 11:45:37 2003 +0000

    Sync CABAL branch with release-1_0 branch.

commit 5193a14ddea4c20ffc708dc629a2f91f1e4ccea3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 21:45:41 2003 +0000

    Use our own port when connecting to ourself.

commit 62a7fa9a7bfd1cd1592fd7c381ea28aac0ed7936
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 21:45:13 2003 +0000

    Simplify translation

commit 98f97da9d7d80b528d9a2b2f03f710cdd2b293d0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 21:43:19 2003 +0000

    Update dutch translation

commit e220187f484f3549df3ad3a04939b9a38051d1a0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 12:38:43 2003 +0000

    Remove newlines from log messages.

commit 3671ed806d7371fb6b14a5909451b20e54a1b14a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 12:38:18 2003 +0000

    Keep Windows happy.

commit 7bed2a7099fc7359f6ec24e5f2d7050c7d63b6ac
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 12:37:55 2003 +0000

    Cygwin needs windows.h.

commit fa9c00733e4b793691bf5a068ff7f2f391854fb4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 09:55:20 2003 +0000

    Old gcc compilers don't like declarations in the middle of a function.

commit a65011b3c54cd4ddc66f20909ca0e495de0d6eb0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Aug 3 09:08:52 2003 +0000

    Clean up last part of main().

commit e20ac7b52da8e3f7da292836c6e2551fc9f64617
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 22:01:50 2003 +0000

    Typo and another thing to think about.

commit 92938c07b17fdd30f4e7f9ae1b884b05c7aa312c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 21:55:12 2003 +0000

    Explain how tinc detaches and how it is "killed" under Windows.

commit 8a1969bc8319761e3821fc76a7c2f7037ffb8850
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 21:39:11 2003 +0000

    Updated dutch translation.

commit f605ec47bed26362e24ffacf71c7ae5aeed3c230
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 21:34:10 2003 +0000

    Oops.

commit e6e32814584f82ee61f658a71cb435bbb491bd39
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 21:33:52 2003 +0000

    Missing include.

commit c044d12dfd54c033bc5ad9fbf9f889724762f76c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 21:33:19 2003 +0000

    Cleanups and error messages.

commit 3fd96ebec7e44a0a7288c60da1cdec2d4fe03e8c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 21:01:50 2003 +0000

    Error messages.

commit f08fc359a0b7f638e73a8f866119b016b7dff8de
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 20:50:38 2003 +0000

    Install tinc as a service under Windows (MinGW). Remove cleanup_and_exit(),
    either exit() directly on errors or let main_loop() shutdown gracefully.

commit 7c34122af7ed4667748ceae4966bd5b519ac8ad7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 16:05:33 2003 +0000

    When compiling with MinGW, link with ws2_32.

commit 9a491a10eee55b243dd1030ee9016ec510908a10
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 15:32:57 2003 +0000

    Windows has no symbolic links as we know it.

commit 9c2d5d9f9212dee5ee988f4824e5e4afedb7a2dd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 15:29:06 2003 +0000

    Oops.

commit c7bf64c7946ece3e1a6a7cdd7bce00045bddb9cd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 15:27:24 2003 +0000

    Allow whitespace in values.

commit b79e55b183898911e2c2b7b151b281aef8d474e1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 2 15:13:08 2003 +0000

    Prevent system headers from including our own headers.

commit 998ac634d456567e7caf99fe879d4ef1602f36bf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 1 08:18:22 2003 +0000

    Wrong function...

commit 2531ff59b73af3a6de85fdc33d744758a6ab9449
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 31 14:24:19 2003 +0000

    Woops!

commit 1fe56637874a1e93882a2ca6ffb8c50a773f80e4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 31 13:18:34 2003 +0000

    No easy way to properly detect header files...

commit 8eca27e863d9cb139a1e4039f63aaac3c9afc3c6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 31 11:31:51 2003 +0000

    Remove forgotten braces.

commit 5c29d066688691dd1664597ba1c76195634f06c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 31 11:20:32 2003 +0000

    Wrong argument.

commit da3078c63a3b658573f6e2f986f69ed4d7993b3a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 31 11:17:39 2003 +0000

    Check if the compiler knows about the __malloc__ attribute.

commit d798b8b3d832f8c69769e08cfd64a4d8355faf0e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 30 21:52:41 2003 +0000

    Prevent definitions from messing up attributes.

commit 2edc764a333764e7e5c4d3420131c13e9c81ecf7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 30 16:00:59 2003 +0000

    Replacement for stdbool.h

commit fcbe29bc4cc67530581a36cf1a3a1445c741b8e5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 30 11:50:45 2003 +0000

    No C99 initialisers, gcc 2.95.3 doesn't like it.
    Also make sure getopt.h is included.

commit de223b51b94c58d1674f1ef56e9d485ff48d366d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 30 09:45:21 2003 +0000

    Remove doc/es/ and src/device.c from the distribution.

commit 63568bb6bca20b4d2b2068a6367084a273eabac8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 30 09:22:29 2003 +0000

    Update documentation and remove stuff that's too outdated.

commit 2ed154e73192d5e162544bc570abbb3a1df3ec83
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 29 23:21:01 2003 +0000

    Cleanups.

commit 721e4caee0f7c6e003c297c95fb6d93bd4102219
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 29 22:59:01 2003 +0000

    Native Windows support.

commit 586f15ed20682413d1bddbb4518dd2714c96b255
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 29 12:38:49 2003 +0000

    Make sure (at least) the MinGW device driver works.

commit 6f7cce69479f9b2796d81f458bf836287b74462e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 29 12:18:35 2003 +0000

    Make sure it works.

commit 4370b98bb1dfa9eb1e400549cb6fcb6711aa1b29
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 29 11:50:39 2003 +0000

    Update configure scripts.

commit ae50b0077e27c4c4d81a98da46c66865ffa069be
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 29 11:06:23 2003 +0000

    Update dutch translation and make sure all device drivers are included in
    the translation and distribution.

commit 714fb32d0377ed9f5643ed8f0bd914843d12266b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 29 10:50:15 2003 +0000

    Fix compile errors and warnings.

commit 0e945413315c9d15a3eb013fa3731dd978a8c7b8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 28 22:06:09 2003 +0000

    More checks for missing functions.

commit c15e8a96bf7e45adf750b7a36b0e8446ea049468
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 28 21:54:03 2003 +0000

    More generic handling of tap device under Windows.

commit 83263b74460656ba557fd9bb84dc27258549e9cd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 24 12:08:16 2003 +0000

    Sprinkle around a lot of const and some C99 initialisers.

commit 5cb147135184e3748c6f5e6e6203d22ab9f904f8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 23 22:17:31 2003 +0000

    Don't initialise a CIPHER_CTX if cipher == NULL.

commit 4aadb9500d9198f9c271deb048a2d36000bfae34
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 22 21:13:23 2003 +0000

    Run setup_device() after parsing configuration but before claiming we're ready.

commit eefa28059ab989c915a7d95fb4ae728abd7ce713
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 22 20:55:21 2003 +0000

    Use bools and enums where appropriate.

commit 471308e1636e7a06e1d9ebc98e82b1c0c5150dde
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 22 12:58:34 2003 +0000

    Option to specify pidfile location.

commit c96900f378966ca1be96ddb1c43f855c74083b70
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 21 19:58:58 2003 +0000

    Add section about configuring Cygwin and CIPE on Windows.

commit bad82522ecfc1f3c72c600cbca6e8fa7e950c3bf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 21 15:51:00 2003 +0000

    Copy cygwin driver to mingw directory. It doesn't work (yet).

commit e169244e4b10dbcc1910c0f7fd811304d5b1a5a5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 21 14:47:43 2003 +0000

    Use functions from logger.c

commit 2f2defc4525befd5b5cb69d03b7887db35e9e46c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 21 13:18:44 2003 +0000

    Check for sys/mman.h.

commit 64fd25aa6b794bb1d957b50d48705f30ed47c878
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 21 13:15:36 2003 +0000

    Oops.

commit c1e8152f4fe5e4557784d8411e50006d461b8786
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 21 13:14:02 2003 +0000

    Be consistent.

commit b657f0519456d05bcea5742017165793f79e56df
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 18 14:10:27 2003 +0000

    No UNIX style permissions under Windows.

commit 38aa0319ef79124e59b587e6d55f37a79a9d847c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 18 14:09:47 2003 +0000

    Oops.

commit 123bb765d10453fdccbe363a02e3042c588729cc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 18 13:45:06 2003 +0000

    Use iface instead of interface because it might already be declared in
    system header files.

commit 96ee04b678143defa1040f2defdd3424efedea11
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 18 13:42:35 2003 +0000

    Check for ethernet/ipv4/ipv6 related structures.

commit 00ddbf5723511d80fbd2522fc503bd409dc6189a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 18 13:41:37 2003 +0000

    Update all device.c files.

commit 271d3537fed28b3e76cf0e76082b44c8771ac5da
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 18 12:21:03 2003 +0000

    Remove all #ifndefs from route.c

commit b0a4f7b5551cae6fb5af2eb4bcb0dfb3443f7d89
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 18 12:16:24 2003 +0000

    Even more missing definitions.

commit e449d94caef963809d417f16497f6f978e10d731
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 17 15:06:27 2003 +0000

    Big header file cleanup: everything that has to do with standard system
    libraries is moved to system.h.

commit 47721be760c495ec13d68181bc03b151ffc1399c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 15 16:38:18 2003 +0000

    Windows headers declare a struct interface somewhere.

commit 4c52febc57f2e34f5a187f0e57782903fe1eb95e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 15 16:27:39 2003 +0000

    Make use of the CIPE driver. Woohoo, tinc for Windows!

commit d26a4af4561ce4236b8224919cf4f3636f57b4c1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 15 16:26:18 2003 +0000

    Export mymac.

commit 784db4e70d2573468c82ff5dfee723b77a20322f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 12 20:24:04 2003 +0000

    Format string checking for logger().

commit a438ac911e7e60e54d7d1fc4f84373fab7e055af
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 12 20:19:22 2003 +0000

    Removing distribution specific files from CVS.

commit 085d33e6265e139bb08cdfda3d7498993190d187
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 12 17:48:38 2003 +0000

    Update copyrights.

commit 5db596c6844169f1eb5f804b72abe99d067aaa5a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 12 17:41:48 2003 +0000

    Simplify logging, update copyrights and some minor cleanups.

commit 2a7f11c0e90f5f0465bbc3c75de715454066ff72
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 11 16:13:00 2003 +0000

    More missing IPv6 definitions and autoconf checks to make sure it compiles
    under Solaris 2.6.

commit 71f8124ea49f2a0e00e0cedbb1b76e49e9f1425d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 7 11:50:52 2003 +0000

    More missing definitions.

commit a88f1edf297152580a7729c6f3d274ba2bff7360
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 7 11:13:31 2003 +0000

    Actually add ipv6.h.

commit 30c0381d71d333a99f6c83ff9d03ef4a0857f423
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 7 11:11:33 2003 +0000

    Provide all missing IPv6 definitions in lib/ipv6.h.

commit 1401faf608e1c8af0d0754e545b0ec79d2bd5d93
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 6 23:16:29 2003 +0000

    Sprinkling the source with static and attributes.

commit 0b9175e998c2180e5d73ef3d644a49d620c68cad
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 6 22:11:37 2003 +0000

    Define logger(), cleans up source code and allows us to write log entries
    to a separate file.

commit 868104703003605711582c984b57f8933bf361ee
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 6 17:49:49 2003 +0000

    Check for IPv6 header files.

commit 81f5713ab71944d51703653eab7f364fba0c482e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 6 17:15:25 2003 +0000

    - simplify configure.in
    - drop support for OpenSSL < 0.9.7
    - add some missing definitions/includes

commit 6c7172d694dcb80e538518282b6c4bd51818f1d2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 25 20:55:05 2003 +0000

    This subtle pointer arithmetic thingy is (I'm very sure of it) the cause
    of the lingering connections problem. Hopefully it is fixed now...

commit 9528a63c35da77ba5b825068aeffbc5587816dd5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 25 20:52:59 2003 +0000

    Really make tinc default to any addressfamily.

commit 8bfa554af97ee0694919b9f5b78ada89c6af62f5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 12 11:08:40 2003 +0000

    There are two lzo compression levels.

commit c3593491d44e8e8f239bb297f5d5f6541d581b78
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 20:36:36 2003 +0000

    Typo and conversion to UTF-8.

commit 636e650261712e3687048fe19987fd50ce84b093
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 20:19:46 2003 +0000

    Update dutch translation.

commit 9279b3c69982b066e2aaea4e444892b51332881a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 20:18:48 2003 +0000

    Update documentation.

commit 0a9aef2da749f7b7d1ca183daad88f6433579b9f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 19:40:43 2003 +0000

    More braces to make gcc happy.

commit cf63cbef2bcb6a1f21ded439cbb09842581b9020
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 19:39:02 2003 +0000

    Fixes from Wessel Danker's libavl.

commit 12de5a8eedd985f4732e88de6185f77a8244612c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 19:28:38 2003 +0000

    Remove mymac stuff from device.c.

commit 31f17d43346a9175aec7c29ce41c71b1d08f725e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 19:27:35 2003 +0000

    AddressFamily is "any" by default.

commit 451800eda87e886021fabd1888e486c51e97902a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 19:09:52 2003 +0000

    If we have a Linux tun/tap device and we are in router mode, open the device
    in tun mode.

commit 9e02a3d5631b687833e4cdcde18cda66e38138fc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 11 19:07:56 2003 +0000

    Call make_names() before doing anything else.

commit 4b0e5a03fe89529ebe5d471a82c29c153a12116b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 7 13:18:32 2003 +0000

    Fix warning and add missing checks for LZO library.

commit f238c209f4a0ced889b8fb443753ed2cdb3548b3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 17 22:12:52 2003 +0000

    Fix links.

commit 249933350bda2c3fa09c7ce8eb36bf84ee30a1cb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 7 11:21:58 2003 +0000

    Small fixes.

commit 6ba4e2da55001e17aec6a7ee71002130555ff439
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue May 6 23:14:45 2003 +0000

    Small fixes to make LZO compression work.

commit c70f52087bf6f7514684bbc859b83aec2ca17ae4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue May 6 21:13:18 2003 +0000

    - Per-node EVP_CIPHER_CTX to avoid initialisation overhead.
    - LZO compression, thanks to Teemu Kiviniemi.
    - Updated dutch translation.

commit 1ad2394b8468593030653bbfd0dee879fb711432
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Apr 19 11:12:45 2003 +0000

    Make sure outgoing_t is completely freed.

commit bc9e78250ef6fb5169d03565b7d8d9caf309eb98
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Apr 18 21:18:36 2003 +0000

    Better handling of late packets.

commit 51a1bcf00143319c74ffb58a66a19c41be422c21
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Apr 3 11:43:17 2003 +0000

    HUP signal now closes connections to hosts if their host config file is
    gone or changed. The tinc.conf file is reread for changes in the ConnectTo
    lines.

commit 8285827da127e38728b60b5c5484e5cdabff2f21
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 29 22:11:22 2003 +0000

    Checksums must also work for uneven number of bytes.

commit c3ad3731a8dfa34535a156a7cfdb4e18afaa8bce
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 29 21:58:35 2003 +0000

    Don't copy more than necessary.

commit 7d21a8d1c7fd8909fe02385dbb4717c074db4648
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 29 21:51:21 2003 +0000

    - Speed up checksumming
    - If a destination is not found in the subnet list or the destination node
      is unreachable, respond with an appropiate ICMP message.

commit 9792ba2cac35cb50cc99b72dd4cb9d3ef350dbd4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 28 13:41:49 2003 +0000

    - Avoid memory leak caused by OpenSSL 0.9.7a.
    - Disable RSA_blinding_on() because it segfaults.

commit 69158563e9f790777eb27aeb8484a86d12385af4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 19 11:45:05 2003 +0000

    Typo.

commit 88ae2e9e0c1eb62d9b74c4b38d9c0e93557fed9f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 19 11:43:42 2003 +0000

    Make sure send_meta() writes everything.

commit 2fff0a91a7e3e5f44e97255b6dd5807656b255a8
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Mar 14 09:43:10 2003 +0000

    Call RSA_blinding_on(), as advised in the paper on
    http://crypto.stanford.edu/~dabo/abstracts/ssl-timing.html
    to offer some resistance against timing attacks.

commit 1783a3aaa9b692ab64260a9c2adf588ed6083a1c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 17 00:43:58 2003 +0000

    Various fixes for autoconf and OpenSSL 0.9.7 and a missing header.

commit c08858baa91a00e38c0f5482dbb0817dbd0361f1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 17 00:37:20 2003 +0000

    - Fix indentation in some places.
    - Optimise select loop.
    - Remove unused function setup_outgoing_socket().
    - Clear EVP_CIPHER_CTX structures before using them.

commit 38f562fdfcacb50d34b9a48bfaea7faa132f493a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jan 14 12:53:59 2003 +0000

    Add $NAME for tinc-up/down scripts.

commit 44b87ddb7ac90be13ef3e3d5118acaa158184853
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 12 17:02:23 2003 +0000

    Run graph algorithm when replacing a second connection from the same host
    replaces an older one.

commit 4c88ff86bcd32735d4768ef3464812cd77c500be
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 27 19:32:33 2002 +0000

    PrivateKeyFile instead of PrivateKey.

commit 5b2a62ebb6317cd88e491ee958c54670f381aee8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 14 22:09:03 2002 +0000

    Fix PriorityInheritance.

commit 07db46a44feb283c1c17bcce918ab49274a3b11f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 7 07:32:31 2002 +0000

    Add documentation for BindToAddress.

commit e310cc82d3f9c9bdb3b827daa149861a41e2e00a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Sep 30 19:04:37 2002 +0000

    Fix saving of debug level for startup level 0

commit 006591efe5b3e6c64040d267f8c0477468abf2bf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 24 11:43:34 2002 +0000

    Run graph() after edge_del() when updating an edge.

commit 6904e0469ef52aa6100f0185d579bc205bd07be8
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Mon Sep 16 14:08:04 2002 +0000

    its: Engels voor "van het" - 3e persoon enkelvoud, genitief, onzijdig
    it's: Engels voor "het is". Dus niet "van het".

commit 4f3395ee4dad3cdd23706af180ebddfa5e576012
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 22:37:59 2002 +0000

    Thank some more people.

commit b216297a004f083336c633aaccecb4ab175360b3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 22:34:25 2002 +0000

    Remarks about 1.0pre8 release.

commit 1dcbdf48eb4a642e4d70a9e67aaca78deacf352d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 22:19:38 2002 +0000

    Update documentation.

commit bf3a11898898c0618cd1b2e7a792b7d7fe56aecb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 22:19:19 2002 +0000

    Use /dev/net/tun as default for tun/tap device under Linux.

commit 7d76ceaebd5180f4ef37086980c799199eb7de16
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 17:40:00 2002 +0000

    Updated dutch translation.

commit 5eca9520d93bced1275d45e5e2a933d69354cd6d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 14:55:54 2002 +0000

    Small fixes so tinc compiles out of the box on SunOS 5.8

commit 8d472a415e9c5fdb878386005d29cdfd97b8a404
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 12:26:24 2002 +0000

    port_t isn't used anymore and conflicts with MacOS/X headers.

commit 38c80bdd46fab68c686a293e2820041291972f3a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 15 12:26:04 2002 +0000

    MacOS/X needs #define _P1003_1B_VISIBLE in order to use mlockall().

commit 3e3b4a3190cf950c265a8c62d577812a22b11dcc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 11 22:25:58 2002 +0000

    What was I thinking?

commit f6905582d0e70ac5b44369780aaa921d9c721197
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 10 22:13:22 2002 +0000

    Make sure malloc() is declared.

commit eaf1208e9d5c5a15e4b23de936830520bf3b5685
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 10 22:13:01 2002 +0000

    Fix placement of #include "config.h"

commit dd888ca685176128bf41034208f3dbb220f9d832
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 10 21:46:05 2002 +0000

    Link with libintl if necessary.

commit c01f78ed3603eecaec8e3649a3bfb3de9742fd24
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 10 21:29:42 2002 +0000

    Clean up after indent.

commit 161f917dd03c174742fb8c6722f430a93b506cb1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 10 09:40:25 2002 +0000

    Fix compiler warnings.

commit 3bc554347560a9c24e68bb2c7c7749be07bbec3d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 9 22:41:56 2002 +0000

    Let GCC check format string and arguments of send_request().

commit 6f9f6779e6bd1dd7bb795b42dad550863a386ca8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 9 22:33:31 2002 +0000

    Remove redundant spaces.

commit 9f38e394636a177c00a4545de2a99c661de36386
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 9 21:49:16 2002 +0000

    Switch to K&R style indentation.

commit f75dcef72a81a337e847adf0bae54198894f65b9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 9 21:25:28 2002 +0000

    Switch to K&R style indentation.

commit 5fc1ed17f41f0c535cf57a4b7e00cd6d45759503
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 9 19:40:12 2002 +0000

    Cleanups:
     - Convert cp to cp(); so that automatic indenters work.
     - Convert constructions like if(x == NULL) to if(!x).
     - Move all assignments out of conditions.

commit 5638b9830f9cfe43f545c37cfd7ccf1d4b4bfcc6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 6 21:22:35 2002 +0000

    Why don't these connection_t's get cleaned up?

commit a8ddba42b99d7694359f1387235596b84d297b9e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 6 21:02:36 2002 +0000

    Fix MST algorithm.

commit 66741978e16cc407e5c760621c34d1aabb753cd2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 6 14:31:12 2002 +0000

    Reset the *correct* seqnos.

commit d5b61fc0cd249fd2b2751a1ff77b321323a17beb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 6 12:19:16 2002 +0000

    edge_weight_compare() shouldn't rely on edge_compare().

commit fc7116a32b798589e7731db9f9db66345c8c3e01
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Sep 6 11:08:21 2002 +0000

    Added AM_MAINTAINER_MODE

commit fbf8a47879671541939cfdc6beb93b02b9eee303
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 6 10:23:52 2002 +0000

    Remove global edge_tree.

commit 641705df90b4c41e7f5083f6cd601cbbfb1c2c85
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 6 09:48:39 2002 +0000

    Only reset seqno's when a key is sent or received.

commit e4d85a6557ee45870bee0c5a16807e48b7a3c243
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 23:11:58 2002 +0000

    Typo.

commit b4f87952bf2d37524c705b32864f802144f94d68
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 23:05:49 2002 +0000

    Add missing headers.

commit b18bd211bec84a804f58da5f2d2908e54de3fe40
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 23:04:52 2002 +0000

    Run autopoint and libtoolize before creating initial makefiles.

commit 6fdaa8e1caff4edb44a105b03c79403b743e9bd2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 19:57:53 2002 +0000

    Small updates.

commit d4277e9ee8affa59ac9b3475245360bd14af1fa8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 16:36:03 2002 +0000

    Updated dutch translation.

commit 8b2b67e26c5b971761f5015764d5e188f6343bc4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 16:26:45 2002 +0000

    Generalized request broadcasting/forwarding.

commit 431fa10b37e78172a03c952e28a0364cc0e438f0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 14:17:28 2002 +0000

    Small fixes.

commit 82ebfc923ddb050c88bdf5d65ac943a15ca8748a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 13:48:52 2002 +0000

    Revert to edge and graph stuff. This time, use a directed graph.

commit 973530db628fb91106d6fb7a17151e1d036e40a2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 08:48:03 2002 +0000

    Just ignore wrong ADD_NODEs instead of replying with a DEL_NODE, in the
    hope other DEL_NODEs will catch up eventually.

commit 2af0bcc8fd39ca34a7ff856d539cdf38728a8c25
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 08:36:34 2002 +0000

    Don't forget to set prevhop to myself for new connections.

commit 698d6ddac6ab32d5a4b802941b02232793442684
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 08:33:08 2002 +0000

    Prevent looping DEL_NODE/ADD_NODE messages after a node disconnects.

commit 4a7c2026aec6966f934b60d75bc472d28f8587d8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 4 08:02:33 2002 +0000

    Reduce KEY_CHANGED traffic.

commit ddb96301a39dd3dac8d3df4e2e189b13b75e0b6e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 3 22:49:55 2002 +0000

    Woops.

commit b5bb06200eda170c9836e1b4474d6f5b920c2151
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 3 22:37:49 2002 +0000

    A reachable node is always more preferable to an unreachable one...

commit d134c4542d4e890e1c1007f32b866742319853c5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 3 20:43:26 2002 +0000

    Drop graph and edge stuff. Use new node stuff instead.

commit 856de4c5fe8acd779aa9277d4554e34ff3625e97
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 3 20:42:05 2002 +0000

    Make sure setlocale() is available.

commit 2cb21f8810a6e0241a80623e991c8308b603ae95
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 2 22:40:42 2002 +0000

    Replacement for the current routing algorithm.

commit f2c2443bbcfd5e09518bd87f3fd8d4a727d73ae2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 24 12:54:55 2002 +0000

    Check for ranlib.

commit 912e7e968f4888d62b3c620893a70e825599973b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Aug 24 12:11:40 2002 +0000

    Gettext 1.11.5 compatibility.

commit 18948c5784bfedf0dd5a371e41bc2cceee76d92e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 18 14:30:45 2002 +0000

    Added support for raw sockets. This can be used instead of tun/tap devices.

commit 9f370893fafaeacdd78f5488cfa8b76fdee0d224
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 16 13:18:27 2002 +0000

    Don't bother to chown, and correctly document ConnectTo.

commit 227ccd3a8a5602e4c31add8da1bfd8b35c6a801f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 16 13:12:49 2002 +0000

    Allow tincd to be locked into main memory.

commit c4cd19935763b379e730a6fdf53dc1ca98d0b938
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 12 11:45:21 2002 +0000

    Include complete fake-getname/addrinfo from OpenSSH.

commit afabbd6b9020dd6555a7ecd320a7b3e96119d538
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 11 12:57:06 2002 +0000

    Added stub device.c for Cygwin.

commit 8949404db08f4ab594e60778bb76a9061426d7cc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 11 12:55:58 2002 +0000

    Started port to Cygwin.

commit c98db1b861d62430e23f26b0da18e7b3ec875767
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 11 12:42:43 2002 +0000

    Clear subnets before using them.

commit 8dd09568f1604f1ac8cc0d8d5120d986f5654900
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 10 11:32:33 2002 +0000

    Allow identical subnets from different owners.

commit 36cbaa32f480b481bf2ee99fd4835586a02ebc60
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 10 11:27:06 2002 +0000

    Allow list of environment variables to be passed to execute_script().
    When executing host-up/down scripts, include the address and port of the
    remote host.

commit a1bd878e11ae7e66e7e9a4040c3b19f9b7bc50f4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 21 17:49:48 2002 +0000

    Fix for prefixlengths of 32 (IPv4) and 128 (IPv6) bits.

commit 627f7c22b447bd464b536cd016278545674df93d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 21 10:11:37 2002 +0000

    s/sliepen.warande.net/sliepen.eu.org/g
    s/itimmermans@bigfoot.com/ivo@o2w.nl/g

commit faabd163adf89bd0580cd40b8735ef8d9028a942
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 14 11:51:29 2002 +0000

    Update comments about IPv6 autoconfiguration.

commit 940fcb6701d055f49530f12c93371f0280efce80
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 13 16:12:40 2002 +0000

    Reset listen_sockets after SIGHUP.

commit 3a3adf5b690e9be1390a5df3caee6af64b25838f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 12 13:45:23 2002 +0000

    Add configuration details for NetBSD and Darwin (MacOS/X).

commit 8988b127e18435054e48cbcca8ac712ddda3d6d2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 11 11:03:17 2002 +0000

    Autoconf cleanup. Works for both 2.13 and 2.53, although running autoconf
    2.53 still gives some errors.

commit de6835a9dd1891b6435c128cc6c2293950a4d7a7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 10 15:08:23 2002 +0000

    Include darwin/device.c in distribution.

commit 40ac473cb10f9c6a59739ce70032b746d8e0bf68
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 10 14:35:18 2002 +0000

    Use darwin/device.c when compiling on MacOS/X.

commit 69b758879ee6d322e89143141b98d52167845c26
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 10 14:33:40 2002 +0000

    Added Darwin (MacOS/X) tun device handling.

commit bd72e14138185f342885c0ed1c0f2c5dbf571132
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 9 16:23:12 2002 +0000

    Added Alessandro Gatti

commit 944df3eeee50972fcac84cfc8eefb36033bf04ad
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 9 16:19:20 2002 +0000

    Include netbsd's device.c in make dist

commit 7608136a8dae24f2df30eac8644efd0d7cd57dc9
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 9 16:12:04 2002 +0000

    Include a few more header files

commit cd3601c5df57c7544ece00bf79e82b36499a26ff
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 9 15:58:05 2002 +0000

    Add /sw/{include,lib} to search paths if they exist

commit 548551fd05f58863dfbbaaf147febfab0a22889b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 9 15:50:12 2002 +0000

    getnameinfo fixes

commit 9d769e0bf2ce266e8533e5e7c16bf07e44a9be34
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 9 15:26:10 2002 +0000

    OSX support

commit 78e88521845ae3bdd963ae5a414cb9c251963fa2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 8 14:08:57 2002 +0000

    - netinet/* include files depend on netinet/in_systm.h.
    - Squash bashism in configure.in.

commit e47e51e9d17416e2b614287d14a5518881decd44
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 8 13:46:43 2002 +0000

    Use inttypes.h instead of stdint.h.

commit 116ba3b3da73fb857cf75b5c92c6aacd70d94dd9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 8 12:57:10 2002 +0000

    Cleanup:
     - Remove checks for specific OS's, instead check for #defines/#includes.
     - Use uint??_t where appropriate.
     - Mask handling functions use void pointers to get rid of silly casts.

commit d333fca4d611b85dd922ddf35bd9eddcb8095c85
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 7 11:14:05 2002 +0000

    This should work much better.

commit 14e570f5eeff631c1312b11fcc5d22230ec27aff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 5 00:25:55 2002 +0000

    Use correct includes on NetBSD.

commit 5886b6a10d0d2edf20ff53c4926ec4e41a36b8c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 5 00:20:40 2002 +0000

    Make it work correctly with NetBSD tun device.

commit 4856d8e1f8398780a49545f35ba9b5746c9fc060
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 2 16:06:33 2002 +0000

    Support RSA_PUBKEYs (as opposed to RSAPublicKeys) so tinc accepts
    public keys generated by the OpenSSL command line tools.

commit efa5148bc76effb440d807d653dda02de050fde0
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 7 14:48:41 2002 +0000

    Hm.

commit 151ab8c9708534e012447688ed44d711d5b5fa2d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 2 13:23:58 2002 +0000

    test 2

commit be04387a0c868b22ee4427822573df8b3b479bbe
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 2 13:22:44 2002 +0000

    test

commit a9bb66367df82d062175f2b9b4bf236d77ae3ff1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 2 13:11:55 2002 +0000

    Moved event.c/h

commit 474aab6325bf94724874cb74a9b56d9da739e1b8
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 2 11:52:28 2002 +0000

    Callbacks

commit 4c1a4e8a790584e4c7d5c0f2485706f4c01e1911
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 2 11:50:07 2002 +0000

    Another file moved; random interface stuff.

commit 2be8e69ca16e1558463c39c48af76d3d4a4674b7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 1 09:15:58 2002 +0000

    Only purge once when there are no more connections.

commit a77b35e748b7cf4cf7ac31750cefab7b2b0325f5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 29 20:19:42 2002 +0000

    Commit diff test

commit 7caa253df4a34e594438e3fbe80c2bddab9a2b4a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Apr 29 20:05:07 2002 +0000

    Fix very stupid bug in node_del(), which might have caused corruption of
    subnets.

commit 04d33be4bd102de67bb6dba5c449e12fea0db4d2
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 28 12:46:26 2002 +0000

    Moving files, first attempt at gcrypt compatibility, more interface
    abstraction

commit b0a676988a8da3120e64ef0e1a4ea4c28b1511e1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 28 12:43:40 2002 +0000

    *** empty log message ***

commit 67a6d7bcc4891c627663c639c0e02315bd4cf437
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Apr 27 11:40:45 2002 +0000

    Informative log message if execl() failed.

commit e6a67fc439fc3b46157647bed1af59b7519adb80
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Apr 26 18:13:00 2002 +0000

    Typo

commit 01747d73a217f7ddf2107b086476702a9d04d683
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Apr 25 19:17:24 2002 +0000

    Added Nick Patavalis for his RedHat package.

commit b6ad4ce35a4434c209ee26015f15a18180987bac
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 23 07:49:38 2002 +0000

    Add BindToAddress variable, similar to the late BindToIP.

commit 40c2e36a96a3f5c34d4851b30f3561123f3906b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Apr 19 14:06:40 2002 +0000

    Support for MaxOS/X.

commit 97d492d9e23f43fe4c8a5ca8c95747088cf32f98
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 18 20:09:05 2002 +0000

    Put #ifndef checks for HAVE_RAND_PSEUDO_BYTES in the correct places.

commit fa8faff84bbbeb818adaea80d7bf9e12e0074978
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 18:01:58 2002 +0000

    Print newline when writing to stderr

commit fbebc5b65606119c01e9e1e3fcc7b2cc4cfd1daf
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:24:25 2002 +0000

    ...

commit 7c75090025a4b06290663e0033a62414f3368f7c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:23:46 2002 +0000

    Rename libvpn to libtinc

commit 55385cacbfb0c743fc518e54854e24b7b05a623c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:23:19 2002 +0000

    Renamed libvpn to libtinc

commit 2389dcd573d909f21c8ec2d349b079075af6c7d3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:21:58 2002 +0000

    Include logging.h

commit 246ce12c92ccc7badbb8c8c9a88fa03a7de9811f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:21:01 2002 +0000

    Use new logging system

commit a5b3ec41214ac8aea9b82734f92b5953e04a0c09
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:15:43 2002 +0000

    Things to ignore...

commit e239504524589a0f1549ca174f927afd07d563ba
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:14:50 2002 +0000

    Compile in logging.c

commit e26dd564163fca001ab1694a51e7412f9ac970de
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:08:31 2002 +0000

    Use logging.h instead of syslog.h

commit 72cd8938e2c759905666ea7d2c90dc1f0b2e2cd5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 11:00:41 2002 +0000

    Added prototype for log_syslog

commit 48b80c93d30d5fae4273b0b496252bbc884abe53
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:55:42 2002 +0000

    log_default_hook was renamed to log_default

commit b63c3a1f0002675b6bedbd0b235e0ad0a708d4e3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:50:48 2002 +0000

    Added priority definitions from syslog.h

commit 490b13edcfcae0422b6bd77fdb2a7f0181b14307
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:45:56 2002 +0000

    Some magic

commit 738389581b1ba29a181f639f3d20e3e24ff546f5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:43:10 2002 +0000

    Add syslog wrapper

commit efa59f7cf4d416c8416866baeaa72cba7e936568
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:40:09 2002 +0000

    Add syslog() wrapper

commit 8822481d7b11db72d5400717d6b491b5f36bcb1f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:29:07 2002 +0000

    Rename log_message to log

commit cc603e2765f17555ecdc2b74c27ebf96e6691bf6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:25:38 2002 +0000

    New logging system to replace syslog() calls with a generic function.

commit 131327a729216de8ae86da0c3c4d65d409741b7b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:04:46 2002 +0000

    Remove debug_lvl

commit e3c51b61caabc1a55772f7a52e75aab642c200ed
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:02:48 2002 +0000

    Update copyright info

commit 9e8468f54aa5ecdb8b63c60449791427b59a474d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 13 10:02:16 2002 +0000

    Remove debug level declaration

commit 9f2c50e159caea1884c6a7aaa33f8098539ae0f5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Apr 12 08:25:01 2002 +0000

    Adding even more stuff from the CABAL branch.

commit 191dcd5add0afba8b5d3aaa1e188c562c621712e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 11 20:18:02 2002 +0000

    Also compile in pokey/

commit 39e93f473d34d6cdf6f4a7f0390a3b50cbd7b564
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 11 20:17:33 2002 +0000

    Write src/pokey/Makefile

commit c351b9e25b9f7b168a47fd8e6b60c66377e1824c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 11 14:27:35 2002 +0000

    Pokey interface definition

commit 17b308f0f0879c01f6864265af2e63595e965993
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 11 14:23:56 2002 +0000

    Main pokey interface files.

commit b5b38381c643632aa88c677236cace8c60e8344e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 16:11:48 2002 +0000

    Last bits (hopefully)

commit 77dd7b55801a3c7c2c6221664204ffdd7b83836a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 15:51:26 2002 +0000

    More...

commit 58c1df4028429ed6de4dad9455e3c92928450ffe
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 15:48:54 2002 +0000

    More updates

commit 86dc60b9808d3aac70eccda80607a91ffd2e5292
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 15:32:14 2002 +0000

    Ok, I forgot these ;)

commit af23dfa5efb82b35eb00b94bda56390c9e2aac6f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 15:28:45 2002 +0000

    Updating HEAD branch #5; Last files from CABAL.

commit 462ab530e546f5732dfd51134751da6f6910d679
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 15:26:01 2002 +0000

    Updating HEAD branch #4; Merging CABAL -> HEAD.

commit e64ef59df44d39c76c00dee22841bbcce7c24e47
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 15:07:27 2002 +0000

    Updating HEAD branch #3; more obsolete files removed.

commit db59cbfa47aa152bcfa807754189aa18f28cb569
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 14:58:14 2002 +0000

    Updating HEAD branch #2; removing debian/ dir.

commit 50f2afec7e6dab3d809fc1b82820d1069205b69b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 9 14:54:37 2002 +0000

    Updating HEAD branch #1; removing obsolete files.

commit e69d2258032362c85c5936a5c137c70227e59332
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 9 11:44:47 2002 +0000

    Remarks about 1.0pre7 release.

commit f2a3fcbdda250e5982c3ef36808568f996f8fff1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 9 11:43:45 2002 +0000

    Updated dutch translation.

commit b1322d244ff24e900f2298b8aa775d825c8ab00b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 9 11:43:29 2002 +0000

    masklength is better known as prefixlength

commit 5df8a8cb3f4a0d2290f6677b44bbcaaf27a60bbc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 9 11:42:48 2002 +0000

    masklength is better known as prefixlength.

commit 630dd023b990e076fdab890ff90783dc1ac7c13f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Apr 8 13:27:09 2002 +0000

    Automake forgets about depcomp, remind it.

commit ad6b1203490699ecc708290b2af1a45e134a5e20
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Apr 5 09:11:38 2002 +0000

    Fix maskcheck() and maskcmp().

commit d8c249008a0b2abd44e652ed70e69b3dbc05b9d8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Apr 1 21:28:39 2002 +0000

    check_rsa() is broken, I don't know why, just remove it for now.

commit 438419734ebee38dc3f7390e5c8ae8e6ca2cb6cf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Apr 1 21:28:05 2002 +0000

    Don't check_network_activity() if select() is interrupted by a signal.

commit 3d8a373bb3a788efffc555122b9d0569b96c5944
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 19:43:50 2002 +0000

    Make configure --help output look nicer.

commit 9a03e7fa3d52ea062b4a3ff88b5d87ee95d24772
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 16:26:26 2002 +0000

    Update with information about the pre6 release.

commit 33d3bad87d5f3e00e3ed81b75bca2ef21fd6e983
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 16:00:49 2002 +0000

    Update dutch translation.

commit 0fe3dc38ed0527a5cfda9218114c8ee10422086b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 16:00:38 2002 +0000

    Fix format strings.

commit 420f46acb0551a290b3263e39347b694286b2fa4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 15:47:06 2002 +0000

    Remove symlink to device.c when doing a make dist.

commit a5d8be8b1a9978d58c251d1020bb730bb1dc8ea1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 15:35:07 2002 +0000

    Recent automake uses $(AMTAR) instead of $(TAR)

commit c6d2f6c620beae387e8f9fc995ed7c8e8a5bc3dc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 15:26:44 2002 +0000

    Remove cruft.

commit efd29fde85481e080a676f2ba780a528a90a9925
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 15:26:29 2002 +0000

    Small updates.

commit 5eba1e1f6feadb3f7efb1261bd65e1e9e40b7f2b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 15:01:37 2002 +0000

    Limit the amount of packets in a queue to 8.

commit 61cb593e670107ca3041f582c5486c243d5eda9e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 15:01:16 2002 +0000

    Extend list_t with the number of elements in the list.

commit 0e7136027ce05bfeca977f2f64f3b228ea4fda87
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Mar 27 14:02:36 2002 +0000

    Merge do_prune() with build_fdset(). Probably fixes the invalid filedescriptor error.

commit e2238047d39eacc69da5732937021c38171ec7b9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 26 13:19:56 2002 +0000

    Small correction.

commit 7d07df71f9b82afdcf23494867bb8899198a6223
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 26 12:00:38 2002 +0000

    Fix execute_script().

commit 2de5e0eef911b9ff723d562ef9c62d833f3cdc45
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 25 15:51:58 2002 +0000

    Send REQ_KEY only once until ANS_KEY has arrived.

commit a0c1696515fabd2183da7d8d83fd68410d2ec834
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 25 15:12:09 2002 +0000

    Tell a little bit more about security.

commit 89a2f761a6d8ae4912c2dd2e9178589001487ef5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 25 15:01:32 2002 +0000

    Updated documentation.

commit 33d8747021d57c5827c6a755739756f95c7527c8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 25 13:54:49 2002 +0000

    Set myself->status.reachable.

commit 2749b997df33749f13d05e294db0e1e327e81d12
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 24 17:14:01 2002 +0000

    Configuration variables were still handled case sensitively.

commit c73bdd6bc8e213b7e27848b97307228c01570a1d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 24 17:08:38 2002 +0000

    OpenBSD tun device uses address family number instead of Ethernet type.

commit 8379c14b7f7a9b1400dd3776fc21dc9ccddd991d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 24 16:50:58 2002 +0000

    Respect type field.

commit ad4f5cbc5fbce23893b7d42669ba907f18cc8ff4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 24 16:40:14 2002 +0000

    Updated dutch translation.

commit 4252ae83a43ea81382ce71ba614e2d1655f2e189
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 24 16:36:56 2002 +0000

    Set $INTERFACE correctly when using ethertap while compiled with tun/tap support.

commit d699f3079c658e05f928c358d110d1d27849ea71
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 24 16:28:27 2002 +0000

    Execute hosts/name-up when a node becomes reachable, and hosts/name-down
    when it becomes unreachable.

commit 6ad5dd1a9adb1c1322ceb44d6f0fd160229e72ff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 24 16:22:59 2002 +0000

    Don't try to execute scripts unless they exist.

commit 594d5b5d15551bd802c43926c7cb8863b7531654
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 23 20:21:10 2002 +0000

    Reset retry timeout when receiving the first PONG, not right after receiving the ACK.

commit cbd8133ab4a2ea8a0c46224a5f1ae79e92819e5f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 23 20:13:56 2002 +0000

    Don't run graph algorithms if no edge is deleted in terminate_connection().

commit 6aee1ad021092d37538e15da22367789a4d4a763
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 23 20:12:29 2002 +0000

    free() request strings when deleting past requests from the tree.

commit ccea26e0044ea59a9722385c9d69b1bc703e884f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Mar 23 20:01:05 2002 +0000

    send_ack() was broken.

commit 3c5655f59e85d312d11fa04489123e604920f95b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 22 13:31:18 2002 +0000

    Fix compiler warnings, strictly use long int and %lx for options.

commit d6b70ed6f8b7ed65f64193fcfcdb6c8f4625e03c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 22 12:41:54 2002 +0000

    Fix add_edge_h().

commit 52e7699273a3009fe4d91e608522401076922785
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 22 11:43:48 2002 +0000

    - Added support for jumbograms.
    - Remove tcpaddress from edges, it is not used at all.
    - Last bits of code to prevent looping requests.

commit 9da5390666ad532825d820b3554da3f39d3bc511
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Mar 21 23:11:53 2002 +0000

    Put a break on requests that run around in circles.

commit f48f8f4fedba365ceea30e1133bf1c560e9a522a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 19 22:48:25 2002 +0000

    Updated SSSP algorithm to automatically detect indirect links (if a node uses
    different addresses for connections to other nodes).

commit 5a88a27742d305be48498a297b90ee3fbdd935bf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 19 00:08:34 2002 +0000

    Updated dutch translation.

commit 5c2d74de86d1acb3774a20357ad815d000f8a7f6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 19 00:08:23 2002 +0000

    Don't use s6_addr[16|32] anymore.

commit 9d99a789c38e8a1694537e427e8d4313c948b02b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 19 00:07:09 2002 +0000

    Cleanup.

commit 305505f5ec4bb738f175cd897fa409f08d2971a3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 18 22:47:20 2002 +0000

    Remember sockaddrs of listening sockets, use appropriate one when sending
    UDP packets.

commit 106fc2b769a635142bf5f9233a2f03e3a0f26b7f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 18 14:39:37 2002 +0000

    Fix #define s6_addr32.

commit 813c369a8faca94fc38bc66afafad063fa00f928
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 18 14:19:02 2002 +0000

    #define s6_addr32, needed for FreeBSD.

commit b2579385de427c3c03d28520d3a93bd5f9bc9488
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 17 16:08:39 2002 +0000

    Only unmap IPv6 addresses.

commit 8b84c44175fedb81ca38107e0067ddea750add00
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 17 15:59:29 2002 +0000

    Unmap v4mapped sockaddrs.

commit 07e37f8da03fa315be39623e62d8acba617aa226
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 15 15:50:14 2002 +0000

    Typo.

commit e0dee537705cdbd005f6ab1fbef5ac71dc8411c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 15 15:40:40 2002 +0000

    Different way of detecting neighbor solicitation requests.

commit 0e93f0aa02274481c16fc9f30b795d4f063bd1c3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 15 15:08:21 2002 +0000

    Oops, don't forget to actually put the checksum in the response packet.

commit e1de9ca990ea638c7e297c5335be415e44c250c1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 15 14:41:57 2002 +0000

    Neighbor solicitation requests now work (I think).

commit 4b3aef9e6992ca78f1b17b179a3051d3fec0473d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 12 16:30:15 2002 +0000

    Revert changes to Kruskal's algo.

commit f219f156cf13fd30369d7cd4632c406ffd6ff628
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 12 14:25:04 2002 +0000

    Put #ifdef NEIGHBORSOL around corresponding code.

commit ecad9e9289162faec7b678be54178d22876b5d90
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 12 14:20:44 2002 +0000

    Remove silly cache thingy.

commit d6c2c4f2b7a94ef6a4db0de134d015bc8d21ffb1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 12 14:19:51 2002 +0000

    Packet sequence number/authentication warnings only if debug_lvl >= 5.

commit 2e7db2a6936a77baa0a81eb566674bd76d204951
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 12 13:42:23 2002 +0000

    Simplified implementation of Kruskal's minimum spanning tree algorithm.

commit d2e0ed533c8aa3c6ab538d87e004108c631cb0be
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 11 13:56:00 2002 +0000

    New strategy: forward icmp6 neighbor solicitations to intended target.

commit 46fa10cec7b6bf26773f5e86e7b8118d9075e807
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 11 13:14:53 2002 +0000

    Try to reply to neighbor solicitation requests.

commit c2713ba7a5ff12e270d66a5d3188a3640873830e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 11 11:45:12 2002 +0000

    prune_connections() before build_fdset().

commit 4fda4560bbdd41e217ce0e1a90ba98c79e4f3519
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 11 11:23:04 2002 +0000

    Cleanups, spelling fixes, allow symbol names for signals (-k option),
    don't remove pidfile if other tincd is still running.

commit 5ffeb13d65313d5a191a605690a4f8fdf1604b48
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 10 16:09:15 2002 +0000

    Don't retry to make outgoing connections when exitting.

commit 3cbe67a8de1da7bd042474de4d16cb4f7e9822ab
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 10 15:40:27 2002 +0000

    Small fixes to improve portability.

commit 9de7470bfdabacec5f3769bf5cfa97ef4e481ba0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 10 14:07:08 2002 +0000

    Autodetect $MAKE/gmake/make.

commit 0c34478cc03167208c84f3d6d2ed6e53172b4711
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 10 14:05:35 2002 +0000

    po/POTFILES and po/Makefile should not be generated by configure.

commit 024ab44d98883d78cefe2c622cec9831c7f19c13
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 10 14:04:48 2002 +0000

    Fix forwarding of IPv6 packets.

commit 0c16add71c6432c882c6d8f538a4b2db0026ec24
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 15:14:29 2002 +0000

    Check if BindToDevice and PriorityInheritance are supported.

commit 7d5741859e681e6b0d0e32b978da6f309c456729
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 14:33:48 2002 +0000

    Woops.

commit ab90fa9bd1a653a330be7ef11293000721a0e7b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 14:25:10 2002 +0000

    Document and clean up MAC address expiry.

commit 14979f835df4214a7c2510852f7ffedc9e08c2c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 14:09:31 2002 +0000

    - Global time_t now, so that we don't have to call time() too often.
    - MAC addresses expire after a time configurable by MACExpire (default 600
      seconds)

commit 7496ecc45ab6205bcce4e576c23b9afb52004e39
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 13:38:15 2002 +0000

    Updated dutch translation.

commit 0c879b8eeed3477b0f1cdd2f232e67e38bd9bce6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 13:38:02 2002 +0000

    Updated documentation.

commit f93b1334e087dd7af1b87f475b2d398fdd4d56ab
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 13:18:54 2002 +0000

    Create/bind TCP and UDP listening sockets in pairs.

commit c2b738e7b51fbec2b11fbbf030b9a5a36df55fc4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 12:26:56 2002 +0000

    If "PriorityInheritance = yes" is specified in tinc.conf, the value of the
    TOS field of the tunneled packets will be passed on to the UDP packets tinc
    sends out.

commit 80ea653e8d8050878380fbc1446571cbaf578297
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 12:25:58 2002 +0000

    Fix listening sockets.

commit 7f58ed7685f9fcd5271359a8c896670a835e1f95
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 1 11:18:34 2002 +0000

    Make BindToInterface work.

commit 17bc5220c332fdd083fd47fc600010f85171adc7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 27 22:37:55 2002 +0000

    Fix send_request() bug.

commit 50403909b6bf6536924d4693bb1f32c248f17fda
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 26 23:26:41 2002 +0000

    Allow multiple listening sockets.

commit 2ac7be0d51a112108dc6c2b1c6f46da022f72f40
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 26 22:47:51 2002 +0000

    Tweaking IPv6 support.

commit 23fda5688e8a109f8a50511538b14e4fbe4f738c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 22:37:38 2002 +0000

    - Change SA_LEN to SALEN, former one is already defined on some platforms.
    - Use SALEN everywhere appropriate.

commit dbc5b5bb5eb3096ad930aa6b590deaba2a103dfc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 22:15:32 2002 +0000

    - Use gai_strerror() where appropriate
    - Clear hints before using them with getaddrinfo()
    - Use sa_len on platforms that support them

commit 28cc9a6488f78c72152251f6fa2ee84d417223e8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 19:31:15 2002 +0000

    Preserve inpkt->len, needed for broadcasts.

commit c6d01588312bec7691e72b42cf20c59ffe2749c2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 19:25:09 2002 +0000

    Protocol now also exchanges cipher/digest/maclength/compression for the
    meta connection.

commit 626d5956d2bb0660ba315fba77da6cec9776fd3b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 17:16:15 2002 +0000

    Cache results of lookup_subnet_...().

commit e8e69460a7090aaf6ecda8970d3060695de81b00
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 17:15:33 2002 +0000

    Fix maskcmp() and maskcpy().

commit ed509312906625acee4007da6262de3898846888
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 16:04:59 2002 +0000

    Forward packets in router mode.

commit 8c91fac31570594b6249d632cefe768f33c54b19
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 16:04:39 2002 +0000

    Use AF_UNSPEC for listening sockets if AddressFamily = any.

commit 76f01453dfa157b0070751b1025e55a1e36ebdca
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Feb 20 16:04:07 2002 +0000

    Fix segfault when receiving HUP signal.

commit c2b9c06062d36bde859b630b99a08c7b7428e721
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 18 16:25:19 2002 +0000

    - Non-blocking connect()s.
    - Socket handling revamped to use sockaddr_t.
    - tinc can now tunnel over IPv6.
    - Handle all addresses and subnets in network byte order.
      Only convert them when they need to be printed.
    - IPv6 subnets bigger than /128 now work.
    - Use %s and strerror(errno) instead of %m.

commit fc674eaae14ed2e07abc0df1285b1bd70e0d27cc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 12 14:42:37 2002 +0000

    Add check for NetBSD.

commit 2fb8a62edef7cb0988e44f92c3948cde6f34875e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 12 14:40:12 2002 +0000

    Added device.c for NetBSD, actually a copy of the OpenBSD one.

commit f64b41a73b3b432aae17ba990414e0be2f61ce62
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 12 14:36:45 2002 +0000

    Get rid of sys/signal.h.

commit dd611fb4f91b9b17c20c458694d2765b22814c5f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 12 14:29:00 2002 +0000

    Don't use sa_sigaction (which NetBSD doesn't like) at all if we don't use siginfo.

commit d9a62c6354d1e2ad78ee8c610518ae9f9ab012d1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 11 15:59:18 2002 +0000

    Added support for packet compression, thanks to Mark Glines.
    Add "Compression = <level>" to the host config files, where level can be
    0 (off), or any integer between 1 (fast) and 9 (best).

commit 94b171b3051b999e619ae19e1c9c29d356606788
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 11 14:20:46 2002 +0000

    Small fix.

commit 1708997bc8ab55122f9de9cc8b81397d3a003ea9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 11 14:20:21 2002 +0000

    - If no PrivateKeyFile is specified, /etc/tinc/netname/rsa_key.priv is assumed.
    - Check RSA key before using it.

commit 1c34ba7fb8580949f3bd3a0d804747bbaea28e36
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 11 12:33:01 2002 +0000

    Sensible defaults for $INTERFACE.

commit 24cc2a9065a4e962fb05addac47322930099a4b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 11 10:16:18 2002 +0000

    Last bits of the merger.

commit 5bf4b88666ecafe190e8ed71d6c14c9de8d16e1f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 11 10:05:58 2002 +0000

    Forgot to merge new files from pre5.

commit f0aa9641e82fb6e09c1e485366d14dddaa7f7c36
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 10 21:57:54 2002 +0000

    Merging of the entire pre5 branch.

commit c2752b961c9262386b940c2c053b9909bee22859
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 22:41:38 2001 +0000

    Conversion to struct addrinfo is almost complete for this file.

commit 4f47da5b87ef7da608c7e44026122f3d95deb2eb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 22:40:26 2001 +0000

    Don't include netutl.h.

commit a59bbc72317c9cd97243a9cbf49db01ff249eb1e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 22:31:41 2001 +0000

    Fixed silly typo: "np" instead of "no"

commit bf664c054fdabc30679367a752a27bb769655e4d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 22:31:15 2001 +0000

    get_config_subnet needs to be fixed.

commit 9b2b3747340173590b8f6f5fbdd060b42985f026
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 17:40:50 2001 +0000

    route_ipv4 and route_ipv6 replaced by route_ip.

commit a4938b22e7502579ce44cac42410111db11256eb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 17:39:59 2001 +0000

    Don't include netutl.h.

commit ccda709f8243949a3c0ffcc6133d8d8fc5125f2e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 17:39:38 2001 +0000

    lookup_node_udp changed.

commit 836766d4c5bc47682ab69c57337157c879517670
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 17:38:39 2001 +0000

    First part of rewriting things to use struct addrinfo.

commit 2ec5b5f8621d9fb91181ab155084daa1bb2d1a54
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 17:37:08 2001 +0000

    Added dropin replacements for get*info and helper functions.

commit aabe59f6305cdd46220e95d8927a1636d4b4819d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 16:16:33 2001 +0000

    Added HAVE_STRUCT_ADDRINFO

commit 251f87c842b62cf770129d8a953fb06ef5d0e466
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 15:56:44 2001 +0000

    (re)added port to struct node_t

commit 6cf744e4b29cfe3b135b6553851816802ba3d8a8
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:22:02 2001 +0000

    Don't include netutl.h.

commit a79252af4383b8cd71cf0d13f1ae040d518517bf
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:21:22 2001 +0000

    Obsoleted.

commit 331d9402e892b4baa9cadbbb364073ae10b58d99
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:16:28 2001 +0000

    Don't compile/link netutl.c.

commit f95e6ca8f6976d7a15f4623e25c85e1c7f82c04b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:14:20 2001 +0000

    get_config_{ip,port} removed.

commit 31db57bb4a00f5ca3743b89f8bb2fbd39919bf28
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:13:34 2001 +0000

    Changed to use struct addrinfo where needed.

commit f1b20b3ded5b360e426e094cf79df3bf97f350b4
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:10:54 2001 +0000

    Obsoleted all IP<x> types in favor of struct addrinfo

commit fb6dc0b0890ebae2471e00e7a3e1d86c1fc3d646
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:08:38 2001 +0000

    Removed definitions of ipv4_t, ipv6_t, port_t

commit 3ef15f2554d1819d6c7d2573dac6039f2e76b638
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:02:17 2001 +0000

    Changed lookup_connection to use struct addrinfo

commit 74e1299fb58025f7506c7e2608c353a76f98d8df
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 12:01:48 2001 +0000

    Changed prototype for lookup_connection to use struct addrinfo

commit 51b72b75f254c956b62be9dfca642145b199415f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 00:23:28 2001 +0000

    Use struct addrinfo in connection_t to hold all host data such as IP
    address and port

commit 72395f989cb44132d7c756c91b3a6d8ba63517e5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 16 00:13:08 2001 +0000

    Deprecated get_config_ip and get_config_port

commit 93cd0e33defba46f8e51d9a98a94599ceb0d521c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 15 23:49:46 2001 +0000

    Check for struct addrinfo

commit b16bf68a6dc27b364cb76156a7be0208594f1e94
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 15 23:28:58 2001 +0000

    Credit OpenSSH

commit 18269cfbe831902b97a6171ba0346fd323583e48
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 15 23:26:27 2001 +0000

    Check for getnameinfo, gai_strerror, freeaddrinfo

commit ae11e7c3d71893c5200b12682839538a52df37b8
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 15 23:05:34 2001 +0000

    Check for getaddrinfo

commit e06415e3d9d08cd33c5983a2c49c4101377160c2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 5 19:09:08 2001 +0000

    More fixes for Solaris.

commit 25a804c94ef0dbc4e5582ea6d8459d5f9a3fe06c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 5 19:06:07 2001 +0000

    Various fixes needed for Solaris.

commit b2d5002ff1ccd44fbf3a94e4c41909ab6141f3bb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 4 23:48:27 2001 +0000

    Correctly check if subnet owner exists.

commit ede6671c1354eeab86936efda32f6cdb3b3fd8d5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 4 23:29:50 2001 +0000

    Be liberal in what you accept: allow unknown edges to be deleted.

commit cf0e133e191cb40954bf5b6ee0a579442fe4b60b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 3 22:53:02 2001 +0000

    *** empty log message ***

commit e5047d2835f0828a9c334cc3d928c2322abfefb7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 3 21:22:02 2001 +0000

    Several bugfixes.

commit 8910cbd67e13450e93816ecafa0cc5be5e4c2378
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 3 21:21:04 2001 +0000

    Use PEM functions as suggested by OpenSSL docs.

commit 8e74c5bee48f2ef363193044d5309a65e91c70d8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 31 20:37:54 2001 +0000

    Some very small fixes

commit ffb88ff6410f33de92db108bd1e0c3a915368214
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 31 20:22:52 2001 +0000

    Avoid connecting to another node twice, and check name of outgoing connections.

commit 6d333ad680465c26953ad4c8ca9140e27da868c5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 31 20:07:17 2001 +0000

    Show cfg->variable instead of cfg->value when complaining about wrong type.

commit 54b756f7dfb71c5622b7738fd449e126da959864
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 31 20:02:06 2001 +0000

    Don't forget to read public RSA key when making an outgoing connection.

commit c0a3f67a5d66088aaf526f1461986f9e86d5dd1f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 31 12:50:24 2001 +0000

    - Small fixes to graph algorithms
    - More control over tap device, ability to set interface name to something
      other than the netname.
    - Export NETNAME, DEVICE and INTERFACE environment variables to scripts.

commit 2165931c62f0433fd97bd3ac6aefea3627218946
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 30 16:34:32 2001 +0000

    More updates to protocol handlers and reimplemented terminate_connection().

commit 87ad5c97a9a73a65050ad7adce34503f856d8665
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 30 12:59:12 2001 +0000

    Various fixes, tinc is now somewhat capable of actually working again.

commit cc9473d8c6467e9eaa82fe8a639d8edba232ee76
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 29 13:14:57 2001 +0000

    Working version of Kruskal's algorithm. The running time is very bad though.

commit b6298e2c082035b8238ea08673ced15d0fb7b89a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 28 22:42:49 2001 +0000

    - More changes needed for Kruskal's algorithm
    - Implemented a breadth-first search algorithm as a cheap substitution for a
      single-source shortest path algorithm.

commit 66067cc9c1347fb2de35660d531fdd4be8aede6a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 28 10:16:18 2001 +0000

    - More s/vertex/edge/g
    - Implementation of Kruskal's minimum spanning tree algorithm.

commit 94497336efc1cc60561575e74d420e9e8e8c657e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 28 08:41:19 2001 +0000

    What was I thinking? s/vertex/edge/g.

commit b98d9787fdde54f33dcdb376e1e018cd418aff8d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 27 15:19:13 2001 +0000

    Various small fixes to make tinc runnable again.

commit ac066bb057dcb187bf91670793ba5e6ca456e052
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 27 13:13:35 2001 +0000

    Make sure everything links.

commit 82e383710980534d38bb9a8ef22f20677cd85861
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 27 12:13:17 2001 +0000

    Big bad commit:
    - Transition to new node/vertex/connection structures
    - Use new configuration handling everywhere
    - Linux tun/tap device handling cleanup
    - Start of IPv6 support in route.c
    
    It compiles, but it won't link.

commit 1935c44a1e8ab7c31c836f90215e3c5b5f8dd776
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 13 13:53:07 2001 +0000

    Support new files (node/vertex/device.[ch]) and OpenBSD.

commit 26e517dd37e995fe9db518f7ebeff023fc73ff1b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 12 15:52:03 2001 +0000

    Forgot the tun specific stuff.

commit ad61c20f42d2bee5cc7976bec4370cf4747b42c3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 12 15:49:11 2001 +0000

    Added OpenBSD tun device handling. Untested though.

commit 0c6321a67f92981d3adbaf4f5c2b9867c7968964
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 12 15:38:35 2001 +0000

    Forgot to remove some old #ifdef stuff.

commit 6014c7e6374089bfccea7467c2c7f4b23fefa265
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 12 15:33:21 2001 +0000

    Solaris tun device handling cleaned up a bit and added.

commit 623c7ee0308aede8eada552d6ae33710ae24d176
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 12 15:22:59 2001 +0000

    Added FreeBSD tap device handling.

commit ec34f25228d7a0007ce6bcb1e97f263868e9129d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 12 15:16:03 2001 +0000

    - Split tap device stuff out of net.[ch]
    - Each OS gets it's own device.c to get rid of evil #ifdefs.
    - Cleaned up Linux ethertap and tun/tap handling.

commit 0bbace18e96cd6fc32dfa23ffd55f73ff96e8c6f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 10 20:35:10 2001 +0000

    More updates to new node/vertex/connection combo.

commit ea607d2d9292d3969f9d164b432dc64a33c2dade
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 10 20:34:27 2001 +0000

    Revamp configuration handling:
    - Store everything in AVL trees (fast lookup)
    - No need for hazahaza anymore
    - Parse values when needed
    - This simplifies a lot of config variable lookups.

commit 5904806dc80830d4eddca857a41db2fc25598201
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 10 09:42:29 2001 +0000

    Removed everything from connection.c that has already been moved to node.c and
    vertex.c.

commit ec0c16b9b63f361b11a757ee1641d562e4811f93
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 10 08:49:47 2001 +0000

    Further implementation of doc/CONNECTIVITY. connection.[ch] is now split into a
    node, vertex and connection part.

commit 75e1ae3a287642ca4281792c94ecd07332f39c08
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Tue Oct 9 19:41:56 2001 +0000

    make is not always GNU make.

commit f22b9417510cca258785f8958c8dfed90e26d81b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 9 19:37:10 2001 +0000

    Small corrections.

commit 49a2cd806c73cff1ab6a712a996c7f7d4e1f32c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 9 19:30:30 2001 +0000

    Started implementing doc/CONNECTIVITY.

commit 5926c82b9a29031a8c619432869d1549b51b62a0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 8 15:47:30 2001 +0000

    Updated dutch translation.

commit fcc3ded75fe9f831aeb8678ee5e3926bf4168906
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 8 15:37:14 2001 +0000

    Fix bug when dropping an old connection in favour of a new one from the
    same host.

commit 1ef90a87fd9fd53c25a43455ffaac5274a63dc08
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 8 13:37:30 2001 +0000

    - Use ping timeout mechanism to close connections that don't authenticate
      in time.
    - Fix potential segmentation fault in check_dead_connections().

commit ce9fd32c04adf83cbaf668ee42a29575ba256002
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 8 11:59:08 2001 +0000

    Fix bug where tinc would crash because of a portscan or a connection from a
    tinc daemon with a different version.

commit 21027b1d5702c331b1ebb262bb149c75be1f24b1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 8 11:47:55 2001 +0000

    - Renamed lastbutonehop to prevhop.
    - Added connection_t *via to connection_t, this keeps record of where
      to send UDP packets to.

commit 18d1233c40a5705e9123edd6f4c6764a5178003b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 25 13:39:11 2001 +0000

    Fill in next- and lastbutonehop for myself.

commit ec100a58b44e412a3d2606e5213af9ec5f30235b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 25 13:35:45 2001 +0000

    Try next connectto instead of the same over and over.

commit 4d3de3b6a9b55bc783c649ff33e5415b0c7b5f25
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 24 14:16:29 2001 +0000

    Show next- and lastbutonehop when dumping connectionlist to syslog.

commit 24a2c7e51a0b080c4bdb55f697b3f0458ebc3fb1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 24 14:12:00 2001 +0000

    Not only keep track of nexthop, but also of lastbutonehop. If destination cl
    wants indirectdata, send it to the lastbutonehop instead, unless it too has
    requested so, and so on.

commit 154733927af0b27cdadb83f03b845301ce8bfbfd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 24 13:31:15 2001 +0000

    - Try old TUN/TAP ioctl() request if the one from if_tun.h fails.
    - Be more verbose about the kind of tap device used.

commit 950c934e0bda28e5952d699d6008ee783d81982b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Sep 5 18:38:09 2001 +0000

    Killing tincd with SIGINT causes it to toggle between the current
    debug level and level 5.  Useful to debug a running tincd.

commit a54ec980e047d13ecff7f1f337aa2665072febfd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 1 12:46:49 2001 +0000

    config_t* is a const parameter in get_config_val().

commit 68e23b1c9e69b2a218b3be821ad1ba3b3b6a64f2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 1 12:36:53 2001 +0000

    Optional signal number for -k option.

commit 8ed27d40f358581d021319cc26313c9f6ddf9a71
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 1 12:36:06 2001 +0000

    Revised reconnection mechanism, always try out all ConnectTo lines.

commit ef1facc60709e9474197aa3fde9d517dfd96dc87
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Sep 1 12:02:39 2001 +0000

    Remove IndirectData support for now, new implementation will be added
    later.

commit 8b5e4211304aaa5d39bc95f04398bd5ecaa887d8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 28 20:52:39 2001 +0000

    Fix signed comparison bug in lookup_subnet_ipv4().

commit e1184ad15d6b2e7d58bdcb4489026dd0a35b4e5f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 17 18:14:04 2001 +0000

    Don't send DEL_HOSTs when !status.meta

commit 30d22474ccc8da9a5685a90e0b2304ec627475af
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 24 20:14:30 2001 +0000

    Explicitly log which type of tunnel device is used.

commit 7e86cf91e3399905e19882bcf2d5677d7986aca5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 24 20:13:42 2001 +0000

    The val variable in a config_t is never used as a long.

commit 43923d2b106bfbe9300cc8e364cf098444cd649e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 24 20:04:22 2001 +0000

    Write public key to rsa_key.pub instead of rsa_key.priv (if not host
    configuration file is found).

commit 44e9d6a2872fac55f7eb701ba576ed9f39a22e08
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 24 20:03:40 2001 +0000

    Don't use %m in fprintf().

commit cbd03caece25d45015a4526b94b04a34ab87b0f2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jul 24 08:51:36 2001 +0000

    More on edges.

commit 3cd238f4e338f257ff61d58a9979b54344ee462f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jul 23 22:06:22 2001 +0000

    Discuss how sending ADD_EDGEs would be better than sending ADD_HOSTs.

commit 5333cada0dfc4dfc3be728e6c78d8d42dc2ace52
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 22 17:41:52 2001 +0000

    Written down a possible solution.

commit 995ab86fce506e9fabcf5a9ead7d43b30f12ab09
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 22 15:25:13 2001 +0000

    Correctie.

commit d7b4de0e73baf664964f6daaf63526606b6a890b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 22 14:58:18 2001 +0000

    Small update.

commit 71b9041f484128219f81cbf4f22a4e11388f879d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 22 14:46:11 2001 +0000

    Described problem in more detail.

commit c1a98cd37ea20f6020487b2a5586e6de432398e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 22 14:04:38 2001 +0000

    Started writing a document about how daemons connect to each other.

commit fcbe215d64d7e2f3b159fff6422d750417877ac4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 21 20:21:25 2001 +0000

    Woohoo! tinc now compiles, runs and actually *works* on Solaris!
    Tested on a SparcStation 20MP running Solaris 7. (Thanks, jiggel!)

commit 533ee1206fb6433a1f0e616db999b3655addfaf2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 21 15:46:34 2001 +0000

    Always close all sockets in terminate_connection().

commit acb853205d6d582d919c59879393b301ad4f4fde
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 21 15:34:18 2001 +0000

    Updated terminate_connection() so you can choose if DEL_HOSTs should be
    sent or not.

commit 12f6b80429bc05a828051d72cc46f173e4657180
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 20 20:25:10 2001 +0000

    Added purge_tree for connection_t's which are no longer in the connection,
    active or id trees, but which may still be referenced. This tree is flushed
    when it is safe, this replaces purge_connection_tree().
    
    Also lots of bugfixes related to the new trees.

commit 37ed4265fa73d4c06c74362514d78c92029b2f05
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jul 20 13:54:19 2001 +0000

    Remove all unnecessary status.meta and status.active checks.

commit 5e2ded68bfc7b3a1bfa600c1ce46144eb50e57a2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jul 19 12:29:40 2001 +0000

    Correctly use the active_tree.

commit 319e0cb48eb00565a11c85b901f54141f8160334
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 15 18:07:31 2001 +0000

    Split connection list into two lists:
     - one list to handle all incoming/outgoing TCP connections
     - another list to handle all UDP connections
    
    This will prevent race conditions.

commit b3074590b184c141419cf4926820dc0d78380535
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 15 14:21:12 2001 +0000

    Correct inclusion of standard if_tun.h header file.

commit 5dc4ade0b9c127a3c144d9c59894bf13527fe060
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 4 08:43:32 2001 +0000

    Don't load table of verbose OpenSSL errormessages.

commit 1e2bdc2b6d28c76c63fc9fd36169b90fa0994388
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jul 4 08:41:36 2001 +0000

    - Always use <openssl/include.h> instead of just <include.h>
    - Check if RAND_pseudo_bytes() exists, otherwise just use RAND_bytes()

commit 6bd93e4c064578b545cb6dcaa28fffb229c929ff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 1 21:42:13 2001 +0000

    Check for all potential duplicate entries in the id tree.

commit 9645cabc8e8364ed4df187fab8065b0991afa6af
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 1 09:21:14 2001 +0000

    Fix compiler warning.

commit 6365d0627b9b1e9a31371ec891db0d2cfb4d6ed4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 1 09:21:01 2001 +0000

    Fix printf format bug.

commit 33d6de0cd5c05cbf37211924a45e4231fec3a416
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 1 09:06:17 2001 +0000

    More items marked as done.

commit a111593a082ff1df26f54168ab00f83ab3a1ab49
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 15:38:40 2001 +0000

    Dutch translation updated.

commit 748dabdbe93f7439ed7eddf491a556279250e7ac
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 15:33:18 2001 +0000

    Update of RedHat build scripts.

commit 343c8fb6388ffd4f5c41cebd666aa8a045b20bdd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 15:32:26 2001 +0000

    It appears that autogen.sh doesn't like es.po if it isn't mentioned in
    the makefile/configure scripts.

commit 9391efe4e88077723840a7c085388ba2765ca17c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 14:15:46 2001 +0000

    Check for dlopen in standard libraries first (needed for DEC OSF).

commit c9591bd1de1abcfe10459bd8c8cdd81a7b441ec0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 13:09:55 2001 +0000

    Fix gcc 3.0 warnings.

commit 402b85c48284a06fbfc56aca102b33be3a4260b0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 13:09:32 2001 +0000

    Log error if two hosts connect with same IP/port tuple.

commit 0d3bd912acdb00dc0a8015e337f981c942aa21bc
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 11:09:13 2001 +0000

    Also remove po/Makefile.in.in, which is generated by autogen.sh.

commit 67c16924c10b25d37957843a69d993b934dd1776
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 11:03:27 2001 +0000

    es.po revived.

commit 5d3450357482176ce92ed4832ec944519d197744
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 10:30:18 2001 +0000

    Execute tinc-down BEFORE tap device is closed. This is a. more symmetric
    (tinc-up is started after tap device is opened) and b. is needed for
    tun/tap device, where the interface does not exist anymore after the
    device file is closed.

commit 6666acd0012c82c0bb4d1abae87332cec3dda77a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 10:27:57 2001 +0000

    Don't build Spanish translation.

commit 77f635e871060f63c3e62fcf879d184326c690a4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 10:27:33 2001 +0000

    ABOUT-NLS is created by autogen.sh.

commit 333be8fbb8790237577761e580126a6d757a46e4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 29 10:23:46 2001 +0000

    Spanish translation removed. Nobody maintains it, and it is severely
    outdated.

commit 3503ba995012f658f087a196dad0cb9fd45eff3b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Jun 26 22:00:57 2001 +0000

    Small fix to make it compile again

commit 7fc068fe5421f7ec556b0b7db6f814e18b3326a4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 21 18:28:52 2001 +0000

    Reinstated search for if_tun.h in kernel source tree, because apparently
    /usr/include/linux does not always have the same contents as the include
    files from the currently running kernel.

commit 9e96840da810437c45af1c4b139578f7d74d65db
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 21 16:37:47 2001 +0000

    Remove #warnings I used for debugging stuff.

commit b1e97ece9c495ac67e54b8c2675b1eacc645eb1c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 21 16:37:05 2001 +0000

    Check for and add -ldl.

commit 04ec0b82ab9c6a2662300a9257a5aff1c4dd56e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 21 16:16:32 2001 +0000

    - Solaris compile fixes
    - Set mymac to broadcast MAC so that ifconfig hw ether <...> is really not
      needed anymore.
    - Forwarding of indirect packets when in switch mode (because the kernel
      will not do it for us then).

commit 353a9230bb70b70028f2dc6c651a28e30b13dc63
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jun 20 21:32:40 2001 +0000

    Don't include the debian/ dir in a release

commit 9a0a50cd3cf2570b39e00edf1a92123acbac41b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 9 10:00:34 2001 +0000

    Woops - big bug in send_key_changed fixed.

commit ba918dce287788aaf6a90b3c7a9f349b197068d6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 8 18:02:10 2001 +0000

    Only reset seconds_till_retry when we activate the outgoing connection.

commit c5c02a0861bf540e07fe64704cb97aae29c4cacf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 7 07:51:04 2001 +0000

    Changed drastically because it didn't work correctly:
    - Don't cache the --with-openssl-* option arguments
    - Only search for openssl/*.h, the openssl include files include other
      files only from an openssl/ directory too
    - Set CPPFLAGS before AC_CHECK_HEADERS

commit 053e78654097cf353aa59b4d34e608726edd5dad
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 7 07:48:11 2001 +0000

    Save configure cache more often.

commit 96ef7becdd71fc63c3489e3696117c1f137eade5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 6 19:12:38 2001 +0000

    Fixes to make switching work between hosts that have no meta-connection.

commit ce6c8e6d089abac81520c517185c6ef81b09f051
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 6 19:11:16 2001 +0000

    Log and warn about duplicate subnet_add()'s for the same subnet.

commit 9cd9b0392388e24ade19a43206221081b61806e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 5 19:45:47 2001 +0000

    Add missing? counting of total_socket_in.

commit 7bd7f5b4363f222340e5c058c243d31c576fba88
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 5 19:39:54 2001 +0000

    You can now put an option "Mode" in tinc.conf, and choose from:
    
    - Mode = router (default, work like tinc has always worked)
    - Mode = switch (work like a switch)
    - Mode = hub    (work like a hub, broadcasting everything)

commit edd6734faa37d043b8a2cc75b125db3b1c2130fa
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 5 18:07:14 2001 +0000

    Fix bug where lookup_subnet_ipv4() could go into an infinite loop.

commit fa376fbd4e5151ae43e86441a1e99073eeaf46a5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 5 16:31:59 2001 +0000

    - This oneliner removes the need for ifconfig tap? hw ether fe:fd:0:0:0:0

commit 7a736d47b264065371f35cd9da64485d798cbc80
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 5 16:15:48 2001 +0000

    Updated dutch translation.

commit 92924e8482f000eb33130ce9feadc08450ff349d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 5 16:13:41 2001 +0000

    Changed some stuff to allow correct generation of po/Makefile after a
    make cvs-clean.

commit 4f9dad0972ac0f665a1b6050b059bd52f93e6221
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 5 16:09:55 2001 +0000

    - tinc can now act as a switch or a hub too (as opposed to a router only)
    - cleaner initialisation of "UNKNOWN" and "MYSELF" names

commit 428482d86f860d1fb09de722c1b6576ec2eef1ce
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 4 11:14:35 2001 +0000

    Added proxy-arp support. No more ifconfig -arp needed. Works like a charm
    under FreeBSD now :).

commit 0a3c8cefd4a154948799baaaa246cf0eba050eff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 1 08:02:09 2001 +0000

    Fix subnet_lookup() for overlapping subnets. Needs rethinking.

commit 7db1b999c82611d6c68a5d79b4754db19669d5c6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 28 08:56:57 2001 +0000

    Make sure Solaris is happy too.

commit 65247c063b36a76dd68156fe17b017c7460d982f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 28 08:21:43 2001 +0000

    Small fixes to allow correct compilation under FreeBSD (tested with 4.3)

commit 4e959ee40542733e647c36831c1fc87ed8098233
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat May 26 09:35:28 2001 +0000

    Don't distribute autogen.sh in a release

commit 514f8f579d5c0608aee8ca4a43d7414ecee5c11c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat May 26 09:35:00 2001 +0000

    Changed version number to 1.0-cvs

commit 20c2b62b1802390c0f5a1757641a0a1cea8103a8
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat May 26 09:34:11 2001 +0000

    New make target: `make release'

commit 8d307c2fbf2c20eb53909f74c81e03db838fb55e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 25 18:57:37 2001 +0000

    Fix sample configuration to show keys in PEM format and correct tapdevice.

commit e12d41f39d8dd1cd30058d08effd2e5b66cdd4fd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 25 13:24:34 2001 +0000

    Documents are merged. Now we only need to check the ports and the TCPonly
    and IndirectData options.

commit f0c64a3dac3b0469ea05fa5d44a1e7bdbfa64900
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 25 12:45:37 2001 +0000

    Merged PROTOCOL, NETWORK and SECURITY2 with the texinfo manual.

commit fcf869cd4250a240ea8d443f70fa373e4fbacf07
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 25 11:54:28 2001 +0000

    TCPonly now works (in a relatively clean way too).

commit a5e2ae6b2b2e1629cf05bb2a57df75f13c0f120a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 25 10:08:11 2001 +0000

    With recent kernels the tun device file is located in /dev/net.

commit 6e09c2a99c8ac3c1391f4f2eee16d6c235c10e90
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 25 10:06:13 2001 +0000

    Small corrections to the manuals.

commit 4dee76522e177dcb4af5d6d844a5f3b74070e4b7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 25 08:36:11 2001 +0000

    Small fixes:
    
    - Fix compiler warnings (one was a real (but harmless) bug)
    - Don't send PING packets if there is UDP traffic
    - Correctly terminate strings containing salt for PING/PONG packets

commit bfc5d6014e3c1563f7b6a2f10698e9ba23ba3e96
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 24 21:52:26 2001 +0000

    Only send key_changed if it was previously requested.

commit 1a248fd5bd5aa24fa0f6a2c395f05dd569f0898d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 24 21:32:30 2001 +0000

    All features for 1.0 are implemented now, we just have to check the
    FreeBSD and Solaris ports and merge some docs.

commit 58893f0875369aafff8481825af271683c975a2a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 24 21:30:36 2001 +0000

    Since this is incompatible with some earlier versions, PROT_CURRENT is
    increased.

commit d1b597758eab68bb80d97855f25cb6dda55eeb0b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 24 21:29:09 2001 +0000

    Add randomness to PING/PONG packets to prevent crypto attacks on quiet
    tunnels.

commit 4493b0650bd487990ca9d2802496ad0ee7c06247
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 24 20:40:13 2001 +0000

    Changed URL from kernelnotes.org to linuxdoc.org.

commit 3360c6270bcc19a8b3d81da185266fc33b5c5421
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu May 24 20:24:12 2001 +0000

    More revisions to the documentation:
    
    - Removed cruft
    - Reordered some sections to make it more logical for the beginner
    - Added small examples and hints about configuration files

commit 6f7f8659a2048fd6d616f4286ccdd0e661084493
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 19 15:50:51 2001 +0000

    - Make sure correct information is supplied for both old kernels (with
      ethertap) and for new kernels (with TUN/TAP driver).
    - Revised example configuration and made it conform to latest (CVS) version of
      tinc.

commit e4f3d93ec62871d1ae11b460627aef0da1b23cd2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 7 19:08:46 2001 +0000

    - s/ip_t/ipv4_t/g
    - Add "salt" to the beginning of UDP packets. Replaces length field which
      is not useful anyway.

commit a26081467c197cc6b26a0c36c4508361b242fc85
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri May 4 18:45:02 2001 +0000

    Correctly cycle through ConnectTo variables.

commit 80b4a851a6b62cbbf503c2225f93305966f058c0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Apr 13 10:30:04 2001 +0000

    Depend on new ssl package and install alias for universal TUN/TAP module.

commit 156ec676525ed789364b7a77926dd0717d0cf5d7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 13 21:33:31 2001 +0000

    Check indirectdata option before forwarding certain requests.

commit c426e981eeaed3fa4801221720ee8f74d40e9223
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 13 21:32:24 2001 +0000

    Ignore alarm signals if we do not need to respond to them.

commit b413257e10ae0645da43583dd8f84a1f74df5bd7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Mar 13 09:55:14 2001 +0000

    Fixed bug in setup_signals() that would make tinc die when unexpected
    signals were caught.

commit f1a082823c48d00171b814f7e14e07e6dd4632fb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Mar 12 23:58:19 2001 +0000

    Fixed a race condition triggered by receive_meta() and the new
    authentication scheme.

commit f4887b981f109fc4264f50170b2d12c4033bf5e9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 4 14:00:24 2001 +0000

    Added a description of what is going on in net.c and route.c, and how
    packets flow through tinc.

commit 9d5c9bf6ba74e4e8bbd12b97fdda6c665155fec6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 4 13:59:53 2001 +0000

    Updated translation.

commit 34f9e6cf2d6d2b81eb63f9f28963b447a2157740
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Mar 4 13:59:32 2001 +0000

    - route.c is now used to determine destination
    - flags are removed, since they were not used at all. Use options instead.
    - indirectdata works now, tcponly almost...
    - made functions that don't return useful information void

commit d2a54597e029f9d4f7bd29837be1be33909d78b1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Mar 2 11:25:56 2001 +0000

    Added explaination of our key exchange using RSA encryption.

commit 125c4978812cffa5154ce5378a276f43f78417d8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Mar 1 21:32:04 2001 +0000

    Various small fixes.

commit 099cc867c1a0831add7f1b4046f22ad6bfa5a1ef
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 27 16:50:29 2001 +0000

    Removed compiler warning.

commit 4fa12eb85d72f039df5004abc201f01f5573c2e4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 27 16:37:31 2001 +0000

    Removed lots of compiler warnings.

commit 173d606514d82fc5ae7895a178238d0abcaf6606
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 27 16:17:04 2001 +0000

    - Fixed Interface option (untested)
    - Removed error handling for non-critical socket options
    - Added TCP_NODELAY and IPTOS_LOWDELAY options for meta sockets.

commit fb4ba9b265666d9949b03209a3ff52ff1263226b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Feb 27 16:15:14 2001 +0000

    Authentication done

commit 24fa68585923d2b52718390f3f38d1aaacef12f0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 27 15:33:39 2001 +0000

    Don't forget to reconnect if outgoing connection fails during
    authentication.

commit 34b7a876c3583f7a34585cff6a694bc9e35cdc87
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Feb 26 11:37:20 2001 +0000

    - Make sure METAKEY is smaller than the modulus of the RSA key
    - Get symmetric key from the least significant bytes of the RSA message

commit 4b0ad4d97abd3643c44f45841d52f3000a34ba60
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 25 20:17:46 2001 +0000

    Added process.c to the translated files.

commit 82455be966027a087a2ac23e3464594c81d7b111
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 25 19:09:45 2001 +0000

    Implemented new authentication scheme from doc/SECURITY2.

commit 54881faf6fdbf04fb5ee56b7809439fbc50c65cb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 25 16:34:19 2001 +0000

    Encrypt network packets in CBC mode instead of CFB mode.
    (This breaks compatibility with all previous versions!)

commit 9de5787574b21e94c80ddc60def2b3e514aff755
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 25 16:04:00 2001 +0000

    Copy packets before putting them in the queue.

commit 38adc479a44b64afcb220cd757f77ab105cb9bcd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 25 15:34:50 2001 +0000

    Free node->data and node, not node->data twice.

commit e250d64300cea2a83059866e7cbabcb33684160e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 25 14:51:42 2001 +0000

    Add missing \n.

commit 153fc35e57c0104aa4ea9103bcdbca3665e4934c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 25 11:09:29 2001 +0000

    Corrected check for errors after read() calls.

commit 0b0c2a372ff5d11f73af172e07a93b2656374a42
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Tue Feb 20 21:53:18 2001 +0000

    Important bugfix in avl_insert_before() and avl_insert_after()

commit 11f8465dd9a4f81b43a31f1cb6a7fc2d76bb7838
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Feb 18 02:13:26 2001 +0000

    tinc_TUNTAP now substitutes the values outside the AC_CACHE_CHECK
    block.  configure should now correctly set HAVE_TUNTAP.

commit bb0870498037565209e24fbb2ffa07b815350a0b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 13 09:54:29 2001 +0000

    Added description of the proposed new authentication scheme.

commit cebb6efeb0f39bf05ca7836b7a393c8385b49335
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Feb 11 11:55:28 2001 +0000

    More files to ignore in CVS

commit 603781831f251d2e8111e8282d8e624b8e40b175
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 11 11:50:09 2001 +0000

    - Updated CVS_CREATED to remove intl/ directory and some other
      autogenerated files.
    - Checked if all INCLUDES/LIBS/etc directives inherit the global variables.

commit 88dfdc9dbac3f5d0aa70b77509b4a87513433987
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 11 11:46:14 2001 +0000

    Ignore file for src/

commit ef0fc4f687fc25e97551e589941d6a2a2d8ade42
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Feb 11 11:44:32 2001 +0000

    Added .cvsignore files to get rid of warnings and prevent autogenerated
    files from being added accidentaly.

commit f1cb3d8fa5f69840f353ca5a62f363dad47eb46f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 6 10:42:27 2001 +0000

    Removed another local definition of the variable "errno"

commit 0f715887c617723e4b450083f8b77641f8b62e80
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 6 10:13:44 2001 +0000

    Updated dutch translation.

commit 4bc394a3e29f2f90434bbbfc9f23d5587398471b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 6 10:13:22 2001 +0000

    Fix memory leak in avl_insert() if item was already inserted.

commit f777c1807d663eaef3e36c395094451214886898
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Feb 6 10:12:51 2001 +0000

    FreeBSD compile fixes (thanks to XeF4)

commit bb4457d6caf6e424aeaf9b09222d4e62cab939da
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Jan 18 13:02:34 2001 +0000

    Unpack sample-config.tar.gz when installing

commit fe61e1ffef186aa509a50be3be83955fe1cbb514
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Jan 18 13:01:42 2001 +0000

    Distribute the sample config as a .tar.gz

commit a73ec9caa45bda7738376a610030c8ba9b934445
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Jan 18 13:00:57 2001 +0000

    Fixed some errors

commit b33c5f6640e63cc4cd35285367bcb2827b732229
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 16:24:24 2001 +0000

    First try to create a graphical frontend for tinc configuration

commit 6bc77a7710adcbc33331c45e1b6adf7089a42075
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 01:48:44 2001 +0000

    Get the PO files up to date with the current source

commit 664f7e5c0b9056d88e2b63b3626ea33c4894387b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 01:47:39 2001 +0000

    Get the Debian changelog up to date

commit 1d898e00a964ef922617683a1d29ff24e56ed8ff
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 01:40:46 2001 +0000

    Merged documentation with various updates I had lying around

commit 457c6fa7b63a7f2971314d8d63af71c880ec6f53
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 01:34:08 2001 +0000

    Second draft of the release notes

commit b236ddb1df16f8eb025d485b75153c4f25f4afc6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 01:31:56 2001 +0000

    Change version to 1.0pre4

commit a893b05cb017c04871c2faf4099f104985f4ad75
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 01:30:32 2001 +0000

    Set Architecture to `any'

commit 54e19d34663cfe4af05e9e1dac94f76e39858f18
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jan 17 01:30:05 2001 +0000

    Fix error reporting of read_config

commit a56df1e06be3f47a775919e564c147687e961b5d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 13 16:36:23 2001 +0000

    - Allow ASN1 style keys to be in the config files.
      Note: tinc ignores private key in the main config file, tinc.conf,
      because it should really be in a separate file.
    - When generating new keys, check if name is known and by default append
      the public key to the host configuration file (otherwise rsa_key.pub).

commit 44c85ab07ed07165b80140da4e2910ca51fa8887
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 13 14:56:46 2001 +0000

    - Copy entire sample-config directory to /etc/tinc/example upon installing.

commit b195e8815f0abb2c5527119221886b524d719019
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 13 14:38:18 2001 +0000

    Added sample configuration directory.

commit d646f4e094b63720f97bfd37bb3489bd9d6231a0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jan 11 11:19:08 2001 +0000

    - Only send out DEL_HOSTs for hosts with a meta connection

commit c8beaf35ee923c209ee23bedcb3dc892d2c2dae3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jan 8 21:32:30 2001 +0000

    - Cleaned up subnet_t

commit e5e1c20a99b0d72792f28e9a075a9f4a7e8b2c95
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jan 8 21:32:00 2001 +0000

    - Sign was wrong in search_closest_smaller/greater

commit 11f3e9d138daf6b726631cc124b14d66dfa4d1f7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jan 8 20:35:30 2001 +0000

    - Squashed another nasty bug.

commit 447a43d63960802a7a29201c512246be11eb9c94
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 7 20:19:35 2001 +0000

    - Added indirectdata and tcponly functionality.

commit 7cd2baedc6027ef6a5b941342bc6d3931d7220ba
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 7 20:19:08 2001 +0000

    - Fixed IPv6 subnet lookup routine.

commit d3f889c8076dff9c00ebfe1459cb36425f8da41d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 7 17:09:07 2001 +0000

    - It's 2001, all copyright notices are updated.

commit 96b6f958bc733c3963dd164caacd42513be47a86
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 7 17:08:03 2001 +0000

    - Description of protocol and authentication updated.

commit 7109526c6789c73a18bbe6b228ca35f0374c8d36
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 7 15:27:30 2001 +0000

    - Added header file for route.c. The routing routines in it are not used
      yet, but have a look at the source for the ideas behind it.

commit 07a08f5539f441e66946d1db1711dc584f8621c4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 7 15:25:49 2001 +0000

    - Reinstated a queue for outgoing packets.

commit 049ff67817e0db5afbba30930531d8ea3f7f2d18
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jan 7 15:24:52 2001 +0000

    - Changed list routines to give it the same look'n'feel as the rbl and
      avl tree library.

commit 8b4bc5b3a7e31c198c001610c99c2993e1612376
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 6 20:43:03 2001 +0000

    - Typo.

commit 3d7289cf743f89cab4c71815482a4837a21f6703
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 6 20:02:21 2001 +0000

    - Updated texinfo manual.

commit 0d99ae59bd7c640d396ce978045f0911567fb9bf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 6 18:44:55 2001 +0000

    - Updated manual pages.

commit 90bf1b21fa7e94d73719da0593e7c0356d05e18f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 6 18:21:17 2001 +0000

    - Changed license of AVL tree library to GPL.

commit f7bb205022e02c02c02733cd43544c231373115d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 6 18:03:41 2001 +0000

    - Check and follow symlinks in is_safe_path
    - By default write keys to tinc config directory
    - Small fix in protocol.c

commit 1398edec37336853bfca6ea3dcca7c402f102ea2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jan 6 16:51:14 2001 +0000

    - Updated dutch translation.

commit e924096f62655d711cd2d114a8d1ef0fecbb593b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 23:53:53 2001 +0000

    - Let user choose whether keys are in the config files or separate
    - Use AVL trees instead of RBL trees
    - Fixed a lot of annoying subtle bugs! Thanks to gdb...

commit 052fbc0bdf36e0dbe2a0867ce770d426c9a44841
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 23:51:41 2001 +0000

    - Doubled size of trace buffer for easier debugging.

commit 77509da76c61b881c9967bfb7cdafeaf6b56eb6d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jan 5 23:50:56 2001 +0000

    - AVL tree routines: faster than RBL, and also more stable.

commit e1707f7739f450c729e26b921e459d5da07602f9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Dec 22 21:34:24 2000 +0000

    - Don't even think about using sscanf with %as anymore
    - Allow keys to be inside the config files or in a seperate file
    - Small fixes

commit ecae72de94222302aa326888f70cfacdbd775b23
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 22 17:15:26 2000 +0000

    Added lint target, requires lclint.

commit c5fac35c6ce9b9fcc47508810d69aeab83d08c25
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 22 17:10:25 2000 +0000

    Forget router.c

commit 37544990e96fe5ea161e644f6417f505d666cd00
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 22 16:59:16 2000 +0000

    Include autogen.sh (needed for the Debian package).

commit 8a4daf4ea7758270a47a358f43ad97a64eb1c3ff
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 22 16:54:56 2000 +0000

    Various small changes.

commit e469fca4d78e9d23698fe1e6b29b232198cc499e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Dec 6 13:33:49 2000 +0000

    Re-introduced MyVirtualIP and VpnMask, as dummy options.

commit e50e4a54d6b40b988041a7e9bfdfbf708657f3a5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Dec 5 09:04:32 2000 +0000

    Give a warning about having to re-create the keys

commit 4610d98c04641fce65747e07d65cbdd03fb6fe30
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Dec 5 09:03:41 2000 +0000

    Ported it back to /bin/sh.

commit 1e38dcc3fa6c0da2fdb21f83a588338fa8a41818
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Dec 5 09:03:19 2000 +0000

    Install a file in /etc/modutils/tinc, containing all necessary aliases
    and options for kernel modules.

commit 6327f32f43dc9109fad9952fd50a23876d0acaf0
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Dec 5 08:59:30 2000 +0000

    Tiny bits of code beautifying

commit 9267bed9f516244b00d5c86c8dae44b7eb78a96c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Dec 5 08:56:44 2000 +0000

    Oops.  I did some VERY wrong things with readline().  Fixed now.

commit 6ddc9109d7313503895227c7876309b36681393d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Dec 5 08:54:22 2000 +0000

    Massive long awaited documentation update.  It's not finished yet,
    most notably the example configuration is still old.

commit bc22ee16e6903d2caf9d22afa85020d1e3e10b56
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Dec 3 12:23:06 2000 +0000

    Option -d accepts an argument to set the debug level immediately.

commit 01d23601a273d128ebfd13c2ffa10892e9b13094
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Dec 3 12:22:19 2000 +0000

    Sort configuration directives

commit d6b77e18b58ad8f9bcd9b60864b95cd2a74482c5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Dec 3 12:21:20 2000 +0000

    Added documentation merger

commit e985f6d3cdbebdeb17333bbd3d3c20d4618128cf
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 1 13:46:26 2000 +0000

    Include COPYING.README in the distribution.

commit 94192b3db10fe51ce45fa569ec068423a4491b0b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 1 13:45:46 2000 +0000

    Stated that distributing executables linked with OpenSSL is permitted
    provided that all other requirements of the GPL are complied with.

commit 52575a573c1d87ee125a54a2e0b4044698904cae
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 1 12:38:42 2000 +0000

    Use buffer instead of line in read_config_file(), line may be assigned
    NULL, so buffer always holds the pointer to the allocated space.

commit ab33c1aa6081f07333bf1de00e4036dd2b4628a6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Dec 1 12:36:36 2000 +0000

    readline() accepts two extra parameters, buf and buflen, to avoid
    mallocing and freeing for every line that is read.

commit 6c56a8416eded8f19076a619a27ad7b153dd91f3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 23:44:07 2000 +0000

    Tagged `Storing private key in separate file' as done.

commit 8fe83e98da043e930a88ddd6b2de6c14aa791335
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 23:39:55 2000 +0000

    All full stops have two spaces after them.  (Silly commit, I know.)

commit a0f7af3ed79c55d9680cbb0a569b3c8987581d43
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 23:18:21 2000 +0000

    New function read_rsa_public_key();
    In net.c/setup_myself deleted old code to read the public key (which
    is now implicitly read in together with the private key).

commit 28deaeac14d619efb9830d03fd61dc7cca70a701
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 22:48:48 2000 +0000

    Avoid printing duplicate messages from read_rsa_keys

commit 2293304748f7e4e9a18ee848b8264bdecebae37f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 22:33:16 2000 +0000

    Better error checking when reading the RSA private key.

commit bf4e969899bb6cdeb05570d96a567c2833ac83bd
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 22:32:14 2000 +0000

    In readline(): initialise the line to zero length;
    In read_config_file(): Test for EOF, and print the variable name that
    caused an error.

commit 113198d9c0b3be9904057673cfed165406803f86
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 21:11:03 2000 +0000

    The file is safe if it doesn't exist.

commit 09260b43d1ff037c22f86c82a6af830e9a6d6ae5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 20:08:41 2000 +0000

    Read the PEM file pointed to by the configuration directive
    PrivateKey.  This means thatt he meaning of this variable has changed,
    it no longer should contain the private key directly.
    
    WARNING: This code is untested.

commit 8ccb1ede92fbd55481fa2317c2450bb9dd94a180
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 30 00:24:13 2000 +0000

    Implemented is_safe_path, and extended ask_and_safe_open.
    
    is_safe_path needs more work before it is useable.

commit 75e3c296b4fa1eb02df2f5f84a1280e791f88603
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 29 15:22:04 2000 +0000

    Updated Dutch translation

commit d36da1948abdd27e9d0740c2baceb0bd155c18c6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 29 14:30:07 2000 +0000

    Also free the pointer returned by readline().

commit 9e55426d72fd77fda891edd0023dab2f9909639e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 29 14:27:24 2000 +0000

    Use readline() in read_config_file() instead of fgets.

commit 8ea23d9ec3f2fe0c113eac5caafb7c2bd03f3016
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 29 14:23:08 2000 +0000

    xstrdup now takes a const pointer as an argument.

commit 54ef13bf75a7a1e787716ce395ffe847fa74673f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 29 14:24:40 2000 +0000

    Implemented a readline() function that will read an entire line into a
    dynamically allocated buffer;
    
    Ask for a file name in ask_and_safe_open().

commit 9175d2048382c617a639fd3d437a9e06baa66d0f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 29 01:37:50 2000 +0000

    Added a check for a scanf that knows about %as.

commit 1ca04711aeab615161746c6bbb5d137388c73263
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 29 00:33:15 2000 +0000

    Check for get_current_dir_name.  There is a replacement function in
    dropin.c.

commit c94f7637427f4c89d56c41fe4c75f2970b664a63
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Nov 28 23:23:41 2000 +0000

    dropin.c/h contain a set of drop-in replacements for non-standard C
    library functions (read: GNU extensions).

commit 3ff76eb10acc55b6f269c1075de6bbaa5bc83516
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Nov 28 23:12:57 2000 +0000

    Save RSA public and private keys to a separate file, instead of
    wanting to copy them into a configuration file.

commit 4c502b005bfd24821e817c134e8a442a5f4606de
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Nov 28 08:59:27 2000 +0000

    Use sigaction to set signal handlers, the previous commit (1.1.2.16)
    already contained a large portion of what should have gone in this
    one.

commit e44dc004b3d1ce8f857971f479c917931eda7091
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Nov 27 20:52:55 2000 +0000

    Sort items to either 1.0 or future release goals.

commit 699f3b4c93482055c0832c9a6b76dc0294967003
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Nov 26 22:46:53 2000 +0000

    Check for the function strsignal, and define it to "" if it is not
    available.

commit 67a4abda707b28b9c77cb35ff1e800e6a5b0991c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Nov 26 22:42:34 2000 +0000

    Give an error message if daemon() failed.

commit 702e55306dfebe5c6f9a6587ed029c3bc3efbe8f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Nov 26 22:32:52 2000 +0000

    Updated Spanish translation, provided by Enrique Zanardi.

commit 1eedf54681d4556c6874f7baee8e810cab867756
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 25 13:33:33 2000 +0000

    - Use only one socket for all UDP traffic (for compatibility)
    - Write pidfile again after detaching
    - Check OS (for handling FreeBSD/Solaris tun/tap stuff)

commit 0806605ce383b7e89fa26eda56f8a5f3bbed9dd3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Nov 24 23:30:50 2000 +0000

    - Added daemon() replacement.

commit cfb828784ebbcf4b3e40eb9bb351b6ed10a84b35
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Nov 24 23:14:52 2000 +0000

    - Added Armijn to the list

commit cf49b2c0647554613874cce495e4a7937a9f7863
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Nov 24 23:13:07 2000 +0000

    Another big & bad commit:
    - Added some extra search functions to rbl routines
    - Fix subnet_lookup()
    - Reorder some syslog messages to make more sense
    - daemon() is back
    - Don't let scripts execute in parallel (gives race conditions, and
      anyway something MIGHT just be configured which is necessary for further
      execution of tinc itself)
    - Accidently merged check_child() with execute_script().
    - Small fixes

commit 97c54ffb35312caf38034952b9ed2733f7e374f9
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 16:52:57 2000 +0000

    Add default tinc-up and tinc-down scripts for a Debian system.  These
    do not yet work, it's just old code from init.d.

commit b42c9abafdc102db0641f3d444bdb30fbc29140a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 14:15:20 2000 +0000

    Call autogen.sh instead of configure alone; and make cvs-clean instead
    of distclean.  This way you can just cvs checkout && dpkg-buildpackage
    in one go.

commit edb9b4cad09855a9bb3c57c5d4b1b174fde1de6c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 14:13:51 2000 +0000

    Explain how to tell configure where OpenSSL lives.

commit 4cb4a7d298d560593f84d974bf77d0ee8a911a50
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 14:13:06 2000 +0000

    Set errno to 0 before trying to kill the other process.

commit ef88db63120503a8c9d34d86073795c99dedc3a9
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 14:12:31 2000 +0000

    Alter CFLAGS, somehow INCLUDES doesn't propagate properly.  Still
    doesn't work exactly like it should, but getting there.

commit b17822840150f5ba8cfb8e5a44fc10d66bd15a97
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 14:04:49 2000 +0000

    Set CFLAGS to -O2 -Wall when running configure

commit eb36b0c1ef7b5ed8ff59c3b41cbb361ed37d5f01
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 14:00:32 2000 +0000

    Use cvs2cl instead of rcs2log to generate the ChangeLog.

commit 2f37f2bd8ab6b89eb6b6c2b4bdd6ffe449b1aa98
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 14:03:13 2000 +0000

    Set localstatedir to /var

commit 31aa4298463498cbb755db747e901e4269cd1ef6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 13:33:48 2000 +0000

    Do not attempt to retreive ChangeLog information only from the CABAL
    tag, it doesn't work anyway.

commit f2dd7bb42c1f4bfa708f542e430f4a56fd43e74f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 13:32:26 2000 +0000

    Do not check for the daemon() system call

commit b0ff879e7c68edd447328f3d806c1ad9e336fece
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 24 12:44:39 2000 +0000

    Do not use the C library's daemon() call.

commit cebcf78b9a24f70902009bea23514e55d84b096a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 23 09:30:33 2000 +0000

    - Don't link with -ldl anymore
    - Let's not use bash' built-in pwd function anymore... it does not follow
      symlinks.

commit 7aa7895629d72391eccfcb23f3cb6290a9e3abc3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 22 23:09:38 2000 +0000

    - #include <stdlib.h> instead of <malloc.h>

commit dac256505e1af78505c9f905bd55c11d4b87345c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 22 22:18:03 2000 +0000

    - Fixed all (except 2) compiler warnings gcc -Wall gave.

commit 6f373e690236334d8f8333710b61f97ccad54bf1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 22 22:05:37 2000 +0000

    - More porting to FreeBSD and Solaris.

commit 5971e352dae2cf189f1cbdeacffa4ccdd1e98304
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 22 20:25:27 2000 +0000

    - Work with the correct key buffer in ans_key_h

commit a07602c4fddfca9894f1d738959ae359695f5bf9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 22 19:55:53 2000 +0000

    - No more %as.

commit 394ed3fb174bb629bfb4b441fe58842562f955de
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 22 19:14:09 2000 +0000

    - Write pidfile AFTER detaching...
    - Minor cleanups

commit f8b4a000d008082e5c7e511a49318b8dea8fd08d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 22 18:54:08 2000 +0000

    - Cleaned up and checked for some more NULL pointers in rbl.c
    - Two connection lists: one for incoming connections, sorted on ip/port,
      one for connections whose identity we know, sorted on id ofcourse...

commit 785684f0ec5c9250788b4b32c0eab3f358c9db61
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 22 17:49:16 2000 +0000

    Declare fd.

commit e42255ae1374fe65e92de72de4508a84bdb91fa1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 22 17:48:15 2000 +0000

    Add more checks to ensure that filedescriptors are right in
    _execute_script().

commit 2ed68134047a19e708c2a2af32c58968835a7043
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 22 16:19:07 2000 +0000

    Honor the --localstatedir option to configure, instead of hardcoded /var.

commit 9e9e1925b901dff87518f0e1534a33e48eab8303
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 21 09:13:59 2000 +0000

    - Check for NULL tree->delete callback
    - Add xstrdup() function

commit da9a1e8084a9b73306bdbc541ee8af938c3e7754
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 20 23:29:47 2000 +0000

    - More fixes.

commit 3a6200c1e39b61b249db3d1f9bcffa77351863bd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 20 22:13:14 2000 +0000

    - Various small fixes.

commit 06afd357b0cf4aab778b1ccabbd1be61a9500d10
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Nov 20 19:56:01 2000 +0000

    Get rid of all libtool references at once.  libtool was only used by
    libblowfish, which was superseded by openssl.

commit 1857b3c97c261dda9978a67d07b315bb3ca68841
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 20 19:41:13 2000 +0000

    - Proper initialization of rbltree structures.

commit 408ca91766088b6c2d38e198b0692bf394b41248
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Nov 20 19:12:17 2000 +0000

    - Integrate rbl trees into tinc.

commit 9024e01ce649b89d304a4aa5b1d6ef0b56b5a12c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Nov 20 18:06:17 2000 +0000

    Also include process.h

commit 3cc063d23a6e3a23fd01f03b0bc99825c2b13e16
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Nov 20 18:05:34 2000 +0000

    More function and header checks

commit 59aa15d3d1db4e948113f202dd2183f4bb23970d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Nov 20 18:02:15 2000 +0000

    Added this release

commit 8f273f0ee265c75dd8eea65b2f1cd60a79691cd6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 19 22:12:46 2000 +0000

    - Small fixes

commit cc7c078774db955cece9b263022e6c1ca955fc10
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 19 11:05:59 2000 +0000

    - Deletion also works now.

commit 3526f1e151b7a189f075d88c9d88cacaece31d02
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Nov 19 02:04:29 2000 +0000

    - Fixed a lot of small things. Tested everything except deletions.

commit 4f68e5b6133480478edba0959cb87d4eb149a8e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 18 23:22:44 2000 +0000

    - Fix tree head/tail upon insertion

commit 880cd6f1a94ef76ebebc5bd96dd26d62e3d829f4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 18 23:21:01 2000 +0000

    - Implemented deletions
    - Added rbl_foreach() function

commit 00e5d572621ad5f0263999dbfbfcb11e023bf48b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 18 18:14:57 2000 +0000

    - Fixed searching
    - Insertion implemented

commit 7fcc0c6415488ed6ce0089a67ab7cfdd5d0d83ca
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Nov 17 10:03:02 2000 +0000

    - Removed stray @INCLUDE@ (how did that get there?)
    - Use 0 instead of FALSE

commit 44cbd13e5248880b074b5068df14a4634204a1d3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Nov 17 00:56:49 2000 +0000

    - Simplified do_detach

commit 2626c641aa714a8d776f1bb16340586d935aa6b1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 16 22:13:09 2000 +0000

    Use proper prototypes.

commit 5d1145f2c4b3b8261ca0aa0e89a2daf321640f0b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 16 22:12:23 2000 +0000

    Move more functions from tincd.c into process.c.

commit 485f7a5043a4b3345bd02e5063502603550b4c76
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 16 22:11:40 2000 +0000

    Delete struct ifr

commit 30f34015ee11bbe1106c07e381288a702f12dac5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 16 18:06:39 2000 +0000

    New function: xmalloc_and_zero, which initialises the allocated memory
    to all zeroes.

commit 2764532ea72200d0a27ad2d79e6e299c00c62404
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 16 17:54:29 2000 +0000

    Move all process-related functions into process.c.

commit aa755206da4bcce3261ecd5dbfa41570a0155c73
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Nov 16 09:18:38 2000 +0000

    - Added balanced tree management stuff as well. (It is not finished yet.)

commit 7f87c3d9134612041d56180ea7fc3e6c37991f6b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 15 22:07:36 2000 +0000

    Keep a list of running children, and in each loop in main_loop(),
    check if one has exited.

commit d9ce5a7f3f5eddb193b6a9b5974c7c49eac41ea1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 15 22:04:48 2000 +0000

    List management and manipulation routines.

commit e118ba0a648000c48d6a401c9b9249a844d6dbcf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 15 13:33:27 2000 +0000

    Porting to FreeBSD:
    - Reorganized and added some #includes

commit 596e248bc588323cc7ee751286dbcaf677b5c653
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 15 01:28:21 2000 +0000

    Let the output from an executed script in execute_script() go to
    syslog, with proper error detection.

commit bb2495e569fb161b42efd633eb1c471b8222b1fb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 15 01:06:13 2000 +0000

    Use the HAVE_OPENSSL_xxx_H defined from m4/openssl.m4 during
    configure.

commit 6fb4a5b6be5628ece9b391b46e7858fdf5957a80
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 15 01:02:30 2000 +0000

    Also check for sha.h.

commit 8eb60d0ccde2f1de6fd917db7300e537f271783e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Nov 15 00:57:26 2000 +0000

    Also check for rand.h and err.h.  If any of these files does not
    exist, try the next alternative path.

commit c5c8e99afd3fae3868f20b5c7a4f8754498b39ad
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Nov 14 23:18:19 2000 +0000

    Get rid of the annoying empty line

commit c467ee02d3ef8bed7ec2cc52cb1527ec60cdc93a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Nov 14 23:02:08 2000 +0000

    Oops, small error.

commit 9ddb37cee0f754ef88a55f692a508010fe18c782
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Nov 14 22:57:19 2000 +0000

    Better checks for OpenSSL.  I think it can now detect almost all conceivable installations.

commit 72c3776d6ac103fa25d216c42847ecba3a4f58e5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Nov 13 22:29:22 2000 +0000

    Identify version as 1.0pre4-cvs

commit 5344832be1126967ff340cf6bd270a377bb8e487
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Nov 13 22:01:27 2000 +0000

    Add a check for openssl that accepts explicit file locations.

commit 5b74909ea070fbd482340dc42193e33366a9dddb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 9 21:33:18 2000 +0000

    Add prototype for destroy_queue

commit 6e27618708233998db7e5886ed9afaa21bb9d938
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 9 21:29:58 2000 +0000

    Updates, updates

commit a91eae538d9cff8aed399a175c0bbc7d744cd22a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 9 20:59:35 2000 +0000

    Bop version number to 1.0pre3-1

commit e65a93053cca3f8aebf63094cf160835c3108e25
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 9 20:42:16 2000 +0000

    Wrapped text to 70 (72?) columns for easy reading

commit 4310b17be9cefcc1814ddef471e4c5cd8f9f867e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 9 20:41:13 2000 +0000

    Final release notes added, also edited release notes for 1.0pre2 to what the announcement on the mailing list looked like.

commit 16847ea255fa8a7c0ed922af80a2f36b7bdf4b3b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 8 20:52:37 2000 +0000

    - Make checkpoint tracing a compile time option (off by default)

commit 55d7b5a2bb1df6f55f0a93e9cfed77c1da337588
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 8 18:05:06 2000 +0000

    - Add Jamie :)

commit 5055e1dedc9fe984c497448c1b2ffc4afdf18aa3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 8 17:56:34 2000 +0000

    - Applied Jamie Brigg's patch (close sockets after error)

commit 74326df7adc514798565df0a8719421adbb5fef3
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 8 00:20:06 2000 +0000

    - Fixed --config
    - Show warning when both netname and config directory are given.

commit f8f1007bf469d44480d95d0d78ddc156d00e059f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Nov 8 00:10:50 2000 +0000

    Porting to SunOS 5.8:
    - More #includes Linux doesn't seem to need
    - Don't do unsetenv() on SunOS
    - Use a replacement asprintf() in case the OS doesn't support it
    It now compiles properly under SunOS.

commit 56bd0864e4c5680fee59af48228b1ec3fb97b57b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 7 22:33:33 2000 +0000

    Porting to SunOS 5.8:
    - Include all header files necessary
    - Check for flock() function

commit 7d0f82bd4b7044a5151835e25e830fd28dfaaebd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 7 22:02:14 2000 +0000

    - Open UDP connection for all known hosts. Comments please.

commit f95cc86d0c14ca4c47e5459af4bb6d1170baa9f5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Nov 7 21:43:28 2000 +0000

    Changed execution of tinc-up:
    - Do not free() strings that have been putenv()d, see man page of the
      latter.
    - Do not set IFNAME anymore, it appears that the ioctl to get the name of
      the interface does not work at all. Since it is set to NETNAME in case
      of tun/tap and it is known beforehand in case of ethertap, there is no
      need for it anyway... (though it would've simplified things).

commit efc3a2a466937da942afc84dde080ba8b1731140
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Nov 5 02:19:58 2000 +0000

    Build-Depends on gettext

commit 698191fd2f512f3618e2d60592fcd57cd750b965
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 22:57:33 2000 +0000

    - Prepended config_ to all configuration option names, because it confused
      everything (including myself).
    - Use connection oriented UDP sockets for both incoming and outgoing
      packets.

commit afc05797077641baa33b024ffeaafd6cad3ff7a7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 20:44:28 2000 +0000

    - Simplified ping mechanism.

commit 2191d894bfd615e8fa7857d031ea630edc12a854
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Nov 4 17:29:45 2000 +0000

    Build-depends on libtool

commit 5019dd879177b5ab9413e5c0aa72a15d0e585acf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 17:09:10 2000 +0000

    - Check for packets that are looping back.

commit 20dd5aff4d2898d8b59f371671cc110b870fa09c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Nov 4 17:04:17 2000 +0000

    Updated Dutch translation

commit 3f177e9bf02b6121055414a2cc7fd3f4cff01cba
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Nov 4 17:01:55 2000 +0000

    Add route.c to the list of source files.

commit ac47586552710425417ed80878f8f853c313b421
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 16:54:21 2000 +0000

    - Forward keys in hex notation, not as binary data.

commit 3f8f067e8b559366b9b41dee6a4312702c82042f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 16:39:19 2000 +0000

    - Don't forget to set packet cipher for added hosts.

commit 433858d410c1fedf8d2a5f2b4ecd7c980dd79dd2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 15:34:07 2000 +0000

    - connlist.c added to translation

commit 15246df85d6171c92478541a835effb96d6085c4
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Nov 4 15:32:05 2000 +0000

    In execute_script:
    - add an environment variable NETNAME.
    - chdir to the configuration directory before execing the script.

commit 69618c01385eb7226cd6eab0918d1f30b0ed6c66
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Nov 4 15:18:58 2000 +0000

    Do not include the passphrases directory

commit 417f36a07990ff9bc7de7d4e63e57146bef0dd75
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 15:17:02 2000 +0000

    - Removed manpage for no longer existing genauth.

commit 3d7189a444fe3efed58dc93a071129007041aebf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 14:52:40 2000 +0000

    - Resolve scriptname after fork()

commit d38772ebc42f5ad1d946ee89d955f5d43bb2fe8c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Nov 4 14:16:46 2000 +0000

    Use putenv() instead of clumsy do-it-yourself in execute_script.

commit f83803c1bf6557d5af93982e7cd987e151eba401
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Nov 4 13:25:15 2000 +0000

    Small change to the way the environment is copied.

commit ed0bf283e37642f9f7673f664713a16d916bd70f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 11:49:58 2000 +0000

    - Removed even more warnings.

commit dc699f8b1265deb7606d553e36326527dbd29746
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Nov 4 10:37:27 2000 +0000

    - Removed unused MAC strip/add functions.

commit 5065ea32c32e27478d93c00a1bba0c812b7a2b8c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 3 22:35:12 2000 +0000

    Warnings removal pass: always include config.h first; add a few
    prototypes in the header files.
    
    This also fixes a few lint errors/warnings.

commit 73aa7fbf7e1b623398d1bc1493f567ce4d846f22
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 3 22:33:16 2000 +0000

    Run the scripts tinc-up and tinc-down from a separate function, which
    sets the environment as it should be and checks for errors.

commit 4ad1e382d6f10acf94ce59d85b80925cee7553a6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Nov 3 22:31:55 2000 +0000

    Save the environment on startup.

commit 7612c6da3890ce5a0730e4dfde9d5ba07bdbf5b3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 23:02:49 2000 +0000

    Minor cosmetic change.

commit 6a10e42f734e8bec9848a11e73bc2a8211a9f401
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 22:51:16 2000 +0000

    - If necessary, patch po/Makefile.in from po-Makefile.in.in.diff to
    get DESTDIR installation (required to get locales installed
    correctly).
    - Use dh_perl to get accurate perl dependencies.

commit ef12849c1a03b3aaf85dd46786d6631f66b104bd
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 22:11:18 2000 +0000

    Oops, and include doc-base.tinc (new file).

commit 5672ddd6cb9116420a1904f7741fdbed89c2ec54
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 22:10:09 2000 +0000

    Don't include shlibs, as it no longer exists.

commit 013fcb0e9f9c0222f4f63ddf42a2f25bfc4a5546
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 22:05:36 2000 +0000

    Changed a few messages wrt. system calls; updated and changed the Dutch translation a bit.

commit c444305c0bb965aa515a503406844ceeb483c285
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 21:43:03 2000 +0000

    Mention fileutils, add a pointer to THANKS for more details

commit 84c842def74c5d0e9c4a69e4f584fe9eb66eb728
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 21:41:53 2000 +0000

    Change wsl to Wessel's name and email address in the ChangeLog creation

commit 5b6815751e581bedd64bfc63aea5b42c746bbceb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 21:40:33 2000 +0000

    More exhaustive list of changes - perhaps it can be worded differently?

commit e954fc8f0c731e7116fd27f38c176b83cca519f7
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 21:39:57 2000 +0000

    Changed `I' to `We' - small change, lots of difference :)

commit 3db3a41667f90ce74bfd0197fc867cc71a087e50
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 21:38:55 2000 +0000

    Only check for linux/if_tun.h once

commit 1b11bcb0128ca65580cbf28ffb16078c81e6d678
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 21:34:45 2000 +0000

    Added a perl example to turn an IP address into a MAC address.

commit cadf81fe67aed424504758865c2ea2bb263c76fb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 21:26:51 2000 +0000

    Do not include $(top_srcdir)/cipher, it does no longer exist.

commit fd32d771a84765281ea4ab8a5d9dbf5cebfa2911
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 20:29:03 2000 +0000

    - Synchronized changelog with the package's changelog.
    - Changed maintainer email address.
    - New file doc-base.tinc.
    - Better Build-Depends and Depends lines.

commit a13d9c9da7434154b33e666c2236844011b87d46
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Nov 2 20:25:35 2000 +0000

    This file is no longer needed.

commit 59528ec892e8b9a599f2b39bf432a3d842e963fe
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 31 16:22:49 2000 +0000

    Removed config file parsing and interface setup. This will be handled by
    the tinc-up and tinc-down scripts from now on.

commit af565d00220b7536b9987c48e2a71459b45027b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 31 16:10:17 2000 +0000

    - Update.

commit b4c1d4e2d3287acd7ca438455c64e50a2828ad24
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 30 10:19:06 2000 +0000

    - Fixed some spelling mistakes and terminology here and there.

commit 4811afa073c871f2a52dfd5139bd0171046365eb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 30 00:22:54 2000 +0000

    - Small cleanups
    - Updated dutch translation
    - Updated man pages

commit b7d4d4c17712e0bb9ee8bd497a2f525b79d5f40d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 22:55:15 2000 +0000

    - Finishing touch: encrypt the meta connections

commit ec12269355f7979fdc0783dc15d109832f1e83cd
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 22:10:44 2000 +0000

    - Use CFB mode for encrypting packets: it works and we don't need padding.

commit cea3d8f3056d3c6aaaef473443240b8470c8ea2d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 10:39:08 2000 +0000

    - Small fixes
    - Do proper key exchange
    - Encrypt packets - it works, but there is something wrong with the MAC
      header after decryption...

commit 8fa9bc017d89b53798903df3fa98311067d4de90
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 09:19:27 2000 +0000

    - Removed old encr stuff

commit a26d371d0df3bee1bdc6e9d7046e949ee29e6de7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 02:07:41 2000 +0000

    - Updated dutch translation.
    - Shutdown properly.

commit e8391bd49975aa29fa62d6ae1d2d2ee398e0eb3e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 01:27:23 2000 +0000

    - Moved connlist stuff to the proper header file.

commit 2689690dc37c384c4a022d03ab80f2cfb7fb9553
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 01:08:09 2000 +0000

    - Enforce correct order of authentication requests

commit 3b9802a542f1fa439321d3386763ec33989194b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 00:46:43 2000 +0000

    - Hit people who can't figure out subnet address/mask pairs with a
      (clue)bat.

commit 7398002ade1397bd857953f009f4aed65ffc9218
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 00:24:31 2000 +0000

    - Fixed ans_key_h
    - Removed tapsubnet configuration option.

commit 35932fe6c8cb481eb687f98424776ce429570c21
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 29 00:02:20 2000 +0000

    - Very big cleanup.

commit db21f015161aac244ec5600c4d0ff685549892c2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 28 21:52:22 2000 +0000

    - Override destination ethernet address on incoming packets with
      FE:FD:00:00:00:00

commit 8738c007b15eea024bc4ca6ee0f972b2f5bf259f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 28 21:25:21 2000 +0000

    - Fixed offsets when reading/writing from/to tap device

commit f25868fd2b58bc0b350a5cfaf342480f28f804cf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 28 21:05:20 2000 +0000

    - Lots of small fixes
    - Exchange subnets on acknowledgement of connection
    - Do proper lookup when incoming packets from tap
    - off-by-a small number-error when reading/sending tap packets

commit ba6b8005ebe3a53877590c242ff581dc5dee5eae
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Oct 28 19:34:53 2000 +0000

    Skip the check for Linux kernel sources

commit d47d5932a3bbc4940aa6453ebfe617ef330783c8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 28 16:41:40 2000 +0000

    - Updated subnet list handling. Subnets are added to two lists now, the
      owner's list and a global list. It is all fucked up but it probably
      works anyway, good enough for pre3 :).

commit 9c2f805255fa36b05e8fe9391f639581d938b653
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Oct 24 15:46:18 2000 +0000

    - Lots of little stuff modified
    - Succesfully reads in subnets from host config file now and adds them to
      the list.

commit 60401d99b18ae01d91ca65faf8d2b32fac2b4474
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Oct 23 21:56:56 2000 +0000

    Oops, echelon change committed to cabal... :)

commit c46e84837d1c84a8590e0e3507227670368884a7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 23 13:52:54 2000 +0000

    - route.c will contain the routing logic.

commit 76d794eaf7c1664a47f4d0080fcd80e4a551740b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Oct 22 13:47:41 2000 +0000

    read_server_config: Check for result of read_config_file.

commit 56d8e862409ae91c63a27968b01a48a94aafb205
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Oct 22 13:37:15 2000 +0000

    Include linux/sockios.h and net/if.h anyway, regardless of the value of HAVE_TUNTAP.

commit 52b842f8076d507d3a6ea07045d085ae21d1aa10
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 21 11:52:08 2000 +0000

    - Fixed all debug levels.
    - Seed PRNG before generating a challenge
    - Strange thing in challenge decryption: it fails if first bit is set!?

commit 73f7efddd723b25c1477ec1139dc7211307ff660
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 20 19:46:58 2000 +0000

    - Removed last reference to genauth from Makefile.am
    - Tinc spawns tinc-up and tinc-down scripts which can be used to configure
      the network device. The environment variable IFNAME is set to the name
      of the interface.

commit fba19c30c92d39e74f5fd5594053793b036f30f4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 20 16:49:20 2000 +0000

    - Made Makefile.am stub for doc/es/
    - Merged genauth into tincd
    - Updated dutch translation

commit 97ec5685b92ea727fe8f8b4bb8cf289a20f8580b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Oct 20 16:44:32 2000 +0000

    Generalized list and hash handling functions

commit 699e159a7a1711034f1d16d68ad1974a82e12dfc
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Oct 20 16:43:13 2000 +0000

    New function: xalloc_and_zero()

commit 4059151732afb7d8fb52121d80e54f2ee325d30e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Oct 20 16:42:22 2000 +0000

    Add all the new files to the sources list for the utility library

commit 9f64499e40a95a8c05c82924219517aa017fc411
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Oct 20 15:34:38 2000 +0000

    - tinc now really does public/private key encryption! It even works, whee!

commit 71f05ff8956cb2e62181fcef763709b0de8faa68
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Oct 19 20:56:49 2000 +0000

    Generalized error handling functions

commit 95f4e8620ef8e2cdec1cc3b2ccb8cc8e3ce94e40
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Oct 19 20:39:04 2000 +0000

    Add check for the syslog function

commit 430e14162918864f9f18aad0ec0badc1ccc3e01f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Oct 19 17:29:22 2000 +0000

    Changed changelog

commit d5fd1344e668da0bc8536e798f347041d5377843
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Oct 19 14:42:00 2000 +0000

    - Seed the PRNG using /dev/random before generating the keys.

commit 30df5e95dbe585c6076d743d3771a42ad7c78590
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Oct 18 20:12:10 2000 +0000

    Bring head revision up to date with cabal (try #3)

commit 571cfb5846c710a0a3cdbdddce8936f6b34f1cf1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Oct 18 19:44:11 2000 +0000

    Get the head revision up to date with cabal

commit e75315dae609f32041ca5ed939fd2a1b69d32d3e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Oct 17 10:15:20 2000 +0000

    Don't declare cp_file and cp_line in xmalloc()

commit 31c543ad0fa1d19667a03a9bd183c668def23da0
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Oct 17 10:14:25 2000 +0000

    Process subdir es/

commit 20301888b7a0a206119d2cfc48ccf1a667bb4add
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 16 19:04:47 2000 +0000

    - More fixing. Tinc daemons can now even create activated connections.

commit bb3d18d56fa0dd2bc5146d0a0044b6ef0880bdb4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Oct 16 16:33:30 2000 +0000

    - Fixing little things
    - Two tinc daemons can connect to eachother now (but they disconnect right
      after the ACKs).

commit 6e32b870ee127555888a115163922362c99009f9
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Oct 16 11:35:10 2000 +0000

    Output doc/es/Makefile

commit baeac83bf465a47d46082e1de40ea14dcf1d39af
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 15 20:30:39 2000 +0000

    Corrected #ifdefs for tun/tap support.

commit 782171fd2c59b7cc5568d2d4b33ce041834710ec
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Oct 15 20:21:27 2000 +0000

    Really #include the if_tun.h files now

commit 8a54c51238672abd7a72c1dbdc7d17b9956a0d35
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Oct 15 20:13:55 2000 +0000

    Linearized checks for if_tun.h

commit e5130495d7d4083d58ab76c26001aa27f5fc13db
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Oct 15 19:53:15 2000 +0000

    Wrap the tun/tap code in #ifdef HAVE_TUNTAP

commit 3b455b8f318528206b08121f5ce93d16e4ea01df
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Oct 15 17:26:31 2000 +0000

    Add checks for the presence of the universal tun/tap device driver.

commit 85adeef21275633b78a234b2660cbe3bc9dd2c33
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 15 00:59:37 2000 +0000

    - The daemon actually runs now (somewhat)
    - Added support for tun/tap driver (autodetect!)
    - More sophisticated checkpoint functionality
    - Updated dutch translation

commit 97ce045189e330e121873d1b4be1959c60062cbb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Oct 14 22:22:06 2000 +0000

    Add CVS id lines

commit 2e159d0139e77041ad82e96bf0abef6aaf64a258
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Oct 14 22:17:29 2000 +0000

    Fix `Requirements'-section for GMP and OpenSSL libraries.

commit 1d5bb49f261b4346b5a440ae6bbf58fe391ea46e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Oct 14 22:00:09 2000 +0000

    Update Depends lines to reflect the dependencies on OpenSSL

commit e9635ae38e0e2e3eb92568a1e234f8348856dd69
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Oct 14 17:04:16 2000 +0000

    - Second fixing-things pass: it even links now.
    - Lots of FIXME comments added to the source code.

commit 6a8c2e346e6125e58aab428e6730c18a949abe12
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Oct 13 23:34:56 2000 +0000

    Don't look for GMP header files

commit f18e30dab3c208fd353af11e365791035534f444
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Oct 13 23:30:11 2000 +0000

    Updated new requirements, pointers to the manual

commit a96f2f0fc8a02593d4cda5976df3c76fc5c99eae
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Oct 13 23:29:35 2000 +0000

    Link with OpenSSL, forget libGMP

commit 183a8edd22ba4bc682392c73ae02fc9e121eda68
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 11 22:01:02 2000 +0000

    - Fixing-things pass: every source file compiles into an object file now,
      but linking tincd does not work yet (must link with openssl libs and
      define some missing functions).

commit 6e39481d8f2406e60b5e329ace08b5a005d5cc43
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 11 13:42:52 2000 +0000

    - Generalized config file parsing to support multiple configuration trees.

commit 451e9e3e7a968151de541de68603a01f0922b415
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 11 12:07:27 2000 +0000

    - Changed genauth to produce rsa keypairs instead of random passphrases.

commit 950fb8e916b0e248dcaa72c96859acd6046683aa
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 11 10:35:17 2000 +0000

    Big and bad commit of my current tree...
    - Added seperate file for connection list handling
    - Updating everything to use connlist, meta and subnet files
    - Removed dependency on libgmp
    - Lots of other stuff...

commit 73d0dcfcc1019ee745a422982b4e3ede9d59dd91
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Oct 4 15:09:57 2000 +0000

    Removing cipher directory (all will be covered by OpenSSL).

commit 2228b16159a7aff64e6559ee1635716154e67fe6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Oct 1 03:21:49 2000 +0000

    - Added subnet handling code
    - Other small changes to header files

commit 676b1c0ea111406eb94a74ae12878dfd5ad9f56d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Sep 27 20:32:29 2000 +0000

    Many updates, parts rewritten, added, shuffled around.

commit c78a204f06182f50b0812c8e4fef6163e82097bf
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Sep 26 14:06:11 2000 +0000

    - Added meta.c which contains functions to send, receive and broadcast
      metadata. It will also handle encryption and decryption, and possibly
      compression and checksumming.
    - Moved request dispatcher to protocol.c.

commit 2c412009e5805f04c650889b19fcb38531f2aa50
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 25 20:08:50 2000 +0000

    - Very detailed example of the authentication phase.

commit 361690b18c1f5464db7b9cef235c648784780dfb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 22 16:20:07 2000 +0000

    - Removed options "string" stuff. It was a bad idea...
    - free() everything that is allocated.

commit 5afc1e98f436c4a2ed5da4b64293275b09632c79
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Sep 22 15:06:28 2000 +0000

    - Severe code reduction and simplification of challenge requests
    - "Finished" [add|del]_subnet_h
    - Added lots of sanity checks to [add|del]_host_h

commit 5d0b3516d5e8a46ca2268bdb32657b72295501ec
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 17 21:42:05 2000 +0000

    - Updated authentication scheme.
    - Removed all trailing spaces from all lines.
    - Added things to add_ and del_subnet_h.

commit 84f210edd9e72a65ca8b034a0d3bbc12e506c580
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 17 20:11:59 2000 +0000

    - Included authentication scheme from protocol.c
    - Added a few comments about the symmetric cipher.

commit 2863134a4113b7805a662f45a21a1be0ae9606cb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 17 19:57:39 2000 +0000

    Added document about the used cryptographic algorithms and the reasons
    behind them. Feel very free to comment on this!

commit 33a5b4547141c11b5128d9f4863fcf6cf8e33452
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Sep 17 10:28:57 2000 +0000

    Added Spanish translation of the docs by Matias Carrasco

commit 7f3ab38c222809b15da2fe8dd655d35432eaafe0
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Sep 15 12:58:40 2000 +0000

    Second round of fixes

commit ed397b6ac676329b237e219c806143cccf456b3c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Sep 14 21:51:21 2000 +0000

    First round of needed fixes after the overhaul

commit 296171d115614d61480d896cd77898f5393c191d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Sep 14 14:34:38 2000 +0000

    New directive: Name.

commit d335c6d0d7328fd86154dc60b22deb7953ab0228
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Sep 14 14:32:34 2000 +0000

    Added some structures and types that are needed for the overhaul.

commit c04c84c98055c6b9e9e7890d3992648a3b715a1a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Sep 14 11:54:51 2000 +0000

    - Lots of small changes.

commit cd6695df82c55454a3f5b644f5c20a8ed31e7c97
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Sep 11 11:40:46 2000 +0000

    Better checks for SunOS libraries

commit 9c75350ac6c14886195b6d368af2f118fd5d60e0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Sep 11 10:05:35 2000 +0000

    - Fixed modulo in keylength check
    - Updated header file to reflect new protocol code

commit 76b5f255c6cb0c5dfb5a870c371ec6f7c7879bb2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 10 23:11:37 2000 +0000

    - Some key exchange stuff. (Last commit before going to bed.)

commit 675ed08a71ec28d8ae99e10e993d5c7cb717f017
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 10 22:49:46 2000 +0000

    - Lots of functions added for the new protocol.

commit 9926dae4646a96ee647a2ca7d728e91600dd1cca
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Sep 10 21:57:11 2000 +0000

    Add Guus' name and shift out old protocol requests

commit 74157d3f4501f4d1ec913a986b7167d2b847e41e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Sep 10 18:37:46 2000 +0000

    Correct filenames for passphrases given in the example

commit 6b9ec9ed1e818d5e50dda4418ffb4d02c898bcba
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 10 16:15:35 2000 +0000

    - Added more function skeletons for the new protocol.

commit 28cc30159565a7eda4f66215a5994d84b46b47ad
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Sep 10 15:18:03 2000 +0000

    - New protocol. Will break everything else for now.

commit 7884d3ecaf78006b3f288d99f10ef541fc97087e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Sep 10 15:16:07 2000 +0000

    Support for -lsocket and -lnsl on SunOS

commit 14554e6f421e881b01be20879e9279545f375154
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Sep 10 15:15:38 2000 +0000

    Include openssl/blowfish.h

commit 45ea3ca432a031ff1b8072d934709aadaae12534
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Sep 10 15:07:41 2000 +0000

    Updated text, removed protocol flowchart

commit ae17572e6b94c6e7a2123ddeb45bf66d389ac7a0
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Sep 10 15:05:45 2000 +0000

    Link with OpenSSL crypto libraries instead of own blowfish library

commit 4dde583bc91985c3ff19ac1d1f1bc791b50658ff
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Sep 6 11:49:05 2000 +0000

    - Use strerror() instead of sys_errlist[] for increased portability
      (Needed for SunOS)

commit 66e535a729dd5a9e45600ab74dc19c2b4062ee96
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Aug 27 11:05:47 2000 +0000

    Changed CVSROOT path in `make ChangeLog'

commit 39e159fbe6bbffb3229542258f956fc412bd871c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 22 14:55:04 2000 +0000

    Fix rules (thanks to Laurence)

commit 47992fe59f4c1b4116e4872d59251b143edc6763
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Aug 21 20:35:47 2000 +0000

    Added a rule to create an rpm

commit d9af4f32330a495789d8eecdabbbb49928f074a7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Aug 21 12:50:15 2000 +0000

    Updated tinc.conf manual.

commit 94a32c4b2d2ff5d4bb1376fe5ec96c6dec55f630
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Aug 20 23:08:17 2000 +0000

    Also chomp $VPNMASK

commit 861e808fef1f6796d837215f9ad135fb4cb50f5c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Aug 20 23:07:18 2000 +0000

    (Quoting Laurence Lane:)
    
    The prefix is correctly set for /usr, but is
    overridden with the current make install. DESTDIR is the clean way to
    relocate the installation into the debian/tmp build dir.

commit d3f41b803bf3c38910f24f1f268f182466723149
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 18 14:45:38 2000 +0000

    Updated the manual:
    - incorporated comments from Stefan Hartsuiker
    - updated configuration variables section
    - added some text about key types

commit 5c78e158d414595ab32399645678a43bb4469be6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Aug 18 11:17:09 2000 +0000

    Commented on some size calculations.

commit d2c062a0a440d2871939b4ffdc2dbb137a4d45e7
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Aug 17 17:22:01 2000 +0000

    Ran update-po and updated dutch translation.

commit 3831f51a53088bfcc1d148fd54b3083afe7fde32
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Aug 17 16:51:08 2000 +0000

    Fixed all sprintf() spl01ts.

commit 9acd4379f705edc8b736e21b9011434e63f7dd95
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Aug 9 14:02:16 2000 +0000

    - Added two extra configuration options, Interface and InterfaceIP, to
      bind the listen socket to a network device or a specific IP.

commit f6d79366b3efaef0a458717aac5e6754630dd434
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Aug 9 09:34:21 2000 +0000

    - Reinstated O_NONBLOCK for meta socket
    - Set SO_KEEPALIVE on meta socket

commit 3cfc9424f255c26f2a7775b6fa059f1e3e47a76e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 17:07:48 2000 +0000

    - Moved TCP packet reception to meta handler: less kludgy and less buggy!

commit e092d15be17db1d69c37f2aba46c66e03631c099
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 14:54:57 2000 +0000

    - Added date/time of build and protocol number to --version output.

commit ff87f385c3a81499eff6b848aed8548cf6e5132e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 13:47:57 2000 +0000

    Removed calling add_queue for tcponly packets.

commit ac73c72488dd8b33464fac1f392e89df48f7a23b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Aug 8 08:48:50 2000 +0000

    Fixed PACKET read loop.

commit b6997b0050e78a2f2e517beba3ff01d9232b3d1f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Aug 7 16:27:29 2000 +0000

    - Lots o' buglets fixed (-Wall helps)
    - Made TCPonly work :)

commit fdc6a2f106315cd9ed22943d8c0bd279631e66b4
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Aug 7 14:52:16 2000 +0000

    - Added experimental hackish tunneling-over-TCP support.
      Just use TCPonly = true in the configuration file.

commit 42455e97a057fb4386f9d8fb2f8963b2ec6ddf24
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 2 13:40:57 2000 +0000

    - Fixed typo.

commit b1ecbf977722ec473fc8007acd39eb0de581de1a
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 2 13:36:18 2000 +0000

    - Delayed address resolving for ConnectTo lines in configuration file to
      allow DynDNS to work without restarting tincd.

commit 6642ec2ea4e97a2fb3e737653ab1b9351ac759e9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 2 12:48:04 2000 +0000

    - Updated THANKS file

commit e0de803c7e80621600409a0c760241a3d97617bd
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jul 2 12:41:03 2000 +0000

    Include the Spanish translation in the distribution/build process.

commit 721d85f77277813345bdb63a610e984cec996613
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jul 2 12:35:28 2000 +0000

    - Added Spanish translation from Enrique Zanardi.

commit e821a22876d15c921a4c1fbc0f792d83e90916f6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 1 14:40:56 2000 +0000

    - Forgot to mention ourselves in the tincd manual page! :)

commit 09f4ec190119298187cec09dd5049af8fd8bad94
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 1 14:32:24 2000 +0000

    - Updated PROTOCOL (a bit)
    - Included a real tincd.8 describing the options, signals, debug levels
      and files used by tincd.

commit d3ea434b3684093d6d160b8077c1f51a50ac7f61
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Jul 1 10:39:28 2000 +0000

    Autogenerated by gettextize.

commit 1b28f88808b9ac3193cf9a0db7a81a89eed8b4ef
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jul 1 07:49:21 2000 +0000

    - Removed a single unused bit from status_bits_t.

commit 7fdc881b86fe379216f09dd5703bb88d398c87a8
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Sat Jul 1 07:29:32 2000 +0000

    Added architecture section, made a start with the kernel section.
    ToDo: install tinc myself to see if everything is as I say =)

commit 8ec648abf438bb5fcfe84e3a1c6a31192dc32b2e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 30 22:38:58 2000 +0000

    - Added documentation for the protocols (most important the meta protocol)
      used by tinc.

commit ce72275a4342ff4e21d21bb740ee88dca1ddb5f1
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 30 21:16:52 2000 +0000

    Grrr, recommit

commit bbbdda255d6e7a8730906a1b6c2bfdd2ce1b94cf
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 30 21:11:34 2000 +0000

    This file is now only in the CABAL revision.

commit 28a140668f892873b01afe104d21db4adb8fd8c7
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 30 21:09:32 2000 +0000

    More about keys

commit 1a1ebefd572c18d6af187750847b024ce07551ae
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 30 21:03:51 2000 +0000

    - Made tinc even more silent if no -d flag is given at all.

commit 79ad21c392e56cad2556e7693b9639d8e2346a59
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 30 20:57:30 2000 +0000

    Added extra bit about keys.

commit 8309e9b869c25677d674f5cecb8b7ac5469d1758
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 30 20:50:47 2000 +0000

    File added to CABAL (hopefully)

commit 5cd0f940c7334959534d3ab4e1f3c7cac67ee38a
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 30 20:42:07 2000 +0000

    added bit on config file, split up sections, added Id: tag

commit 6f5aac4e39cd6fb2fb76c0121de3f3782f72f18e
Author: Wessel Dankers <wsl@tinc-vpn.org>
Date:   Fri Jun 30 20:16:15 2000 +0000

    Initial revision. Lots of loose ends, not usable yet.

commit c5737583c8a5d099a71174e1eb997e0972ae03e9
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 30 12:41:06 2000 +0000

    - Instead of logging an error when remote end closes the connection,
      we print a nice message if appropiate debug level is set.
    - If we get ADD_HOSTs or DEL_HOSTs for ourself, then connection lists
      are really messed up. We restart, and hope our problems go away.

commit 24874d0806bac5d75663ea9de67a71171bfc97b6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 30 11:45:16 2000 +0000

    - Removed segfault bug in conf.c (must have been there for ages!)
    - Made main_loop() signal proof
    - #defined MAXTIMEOUT (15 minutes)
    - If something really really bad happens, close all connections, wait
      for MAXTIMEOUT seconds, and then restart tinc

commit 0f9ad1f047efec53590dc43f07d225e5f20456cb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 29 19:47:04 2000 +0000

    - Fixed memory leak.
    - Implemented SIGHUP configuration file reloading.
    - Other small changes.

commit 18c85caac36f7236454deef11b9eba74328dbd96
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 29 17:09:08 2000 +0000

    - New semantics for BASIC_INFO, ADD_HOST and DEL_HOST requests. This will
      improve connection list consistency, ensures the tree property, and
      allows for recovery from situations where track of connections is lost.

commit e8e7379311ca3bf6e1fdd7d0f477a43e510e2317
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 29 13:04:15 2000 +0000

    - Removed all IP_ADDR_S macros, because gettext doesn't like them. Each
      connection now has two hostnames: real_hostname (replacing the old),
      and vpn_hostname. In those places where hostnames really aren't usefull
      IP_ADDR_S has been replaced by %d.%d.%d.%d.

commit e0ddb638d1fb7abf19969ac887f3b7a2bd8225c1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 29 07:11:23 2000 +0000

    - Updated Dutch translation.

commit 0a155580a3d55633bbc3a1e7dcbe8906f41913be
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jun 28 21:06:40 2000 +0000

    Oops, and mention Guus too.

commit f2c9e7f3bbada3fbfe80f622ebc06540afb60c21
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Jun 28 21:01:45 2000 +0000

    Removed Free Software Foundation copyright, because Guus Sliepen contributed significantly.

commit 3df9b89204626afdd514d5b7323801af76a5cd26
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 28 14:34:40 2000 +0000

    - Added log message when SIGCHLD is received ("thanks" to Ivo van Dong)

commit 8c6c60adf3d5942c6368bafe9a4d4377ffad1abe
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 28 13:41:02 2000 +0000

    - Fixed a message in nl.po
    - Woops, we forgot to send our connection list to our uplink when we
      connect to it... Fixed.

commit 63c5192d570e2ba5952b4e5a807e4ab4d6fdad76
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 28 11:39:40 2000 +0000

    - Fixed missing " in nl.po

commit ea40d3f1a05e9edf4ccfb77f4e9e0f8355e94a83
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 28 11:38:01 2000 +0000

    - Fixed some spelling errors.
    - Paar zpelvautjes gerepareerd, en de Nederlandse vertaling weer bij de
      tijd gebracht.

commit dba2995db73313b1c0a56ce13395dac0bc7571a5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Jun 28 10:11:10 2000 +0000

    - Extra check op EINTR bij inlezen requests

commit 4ee53e7dac93d1edad8664edffdfaf142438b85d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 27 21:05:07 2000 +0000

    - Fixes a silly little insignificant buglet.

commit 070ad08118a33755835b31174e2b04e84f75556e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 27 20:55:12 2000 +0000

    - Purge old connections that are ADD_HOSTed.

commit 4aeaea5e590fbd38aebbfacf2672304d04ba4ad1
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 27 20:10:48 2000 +0000

    - Improved handling of errors on connection attempts.

commit 45a28b1e893d4da9d7977945a35ec6a8e4554830
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 27 15:08:58 2000 +0000

    - Fixed indirectdata=no problem
    - Added support for multiple ConnectTo lines in tinc.conf.

commit 4faed1b8546563def6a426c563cec2a26d927eda
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Jun 27 12:58:04 2000 +0000

    - Fixed KEY_CHANGED notification. A lot of notify_others() calls were
      wrong (first two arguments swapped). Should probably be doublechecked.
    - Don't retry to connect to hosts with different protocol versions.

commit 04cb206298df033d254ca007205d13f9a670c402
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 26 20:30:21 2000 +0000

    - Moved all connection messages to debug level 1, without -d's only the
      startup message will be logged.
    - Fixed DEL_HOST rebound.

commit 783c8298610d5670f6e118f49bd3d1fdfa61ae1d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 26 19:39:34 2000 +0000

    - Indirectdata finally REALLY REALLY works now!
    - More precise debug messages

commit b3681ebf6c255daf082ed254282cbf493af8fa93
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Jun 26 17:20:58 2000 +0000

    Fixes some hostlookups. Fixes indirectdata for real now (hopefully).

commit 03af6d8c8056d0b7006f7d8fb19bb33d303ac8f9
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 25 20:52:29 2000 +0000

    Version 1.0pre3.

commit a473ece8a0d83be5f7992888a6a3ff938dc4fb72
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 25 16:39:17 2000 +0000

    - More verbose connection list
    - Added "myself" as hostname when logging indirect ADD_HOSTs

commit f1f901112e44beaecd3037dae27407ea83edd86e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 25 16:20:27 2000 +0000

    Hostlookup() is actually being called now.

commit 54079bdf03e74c686f556f86082b9d14b5be227c
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 25 16:01:12 2000 +0000

    Hostnames are back!

commit e4b586ed070908f866a450292f9759004e6affa8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 25 15:45:09 2000 +0000

    - Log possible spoofing attacks.
    - Don't broadcast DEL_HOSTs for hosts that haven't been activated yet.
    - If a host sends a TERMREQ, deactivate them.

commit 9a1103a7be86de3da5548fd6446e6e4fe554cc08
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 25 15:42:40 2000 +0000

    Changed version number to 1.0pre3.

commit d8d2b83350e890adae9c9cede6e21ea4169abe00
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 25 15:42:40 2000 +0000

    Changed version number to 1.0pre3.

commit 7648bc606596851942dd6437ddaa93f53ab20f09
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 25 15:22:16 2000 +0000

    Added CVS Id tags to header files.

commit 7f7e158aae8df5c65211bcfa82516e7c243cdd2e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun Jun 25 15:16:12 2000 +0000

    Large cleanup:
    - Removed hostname lookup (it blocks, and you can always do it yourself)
    - Reorganized debug levels (after hints from Axel M�ller):
      0	Startup message and errors
      1	Connection logging
      2	Meta protocol information
      3	Verbose meta protocol (includes copy of transmitted requests)
      4	Packet information (logs transmission/errors of UDP packets)
      5	Verbose packet information (every single byte, not implemented yet
    	to protect ourselves from filling up /var/log directories)
    - Made log messages more consistent

commit 3c54a513b0c0a3acac60e03403ab4abfa0688c62
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 24 12:35:42 2000 +0000

    If we have "indirectdata" flag set, we only send data to our uplink.

commit d8e2f7104c3203edbf23d2349656c765a4310dee
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 23 19:27:03 2000 +0000

    First step for implementation of the "indirectdata" directive. This should
    allow _leaf_ tincds to be behind firewalls.
    The protocol has changed and is INCOMPATIBLE with previous versions. The
    PROT_CURRENT value has been incremented.

commit 33c3a25a66251606cbf20d3bd5b392d8837116e3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Jun 17 20:55:54 2000 +0000

    Configuration directive `IndirectData'.

commit 1c8adb5e1f12894fc9a478fbf29678fb662e03ab
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Jun 17 20:30:44 2000 +0000

    Merge changes from 1.6-1.8.

commit 0d167e1f5d8778674a9a77b2256050e3afe2896e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 17 08:30:45 2000 +0000

    Added another semicolon for bash2 compliance (thanks to Jamie Briggs)

commit 00f316810aa808368cdff620b1a1efdd1fcade20
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Jun 16 05:44:26 2000 +0000

    Applied patch from Jamie Briggs for bash2 conformance.

commit ef294a69678bc7cba6d2ee0be96f683249672222
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Jun 6 10:24:33 2000 +0000

    Include ../intl in the include path, and add @INTLLIBS@ to the list of libraries.

commit 66e98068051bc52fa064650710260f89c09f8cfd
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 4 12:14:31 2000 +0000

    These files are created by gettextize (run by autogen.sh) (should have known that).

commit d1d4a524dee9d75b067ac8e25770557cf22f4afe
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Jun 4 11:50:46 2000 +0000

    Check for __gmpz_powm for libgmp3.

commit 377c4df245ceb8c19cabfe6d7a7c76841c07ba52
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Jun 3 23:32:03 2000 +0000

    Don't touch VPNMASK if it's defined, otherwise use $MSK.

commit 9193aee8159ce53b349557ba1ad8ed23111042bb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat Jun 3 08:27:16 2000 +0000

    Removed items in TODO list that are already implemented. Only two items
    left.

commit 5796d2f5b7310fa8841f76bbc7bbcf2385d960c3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri Jun 2 17:30:33 2000 +0000

    Alphabetized the list, added Lubom�r Bulej, removed Sander Smeenk and Tijs van Bakel, put merits after all names.

commit 18b3084d2525c59f62b75346fa657ccce6459712
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Jun 1 20:21:27 2000 +0000

    Debian init.d script automatically sets tap device's MTU to 1448 now.

commit 77be52422d8c28735f787b1c233b4cec73d4db56
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 31 18:23:06 2000 +0000

    Miscellaneous copyright updates.

commit 8cb4bb619d777022a55255c5fa17a1a55a270ff3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 31 18:21:27 2000 +0000

    Handle locale settings.

commit f20df109a638ac3a86efa70fac39e1dae8e87208
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 31 18:19:33 2000 +0000

    Version 1.0pre2-1.

commit 4ae74c50b7faadf31086bc61af0f8158a465e521
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 31 18:18:21 2000 +0000

    Updated Dutch translation.

commit 7037286586151e28b7c5f1fe09dd6c5faca18cdc
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 31 18:17:45 2000 +0000

    Tell about /etc/tinc/nets.boot.

commit 65a9eedb05387b8cf77dbbbc56347b44a28de624
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 31 18:17:27 2000 +0000

    Include news for 1.0pre2.

commit 17fa07510ad74d0f96f9700538d32eb8e7b2a0ce
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 30 21:36:16 2000 +0000

    Only accept an ADD_HOST request for a host that already exists in our conn_list if the nexthop field matches the sender.  This is a workaround for older clients.

commit e7f22d2f5f0a5fcd52da7512ab734b0ba52c623f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 30 12:38:15 2000 +0000

    In terminate_connection, only send a notification to hosts that are directly connected to us.  (DEL_HOST gets forwarded automatically.)

commit 2fdda8e4fa6c6ace5f7e9421f0644a3ffec388c9
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 30 12:31:41 2000 +0000

    When a connection is terminated, all hosts that are still connected get notified of the lost connections.

commit f826301889e1fa1a22770919f0385c3ca04c740a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 30 11:18:12 2000 +0000

    Added new configuration directive `Hostnames', which controls the resolving of IP addresses to hostnames.

commit a7ad161d2b115b6a2a69c5dc8ddd33008d3562d0
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 29 23:40:05 2000 +0000

    Only activate a connection upon receiving it's public key if it's an
    incoming connection. When it's outgoing, we need to receive an ack first.

commit 5654e156a31d05ac3026790f7749d0401b2eaabc
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 22:27:15 2000 +0000

    Updated changes list for version 1.0pre2.

commit a822c7466aa91a819c498336f91c63d224c3af11
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 22:20:04 2000 +0000

    Bounds check for request id (between 0 and 255).

commit 0f2cf48d304e20abb9b3cded2aaa693828c9d412
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 22:15:38 2000 +0000

    Dutch translation of tinc.

commit 386a62ff57f283b415fd757a8c4645b24c3bd3bb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 21:40:51 2000 +0000

    Define LOCALEDIR in CFLAGS.

commit 4cd009f774e4c50cdacc06d351cac19ca3247b6b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 21:40:20 2000 +0000

    Include GNU gettext checks.

commit 5814939c9d0e801bdbed6c96092fd90b6dcd859c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 21:38:02 2000 +0000

    Update acconfig.h to include values for gettext inclusion.

commit b200b0d812763563dbe09e5da116c55e45f89e4f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 21:36:28 2000 +0000

    Include system.h and ABOUT-NLS.

commit b9ea0633c7243de552d581f4486902c67aefd695
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 21:04:55 2000 +0000

    Include intl/ directory in the list of subdirs.

commit 9fd02ffcb0cacf3de26e876de5f30510bff137a3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 29 21:01:26 2000 +0000

    Internationalization of tinc.

commit 61e71ab74ad9b5edb044b84ccf1111a33eb468cb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 27 20:23:01 2000 +0000

    Terminate a connection on any error. Furthermore, disallow del_host,
    add_host and other important requests until remote host has properly
    authenticated itself.

commit cc01b18bc6d0bfb12e6770fc0a007c278f355d9e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 27 19:44:04 2000 +0000

    Made tinc persistent. If no outgoing connection can be established right
    after the start of the daemon, it won't quit anymore but will retry in 5
    minutes. Also, 5 minutes is now the maximum time to wait for a retry.

commit 028659bfbf164cb7a72831506896e291010b251f
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 27 19:23:20 2000 +0000

    Fixed typos. When terminating a connection, it's status is not only set to
    remove=1 but also active=0.

commit e4ff969a9868ecc25a85daab620f97227de8d493
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 27 19:04:12 2000 +0000

    Fix for a DoS attack:
     A remote user could telnet to the tinc daemon and type only this line:
     61 6 00000000/00000000:28f
     This would deny any packets to be sent to other tinc networks (except
     for to the hosts that run tincd's themselves). Solution is to skip
     hosts in lookup_conn() that have not been activated yet.
    Fixed potential conn_list table corruption:
     If a new connection is accepted but a connection with the same subnet
     would already exist in the connection list, the OLD connection is
     terminated.

commit 4d71de15e8abd137702a5dc04a743d246c3f1110
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sat May 27 13:21:20 2000 +0000

    Documentation updates. Removed all references to configuration variable
    "AllowConnect", since it is NOT used in tinc. Added information about
    "VpnMask". Elaborated a bit about "private" and "virtual" networks.

commit 85e3c1f2716c622ca8cada83d833703bf8a3ecc6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 26 11:25:59 2000 +0000

    Updated by Lubomir Bulej and Mads Kiilerich: it uses /etc/tinc/nets.boot and the VpnMask directive in the config files.

commit 3a6ffe6895b681377a9553c01e3777f499b90d4a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 21 23:01:28 2000 +0000

    Create an empty /etc/tinc/nets.boot.

commit b9a86ec70ed4ffe5009c4979454f0d99c8559b45
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 21 22:40:41 2000 +0000

    Use /etc/tinc/example as a base directory for an example.  /etc/tinc/example/README points to /usr/share/doc/tinc/README.Debian.

commit 63847abdfdad03a69bfd967929336e113cdeb09e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 21 22:38:01 2000 +0000

    Add an example of using VpnMask.

commit 2469acc0900edeb8f1e3263fbf58bf74639c1b12
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 21 22:27:31 2000 +0000

    When VpnMask is not present in the config file, silently use $MSK as vpnmask.

commit 73b3e7ce03cacb644a8101610933b221fdf432d6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 21 22:21:38 2000 +0000

    Fixed last typo. Init.d now uses ifconfig command to set both the tap's IP
    address as well as the correct route. Furthermore, if no VpnMask is given,
    a default of 255.255.0.0 is chosen and a warning issued.

commit 2ad4f1cc5b6013be2deee82b0cb3f731adb51616
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 21 22:08:21 2000 +0000

    Typo.

commit e25fc3a3dc4bc407bd0645fb9891ac127a83f468
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 21 22:04:56 2000 +0000

    VpnMask truely works now.

commit 9ec4decec17f95cc7d5be66cc18bb040cce84d47
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 19 01:17:32 2000 +0000

    Mask the vpn net with the vpn netmask, route would give an error if the netmask didn't match the net.

commit 20e404ab5716b06b53a4a5443f8098f227770907
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 19 00:58:01 2000 +0000

    Fixed typo.

commit 44af1094be90878bd6fc09c40882cf2463046908
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 19 00:33:44 2000 +0000

    Updated copyright notice.

commit 01352f4c525862f05988ed8687f26210c5ba10a2
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 19 00:15:37 2000 +0000

    Errors will not terminate the script or result in a nonzero exit code.

commit 4ef2a8cfdb13c7eb2d811fc8c9f04df8970293c5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 19 00:14:34 2000 +0000

    Include postinst in the distribution.

commit 59ca017df4c9d0f7861693b4d2ec4b7dc8c98b1e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 19 00:09:20 2000 +0000

    Find networks in  instead of .

commit 0354962c9885f04801d8469214c172cc012cdcec
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 18 23:33:44 2000 +0000

    Don't distribute the file files.

commit b56705e18ceec9234578d7ac12939f7c59cff066
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 18 23:28:51 2000 +0000

    Version 1.0pre2-0.3

commit cbf6efb617f45ffc608fe5f61d09abdd85f444ad
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 18 23:18:54 2000 +0000

    Create a default /etc/tinc/nets.boot after installation, containing all directories under /etc/tinc by default.

commit e7d583adfaa50370d20f4cfe88ba5b6da399911d
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 18 23:09:31 2000 +0000

    Read /etc/tinc/nets.boot to find the networks that have to be started.

commit 8d4ab991b8c35382c9cd46dd65af873d9d08f63f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 17 23:13:51 2000 +0000

    This file is generated with dpkg-buildpackage.

commit ffc79bcd20b2b8085c906a446318817808bc36ae
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue May 16 16:07:15 2000 +0000

    TODO file reinstated:
    - Append your name to items if you're working on them.
    - Remove them if you fixed the problem/implemented that feature.
    - Add any (suspected) bugs.

commit cdab82d6fb7d7d32194cb2162a814fbc89b7db4c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 16 14:34:44 2000 +0000

    Use the new VpnMask directive to add a route to the rest of the VPN.

commit 85963f4c857abc2d9a4c5a3245cc11257140b9a6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue May 16 13:09:15 2000 +0000

    Stub for VpnMask config directive.

commit 30aff5ea2aebcfc0e97e60e73ed3edc2363634a0
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 16 13:03:32 2000 +0000

    Look if the tap devices exist before bluntly remaking them.

commit 0761eed64c4d6d2b8e9fa6a335ccdca8ea4b95db
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue May 16 07:56:05 2000 +0000

    *** empty log message ***

commit 0a2e2b0c8d20baf22b550f735b1fe63b0a1d377a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 15 19:48:46 2000 +0000

    Depend on perl5.

commit 7e817fcf0fdd25aae58259930006c61048b017cd
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 15 18:28:45 2000 +0000

    Unlimited length in the config file, thanks to Cris van Pelt.

commit b18af982af810ff4c050891ad2026960c43620a0
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 15 17:15:52 2000 +0000

    Exit with zero status if  is empty.

commit 4711a87922c84241e9bb312755d7b943ea8ae4b6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 15 15:54:37 2000 +0000

    Updated to newer version.

commit a0c4e7fe6d46988f3fb1100ef00db7b747c86f72
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 15 09:41:34 2000 +0000

    Test for existence of configured tinc networks. This will also make
    first install of tinc possible without errors.

commit 265bda08cd00feebb68243d4079854916b03638e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 23:03:37 2000 +0000

    .deb version number 1.0pre2-0.4.

commit 7a450d704b5a242f8bf9129af60593c90c63df5a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 23:00:44 2000 +0000

    tincd->tinc
    Delete libblowfish.y not be in the .deb.

commit 7fbfa990fcd38b8241281ce6f1a4e2992239986f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 22:59:47 2000 +0000

    Mention both upstream authors.

commit f7b04ea142623a43413f74e19b1b6a9a247647ff
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 22:59:19 2000 +0000

    Add description, better dependancies.

commit 9f07fe55dc4930920b9a5909d7057ca7bc16bad9
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 22:58:47 2000 +0000

    Add initscript, tincd->tinc.

commit df10baa50c3b421b03ac9eeaed4a4a19a47f611e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 21:18:10 2000 +0000

    Inserted useful content.

commit 6c722da77cc9185e48e22818ef88f2a88cf2efc7
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 21:14:23 2000 +0000

    Add shlibs control file for the blowfish library.

commit 803f908078e87f433727a3ddf2d61734e1ed9233
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 21:07:16 2000 +0000

    Give IP address instead of hex number when connecting tcp socket failed.

commit 4b1a1c2123626b50bd1a5382867986260440e9e7
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 21:04:53 2000 +0000

    Changed version to 1.0pre2.

commit ca900d388b996c629f0c87c7a62efb52bd219065
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 20:58:34 2000 +0000

    Version 1.0pre1-0.1.

commit 7d433ebd7610e0ff7e7b4c59979c446c0a1dfd03
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 20:56:41 2000 +0000

    Add check for mpz_powm in libgmp3.

commit de09916eadd4c558937d1a6367f5319ca26ed07c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun May 14 13:50:10 2000 +0000

    Only print an error with send_termreq if debug_lvl is 2 or more.

commit 9d023b1f2e7750f4a0e506c0f61498a44c0b95a8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 14 13:06:52 2000 +0000

    Fixed typos.

commit e20e143f1e99bdc0a7d92e97da1bd0dc40e8a83b
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 14 13:02:20 2000 +0000

    Changed ping behaviour (backwards compatible). If we don't have any data
    to send, we don't need to check if the connection is still alive.
    Furthermore, if we receive any kind of data from the other end, we know
    it's alive, so we don't need to check it either. So, PING requests are
    only sent if we send packets but there is no response.

commit ee96ccabbbf0180d5631d3c22838456f28ee9c15
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 14 12:22:42 2000 +0000

    Cleanups.

commit 8caa1b9d750bb7467d1c3330780b05ac2bbf9883
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Sun May 14 11:39:18 2000 +0000

    Proxymode removed.

commit 269067bb22e8f80deb43d3ac903f4e0d67af63d2
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat May 13 00:54:27 2000 +0000

    Perl version of the system startup script.

commit 12adf1af548b7d2f2baa4be16d2df956048b7855
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 12 13:31:00 2000 +0000

    Deleted the protocol description.

commit d0ba34ccae02d07051bc3f7012a6c116cfb3b653
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 8 18:44:15 2000 +0000

    Added new config variable "ProxyMode". If enabled, all outgoing packets
    are sent to the uplink (ConnectTo), which will have to forward them for
    us (kernel should do that). This is for people behind firewalls.

commit 92387475ace9b06af39987c71ac563cf29427009
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Fri May 5 10:48:54 2000 +0000

    Added semicolons required by bash2 (Mads Kiilerich).

commit bce2179fe350bf34cde0caab97f72c0930539840
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 4 23:26:24 2000 +0000

    Copied most of the code from the redhat script.

commit 74b0cbecce5194dc5c594cc4e2aa3e97c14ea6c1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 4 23:17:02 2000 +0000

    Include sys/types.h.

commit 2f7e532d703bbf6997ae04658379df0b0d844f62
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 4 23:16:43 2000 +0000

    Don't link in libdl.

commit d4ef7ea0e79ee0d2b7063893f7af5ece886d838b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 4 00:01:05 2000 +0000

    Check for the existance of libdl.

commit 87ccd613cab1947878ef60e3c927f717df089233
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 4 00:00:50 2000 +0000

    More for getopt support.

commit 6182664859383a86a47846cafdc1f6fcd73b5a76
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu May 4 00:00:06 2000 +0000

    Include stdio.h for fprintf.

commit 88a8826cf72297a784d597ba5a2b47058e1faf72
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 3 23:47:06 2000 +0000

    getopt_long() support for platforms that don't have it.

commit 3d218a31145cf6a4c625ed287cdf3f99e4fd9a03
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 3 23:00:38 2000 +0000

    Don't use error.h or error(), put #error in front of cpp errors.

commit a083b1cf305f3d241f2f4b36968a5b1ed9117612
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 3 18:02:15 2000 +0000

    Squashed gcc warning.

commit 78532475238b23eb52ac88d905fbf966d97a79d2
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 3 17:59:07 2000 +0000

    Fixes typo and UDP network byte order.

commit 505b5ec2cd9d6cf3dc655284a8c4041ce8527a07
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed May 3 15:37:32 2000 +0000

    Outgoing packets now use network byte order in header.

commit 2bc7a0c92831802eec167ad193515962a63690dd
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed May 3 15:01:54 2000 +0000

    Fix a typo, better handling of the info document. (from Mads Kiilerich)

commit 89610e3fbada1dee79769b8146a500c8357fd81d
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue May 2 10:16:50 2000 +0000

    Replaced sprintf() by safer snprintf(), removed possible buffer overflow
    by one byte.

commit aeccaca829842910b4a5c8a5fa61e1738492bea6
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue May 2 09:55:34 2000 +0000

    Previous fix fixed. Meta protocol should be really flawless from now on!

commit 989d7edc07fd407e7f7838b45986f4e37359ef97
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue May 2 09:10:33 2000 +0000

    Fixed small mistake that would prevent forwarding requests.

commit 069c146656b8f952e465492c53ab5b514e959565
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 1 22:00:02 2000 +0000

    Mentioned new metaprotocol.

commit bd0325655867b1dff740d52d0505773bba0606a6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 1 21:47:12 2000 +0000

    More tincd->tinc updates.

commit a9247e6f2c57bda9dc62ed050f41048847109e83
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 1 21:31:59 2000 +0000

    Fixed meta protocol.

commit 9ea27f76fab3663c9c83a7fe7de95f74cbfd59be
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 1 21:31:17 2000 +0000

    Committed by Mads Kiilerich.

commit a92604fa5dffef589fc3042c5ae09ae8878e8cff
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 1 19:17:09 2000 +0000

    Updates by Mads Kiilerich.

commit ca6abd41ea0cdf2ca6491c3945fb3c62fd40ab98
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon May 1 18:07:12 2000 +0000

    Meta protocol overhaul. Tinc is now incompatible with previous versions,
    furthermore this version does NOT work yet because of a problem with
    sending keys (these should be converted to base36 or something like that).
    It is possible to telnet to the tinc daemon now and type some commands
    by hand though :).

commit 3219be5770716bdb0c8b6e9e4c674a447c5085f2
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon May 1 16:28:28 2000 +0000

    Committed by Lubom�r Bulej.

commit 33cfdf43f4309c17d6df811b3c5d0af3a1c8679f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 20:48:48 2000 +0000

    Key forwarding, write one byte extra.

commit 75d351eaf1264cfb7aa47166469e8ec722712a89
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 19:49:49 2000 +0000

    Protocol fix (ANS_KEY).  This breaks 0.3.3 protocol compatibility.

commit b4290c3f4360f3cf01bb44957da0d8a20eac75f3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 19:03:00 2000 +0000

    Send one less byte from an ANS_KEY request.

commit d878230ebef5f1a14a23c266dc425666d9e805eb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 18:57:16 2000 +0000

    Read one less byte from an ANS_KEY request.

commit 789a4c4f400de31d43b9c5f349f1de417443074a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 16:34:31 2000 +0000

    Removed debug messages.

commit eb1c9814e6b2a5206be1fadf19e0dc779690a69e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 16:31:23 2000 +0000

    Read public keys the right way (tm).

commit ca73b722cbad5a08ec9bb5026ed5129da9a24bd8
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 16:11:05 2000 +0000

    New way of handling the meta protocol.

commit cd12345032e8547a50a1f7450814364f39f0c4ec
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 13:23:53 2000 +0000

    Replaced check for status.active by status.dataopen in check_network_activity.

commit 4b076ee87fcf8aaf1d9a2bd3c27524b4e3840167
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 01:16:51 2000 +0000

    Initially, the vpn_mask of a connection is 255.255.255.255 to avoid confusion with lookup_conn.

commit 1c007c0627ad5e71b8218fcb086240970e955c87
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Apr 30 01:15:47 2000 +0000

    Got rid of the nasty hacks... and replaced it by another one.

commit c02745991422ac3d8097b126e8b256a9b33ad24b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 29 20:39:36 2000 +0000

    Filled up the protocol structs with unused bytes.

commit d3e8e8ca54928e48400584d8a70c42bbf4ae6aeb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 29 20:38:23 2000 +0000

    Added `deb' target.

commit 4dbf7022a25e678969856a38501318db4d420936
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sat Apr 29 13:56:06 2000 +0000

    More updates wrt. the change from tincd->tinc.

commit 23715510149179089952eef0a2d6f87571ac0e7e
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Fri Apr 28 11:33:25 2000 +0000

    Oops! Reference to write_n() removed and changed into neat write() call.

commit bb8fff92e1bc594a085c2cbd12b215d334695feb
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Thu Apr 27 20:57:18 2000 +0000

    Removed write_n() function.

commit 4fec0cc45774ba313d1823cc64c3afdda3204a2e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 27 13:47:51 2000 +0000

    Default config file name is tinc.conf, and pidfile is tinc.pid.

commit eebb708cb29a121ea8d58bb6ca6caf41dea3c3b4
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 27 00:07:17 2000 +0000

    Updated version number to 1.0.

commit 5797d3fcb1ff56ad3ff577f7eb988b70f9d4d709
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 27 00:01:00 2000 +0000

    Filled in the details, license from libblowfish copied.

commit a3ccc15ac0979c4103f98e740b525634e8e17a0a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Apr 26 23:56:22 2000 +0000

    Version to 1.0pre1;
    Create Makefile and build in debian/.

commit d928703db1c4aa6caa6e4fbb0894037b10dce820
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Apr 26 23:23:01 2000 +0000

    Omit TODO.

commit d0ea9c8ff287e879e531af9f1b52529421c0512f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Apr 26 22:42:15 2000 +0000

    Add an entry to dir.

commit e5a7291543d41d435cc0fae56e52dc62a119a225
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Apr 26 22:01:01 2000 +0000

    The make command is in /usr/bin.

commit 44f9449888344866406c75b178eff83b392b3530
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Wed Apr 26 17:42:55 2000 +0000

    Cleanups:
    - Changed recv/send calls into read/write calls for streams
    - Made all sizeof() functions use a variable name instead of type

commit fca84d8a7d116c62423faf88e841daf1bee714e1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Apr 26 14:54:43 2000 +0000

    From Mads Kiilerich.

commit 8efe4874dabdfdf03a747ea98cf38b11cb591ef5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 25 22:15:28 2000 +0000

    Converted every &variable[0] to variable.

commit 643d8712eb2f82bde21f206306cdb6491eee7e08
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 22:00:49 2000 +0000

    Debug level tweaking.

commit 468f1d2efcce53937b7f5e0540269ae18f29ebac
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 25 20:50:59 2000 +0000

    When trying to talk to a host that is in the netmask of a tinc server but
    not the tinc server itself, and no keys have been exchanged yet, the key
    request would be directed to the host instead of the server. Fixed.

commit 6461a4b607f5e422b5809acb772e4bfe810b5570
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 20:42:54 2000 +0000

    *** empty log message ***

commit dad90e82d3c7af95820b1c04903bed7074e2b175
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 25 20:17:44 2000 +0000

    Fixed typo and removed some unnecessary variables.

commit 5b7242285795f5143770b663055b87ebb5dd15b8
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 25 20:10:37 2000 +0000

    Packet queues fixed. They caused the trouble when resending keys.

commit 04db888b1a94a7d63fdf9800cfd722aa9c16cd26
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 19:23:23 2000 +0000

    Create a ChangeLog file, automake requires it.

commit c78b76c53f516cf944ee738fad3e7d4607f282ab
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 19:21:19 2000 +0000

    *** empty log message ***

commit 45b275e2542b4e8e7deac9e5e9eeddacfdbce90f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 19:11:02 2000 +0000

    Initial CVS.

commit 3a3356865267ff4c1e4f7d73f6d1486952d641b5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Tue Apr 25 18:57:23 2000 +0000

    Added checkpoints to beginning and ending of every function.

commit b6bdb9079a9e80b77443efe6c8b6da19e57e8505
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 17:38:54 2000 +0000

    Remove ChangeLog with a `make cvs-clean'.

commit ca373c61944a7bd2fe26faf081edea136104d326
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 17:35:45 2000 +0000

    Don't include TODO in the dist.

commit e1e590fe9a8c5c767933c68979418911f36d3a89
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 15:08:10 2000 +0000

    Propagate CFLAGS from configure to gcc.

commit 8a90de94a1b0e6cdaf51559d44f04a75d5f9ab0e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 15:07:21 2000 +0000

    Delete all the files that are created by autogen.sh on a `make cvs-clean'.

commit 24ee68b683de9937e917898075c62ff5f43ee46a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 10:40:08 2000 +0000

    Spelling fixes.

commit 4d85552c5bf134ada1d1083ec86dabbe41497c4a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 10:27:44 2000 +0000

    Contributed by Mads Kiilerich.

commit 94921d6e57e01b378ab8b1d8ea9cf3da9511fbef
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 10:22:26 2000 +0000

    Generate this Makefile.am from Makefile.am.in.

commit 8c2b6537d32720b38554815181009c3098423414
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 09:43:50 2000 +0000

    *** empty log message ***

commit 03fa76dbf9965cc174eebe8a152307b8fbb63079
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 09:42:52 2000 +0000

    Added Mads Kiilerich, removed Guus Sliepen.

commit 7c665712d69d5a502d4c2f098ad85df3b17bfb92
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 01:45:34 2000 +0000

    Changes largely from Mads Kiilerich.
    Removed section about encryption.

commit ce98ee1ed4121fbbf5d0e13e158511064ced6b16
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 01:26:35 2000 +0000

    Remove test for GNOME.

commit 6c99feb3e3cf6d69bcf52ae87b6c64ddbf3ffca5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 01:25:18 2000 +0000

    Use `make ChangeLog' to create this file from the CVS logs.

commit f9eef5210dbc9c0fe54637cc4c3c0be134a51409
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 01:23:31 2000 +0000

    Don't define HAVE_NAMESPACES and HAVE_STL.

commit ea9d2f379a170077f93569a957c713452768d0a4
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 01:22:01 2000 +0000

    Remove check for bigendianness.

commit 18b204d17a054e991d90b7c4047ea106df64cdaf
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 01:15:28 2000 +0000

    This file is obsolete, most of the ideas are already in echelon.

commit 62d5384ee01ae818906f2f8ba1456372a13a2420
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 01:10:38 2000 +0000

    s/Gnome/tinc/g

commit f0101589959496593db672c6a35704ea5fb33238
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 00:50:48 2000 +0000

    The shell script autogen.sh can create all these removed files, but be
    sure to have autoconf, automake, libtool and more installed.

commit 6990a7455521665d3b67518e3f2297968108190b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 25 00:11:33 2000 +0000

    Don't try to create cipher/idea/Makefile.

commit cfecc82c9a3f5e8c4648eec058da2c6427cd76af
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 24 21:12:32 2000 +0000

    Don't include idea/idea.h.

commit 63540ceff5c7bb7c76d96a4cef4ba803ce915ce1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 24 21:10:33 2000 +0000

    Don't compile in `idea'.

commit 74315f4218ba50cc5ba32b6ecc8e8afa2b5cd704
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 24 20:57:22 2000 +0000

    These files are not needed in release 1.0.

commit 16d581be68bb52c08569e34e8a6b87f66b87e8ee
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Apr 24 09:39:50 2000 +0000

    Bug found! Wrong pointer was used for handling multiple ADD_HOST requests
    at once. (See line 606.)

commit f6802d349d946090bf9d1b6c761077c80065afa5
Author: Guus Sliepen <guus@tinc-vpn.org>
Date:   Mon Apr 24 08:32:57 2000 +0000

    Added extra checks for desynchronized connection lists. Hopefully this will
    fix those strange segmentation faults.

commit 10749179127c681ce040fcf612038174b2bd474a
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 20 22:50:48 2000 +0000

    Added cvs-clean.

commit c92701fcf007b67725d82a23ffaef3e6e5c2b0e1
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 20 19:14:09 2000 +0000

    Keep make dist(dir) happy.

commit 7db17968fc84127212ebba0fbccec1e75ced2bdc
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 20:44:29 2000 +0000

    A short notice from Mads Kiilerich.

commit 2c5a555d7aefcf5699c68cb5d5f00f604b2542c7
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 20:43:24 2000 +0000

    Submitted changes by Mads Kiilerich.

commit 375b668dbc1e0268b49ea12901da72bbf5247ce5
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 20:30:20 2000 +0000

    Include genauth.8 in the distribution.

commit 57d8c30e4cbecea3b4216e4e650c4c0a3e160ed2
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 20:26:49 2000 +0000

    Include the directory redhat in the build process.

commit 0b02ebc4d98182cf79c670e7e556ac7f4f859b75
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 16:04:10 2000 +0000

    Address for bugreports changed to tinc@nl.linux.org.

commit 8770211c84cfb69f71bd204926593900d74ab579
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 15:59:42 2000 +0000

    Updated manpages.

commit 8cdb84951019feb6d4954cd11eb9663c5b9ce363
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 15:59:22 2000 +0000

    New manpage for genauth.

commit d11cfcec74e25ee2b88acea62ca5ef973ab7204b
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Apr 18 15:09:11 2000 +0000

    Submitted by Mads Kiilerich.

commit 93287d2b2c77d4b9e3f85f36ef4f9230fe3bf9b3
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 17 17:04:33 2000 +0000

    Default passphrase length of 1024, added -h/--help options.

commit 9c2ac77594d83a810c53faf6979e0b76006ecd0e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 17 16:59:42 2000 +0000

    Check if stdout is a terminal, if so, print a verbose message.

commit c9246896901ff1ebad91ac399a4ea79fad941f75
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 17 16:52:58 2000 +0000

    Check for an illegal length of passphrase in read_passphrase().

commit baebae274913d912d76ba1d545f337dfb945fc5c
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 17 16:23:29 2000 +0000

    Pass the requested size from xmalloc() and xrealloc() on to xalloc_fail_func()

commit 210a92cae90deb5b4a410b1b7d5c625c5c5f2ffb
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Apr 17 15:38:47 2000 +0000

    Only one round of reading bits out of urandom;
    Reading `bytes' bytes out of it;
    Print a newline after completion.

commit 5b44b91eb408d76af646b031da2364a769b44771
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Wed Apr 12 16:22:39 2000 +0000

    Moved to version number 1.0.

commit 18e044bde3b508c991910218989b4bacc3a4934e
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Thu Apr 6 18:28:29 2000 +0000

    New option -D, don't detach.

commit 523c80c4e35b7ff8ad94b41a6071dbe2b8ff6ec7
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Mar 28 19:16:27 2000 +0000

    Ignore SIGCHLD.

commit f2076e3e7031ac8ad87eb6aab0cea40f379dd0c6
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Tue Mar 28 19:09:52 2000 +0000

    Kill the parent after any error conditions in detach().

commit 98de35c742498878a27fb29becd3b7154525a60f
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Mar 27 22:59:16 2000 +0000

    Upon regeneration, free the old encryption key `securely\' by overwriting it.

commit b50523dc44bbb32f03d24573e195c071cbff3fc4
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Mon Mar 27 22:30:27 2000 +0000

    Get rid of the message `zxnrbl\'.

commit 1243156a5e03a666b36bc4400f1402243a85c9a7
Author: Ivo Timmermans <ivo@lychnis.net>
Date:   Sun Mar 26 00:33:07 2000 +0000

    Initial revision
